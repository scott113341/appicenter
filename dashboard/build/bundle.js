(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var angular = require('angular');
var firebase = require('client-firebase');
var angularfire = require('angularfire-browserify');

var app = angular.module('app', ['firebase','ngAnimate'])

console.log('hello');


},{"angular":2,"angularfire-browserify":4,"client-firebase":5}],2:[function(require,module,exports){
require('./lib/angular.min.js');

module.exports = angular;

},{"./lib/angular.min.js":3}],3:[function(require,module,exports){
/*
 AngularJS v1.2.16
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(O,U,s){'use strict';function t(b){return function(){var a=arguments[0],c,a="["+(b?b+":":"")+a+"] http://errors.angularjs.org/1.2.16/"+(b?b+"/":"")+a;for(c=1;c<arguments.length;c++)a=a+(1==c?"?":"&")+"p"+(c-1)+"="+encodeURIComponent("function"==typeof arguments[c]?arguments[c].toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof arguments[c]?"undefined":"string"!=typeof arguments[c]?JSON.stringify(arguments[c]):arguments[c]);return Error(a)}}function ab(b){if(null==b||Ca(b))return!1;
var a=b.length;return 1===b.nodeType&&a?!0:w(b)||M(b)||0===a||"number"===typeof a&&0<a&&a-1 in b}function q(b,a,c){var d;if(b)if(P(b))for(d in b)"prototype"==d||("length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d))||a.call(c,b[d],d);else if(b.forEach&&b.forEach!==q)b.forEach(a,c);else if(ab(b))for(d=0;d<b.length;d++)a.call(c,b[d],d);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d);return b}function Qb(b){var a=[],c;for(c in b)b.hasOwnProperty(c)&&a.push(c);return a.sort()}function Sc(b,
a,c){for(var d=Qb(b),e=0;e<d.length;e++)a.call(c,b[d[e]],d[e]);return d}function Rb(b){return function(a,c){b(c,a)}}function bb(){for(var b=ka.length,a;b;){b--;a=ka[b].charCodeAt(0);if(57==a)return ka[b]="A",ka.join("");if(90==a)ka[b]="0";else return ka[b]=String.fromCharCode(a+1),ka.join("")}ka.unshift("0");return ka.join("")}function Sb(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function D(b){var a=b.$$hashKey;q(arguments,function(a){a!==b&&q(a,function(a,c){b[c]=a})});Sb(b,a);return b}function Y(b){return parseInt(b,
10)}function Tb(b,a){return D(new (D(function(){},{prototype:b})),a)}function C(){}function Da(b){return b}function aa(b){return function(){return b}}function E(b){return"undefined"===typeof b}function B(b){return"undefined"!==typeof b}function X(b){return null!=b&&"object"===typeof b}function w(b){return"string"===typeof b}function vb(b){return"number"===typeof b}function Na(b){return"[object Date]"===wa.call(b)}function M(b){return"[object Array]"===wa.call(b)}function P(b){return"function"===typeof b}
function cb(b){return"[object RegExp]"===wa.call(b)}function Ca(b){return b&&b.document&&b.location&&b.alert&&b.setInterval}function Tc(b){return!(!b||!(b.nodeName||b.prop&&b.attr&&b.find))}function Uc(b,a,c){var d=[];q(b,function(b,g,f){d.push(a.call(c,b,g,f))});return d}function db(b,a){if(b.indexOf)return b.indexOf(a);for(var c=0;c<b.length;c++)if(a===b[c])return c;return-1}function Oa(b,a){var c=db(b,a);0<=c&&b.splice(c,1);return a}function ba(b,a){if(Ca(b)||b&&b.$evalAsync&&b.$watch)throw Pa("cpws");
if(a){if(b===a)throw Pa("cpi");if(M(b))for(var c=a.length=0;c<b.length;c++)a.push(ba(b[c]));else{c=a.$$hashKey;q(a,function(b,c){delete a[c]});for(var d in b)a[d]=ba(b[d]);Sb(a,c)}}else(a=b)&&(M(b)?a=ba(b,[]):Na(b)?a=new Date(b.getTime()):cb(b)?a=RegExp(b.source):X(b)&&(a=ba(b,{})));return a}function Ub(b,a){a=a||{};for(var c in b)!b.hasOwnProperty(c)||"$"===c.charAt(0)&&"$"===c.charAt(1)||(a[c]=b[c]);return a}function xa(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;
var c=typeof b,d;if(c==typeof a&&"object"==c)if(M(b)){if(!M(a))return!1;if((c=b.length)==a.length){for(d=0;d<c;d++)if(!xa(b[d],a[d]))return!1;return!0}}else{if(Na(b))return Na(a)&&b.getTime()==a.getTime();if(cb(b)&&cb(a))return b.toString()==a.toString();if(b&&b.$evalAsync&&b.$watch||a&&a.$evalAsync&&a.$watch||Ca(b)||Ca(a)||M(a))return!1;c={};for(d in b)if("$"!==d.charAt(0)&&!P(b[d])){if(!xa(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&a[d]!==s&&!P(a[d]))return!1;
return!0}return!1}function Vb(){return U.securityPolicy&&U.securityPolicy.isActive||U.querySelector&&!(!U.querySelector("[ng-csp]")&&!U.querySelector("[data-ng-csp]"))}function eb(b,a){var c=2<arguments.length?ya.call(arguments,2):[];return!P(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,c.concat(ya.call(arguments,0))):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Vc(b,a){var c=a;"string"===typeof b&&"$"===b.charAt(0)?c=
s:Ca(a)?c="$WINDOW":a&&U===a?c="$DOCUMENT":a&&(a.$evalAsync&&a.$watch)&&(c="$SCOPE");return c}function qa(b,a){return"undefined"===typeof b?s:JSON.stringify(b,Vc,a?"  ":null)}function Wb(b){return w(b)?JSON.parse(b):b}function Qa(b){"function"===typeof b?b=!0:b&&0!==b.length?(b=K(""+b),b=!("f"==b||"0"==b||"false"==b||"no"==b||"n"==b||"[]"==b)):b=!1;return b}function ha(b){b=y(b).clone();try{b.empty()}catch(a){}var c=y("<div>").append(b).html();try{return 3===b[0].nodeType?K(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,
function(a,b){return"<"+K(b)})}catch(d){return K(c)}}function Xb(b){try{return decodeURIComponent(b)}catch(a){}}function Yb(b){var a={},c,d;q((b||"").split("&"),function(b){b&&(c=b.split("="),d=Xb(c[0]),B(d)&&(b=B(c[1])?Xb(c[1]):!0,a[d]?M(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))});return a}function Zb(b){var a=[];q(b,function(b,d){M(b)?q(b,function(b){a.push(za(d,!0)+(!0===b?"":"="+za(b,!0)))}):a.push(za(d,!0)+(!0===b?"":"="+za(b,!0)))});return a.length?a.join("&"):""}function wb(b){return za(b,
!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function za(b,a){return encodeURIComponent(b).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,a?"%20":"+")}function Wc(b,a){function c(a){a&&d.push(a)}var d=[b],e,g,f=["ng:app","ng-app","x-ng-app","data-ng-app"],h=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;q(f,function(a){f[a]=!0;c(U.getElementById(a));a=a.replace(":","\\:");b.querySelectorAll&&(q(b.querySelectorAll("."+a),c),q(b.querySelectorAll("."+
a+"\\:"),c),q(b.querySelectorAll("["+a+"]"),c))});q(d,function(a){if(!e){var b=h.exec(" "+a.className+" ");b?(e=a,g=(b[2]||"").replace(/\s+/g,",")):q(a.attributes,function(b){!e&&f[b.name]&&(e=a,g=b.value)})}});e&&a(e,g?[g]:[])}function $b(b,a){var c=function(){b=y(b);if(b.injector()){var c=b[0]===U?"document":ha(b);throw Pa("btstrpd",c);}a=a||[];a.unshift(["$provide",function(a){a.value("$rootElement",b)}]);a.unshift("ng");c=ac(a);c.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",
function(a,b,c,d,e){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return c},d=/^NG_DEFER_BOOTSTRAP!/;if(O&&!d.test(O.name))return c();O.name=O.name.replace(d,"");Ea.resumeBootstrap=function(b){q(b,function(b){a.push(b)});c()}}function fb(b,a){a=a||"_";return b.replace(Xc,function(b,d){return(d?a:"")+b.toLowerCase()})}function xb(b,a,c){if(!b)throw Pa("areq",a||"?",c||"required");return b}function Ra(b,a,c){c&&M(b)&&(b=b[b.length-1]);xb(P(b),a,"not a function, got "+(b&&"object"==typeof b?
b.constructor.name||"Object":typeof b));return b}function Aa(b,a){if("hasOwnProperty"===b)throw Pa("badname",a);}function bc(b,a,c){if(!a)return b;a=a.split(".");for(var d,e=b,g=a.length,f=0;f<g;f++)d=a[f],b&&(b=(e=b)[d]);return!c&&P(b)?eb(e,b):b}function yb(b){var a=b[0];b=b[b.length-1];if(a===b)return y(a);var c=[a];do{a=a.nextSibling;if(!a)break;c.push(a)}while(a!==b);return y(c)}function Yc(b){var a=t("$injector"),c=t("ng");b=b.angular||(b.angular={});b.$$minErr=b.$$minErr||t;return b.module||
(b.module=function(){var b={};return function(e,g,f){if("hasOwnProperty"===e)throw c("badname","module");g&&b.hasOwnProperty(e)&&(b[e]=null);return b[e]||(b[e]=function(){function b(a,d,e){return function(){c[e||"push"]([a,d,arguments]);return n}}if(!g)throw a("nomod",e);var c=[],d=[],m=b("$injector","invoke"),n={_invokeQueue:c,_runBlocks:d,requires:g,name:e,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:b("$provide","value"),constant:b("$provide",
"constant","unshift"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),config:m,run:function(a){d.push(a);return this}};f&&m(f);return n}())}}())}function Zc(b){D(b,{bootstrap:$b,copy:ba,extend:D,equals:xa,element:y,forEach:q,injector:ac,noop:C,bind:eb,toJson:qa,fromJson:Wb,identity:Da,isUndefined:E,isDefined:B,isString:w,isFunction:P,isObject:X,isNumber:vb,isElement:Tc,isArray:M,
version:$c,isDate:Na,lowercase:K,uppercase:Fa,callbacks:{counter:0},$$minErr:t,$$csp:Vb});Sa=Yc(O);try{Sa("ngLocale")}catch(a){Sa("ngLocale",[]).provider("$locale",ad)}Sa("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:bd});a.provider("$compile",cc).directive({a:cd,input:dc,textarea:dc,form:dd,script:ed,select:fd,style:gd,option:hd,ngBind:id,ngBindHtml:jd,ngBindTemplate:kd,ngClass:ld,ngClassEven:md,ngClassOdd:nd,ngCloak:od,ngController:pd,ngForm:qd,ngHide:rd,ngIf:sd,ngInclude:td,
ngInit:ud,ngNonBindable:vd,ngPluralize:wd,ngRepeat:xd,ngShow:yd,ngStyle:zd,ngSwitch:Ad,ngSwitchWhen:Bd,ngSwitchDefault:Cd,ngOptions:Dd,ngTransclude:Ed,ngModel:Fd,ngList:Gd,ngChange:Hd,required:ec,ngRequired:ec,ngValue:Id}).directive({ngInclude:Jd}).directive(zb).directive(fc);a.provider({$anchorScroll:Kd,$animate:Ld,$browser:Md,$cacheFactory:Nd,$controller:Od,$document:Pd,$exceptionHandler:Qd,$filter:gc,$interpolate:Rd,$interval:Sd,$http:Td,$httpBackend:Ud,$location:Vd,$log:Wd,$parse:Xd,$rootScope:Yd,
$q:Zd,$sce:$d,$sceDelegate:ae,$sniffer:be,$templateCache:ce,$timeout:de,$window:ee,$$rAF:fe,$$asyncCallback:ge})}])}function Ta(b){return b.replace(he,function(a,b,d,e){return e?d.toUpperCase():d}).replace(ie,"Moz$1")}function Ab(b,a,c,d){function e(b){var e=c&&b?[this.filter(b)]:[this],l=a,k,m,n,p,r,z;if(!d||null!=b)for(;e.length;)for(k=e.shift(),m=0,n=k.length;m<n;m++)for(p=y(k[m]),l?p.triggerHandler("$destroy"):l=!l,r=0,p=(z=p.children()).length;r<p;r++)e.push(Ga(z[r]));return g.apply(this,arguments)}
var g=Ga.fn[b],g=g.$original||g;e.$original=g;Ga.fn[b]=e}function N(b){if(b instanceof N)return b;w(b)&&(b=ca(b));if(!(this instanceof N)){if(w(b)&&"<"!=b.charAt(0))throw Bb("nosel");return new N(b)}if(w(b)){var a=b;b=U;var c;if(c=je.exec(a))b=[b.createElement(c[1])];else{var d=b,e;b=d.createDocumentFragment();c=[];if(Cb.test(a)){d=b.appendChild(d.createElement("div"));e=(ke.exec(a)||["",""])[1].toLowerCase();e=ea[e]||ea._default;d.innerHTML="<div>&#160;</div>"+e[1]+a.replace(le,"<$1></$2>")+e[2];
d.removeChild(d.firstChild);for(a=e[0];a--;)d=d.lastChild;a=0;for(e=d.childNodes.length;a<e;++a)c.push(d.childNodes[a]);d=b.firstChild;d.textContent=""}else c.push(d.createTextNode(a));b.textContent="";b.innerHTML="";b=c}Db(this,b);y(U.createDocumentFragment()).append(this)}else Db(this,b)}function Eb(b){return b.cloneNode(!0)}function Ha(b){hc(b);var a=0;for(b=b.childNodes||[];a<b.length;a++)Ha(b[a])}function ic(b,a,c,d){if(B(d))throw Bb("offargs");var e=la(b,"events");la(b,"handle")&&(E(a)?q(e,
function(a,c){Fb(b,c,a);delete e[c]}):q(a.split(" "),function(a){E(c)?(Fb(b,a,e[a]),delete e[a]):Oa(e[a]||[],c)}))}function hc(b,a){var c=b[gb],d=Ua[c];d&&(a?delete Ua[c].data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),ic(b)),delete Ua[c],b[gb]=s))}function la(b,a,c){var d=b[gb],d=Ua[d||-1];if(B(c))d||(b[gb]=d=++me,d=Ua[d]={}),d[a]=c;else return d&&d[a]}function jc(b,a,c){var d=la(b,"data"),e=B(c),g=!e&&B(a),f=g&&!X(a);d||f||la(b,"data",d={});if(e)d[a]=c;else if(g){if(f)return d&&d[a];
D(d,a)}else return d}function Gb(b,a){return b.getAttribute?-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+a+" "):!1}function hb(b,a){a&&b.setAttribute&&q(a.split(" "),function(a){b.setAttribute("class",ca((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ca(a)+" "," ")))})}function ib(b,a){if(a&&b.setAttribute){var c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");q(a.split(" "),function(a){a=ca(a);-1===c.indexOf(" "+a+" ")&&
(c+=a+" ")});b.setAttribute("class",ca(c))}}function Db(b,a){if(a){a=a.nodeName||!B(a.length)||Ca(a)?[a]:a;for(var c=0;c<a.length;c++)b.push(a[c])}}function kc(b,a){return jb(b,"$"+(a||"ngController")+"Controller")}function jb(b,a,c){b=y(b);9==b[0].nodeType&&(b=b.find("html"));for(a=M(a)?a:[a];b.length;){for(var d=b[0],e=0,g=a.length;e<g;e++)if((c=b.data(a[e]))!==s)return c;b=y(d.parentNode||11===d.nodeType&&d.host)}}function lc(b){for(var a=0,c=b.childNodes;a<c.length;a++)Ha(c[a]);for(;b.firstChild;)b.removeChild(b.firstChild)}
function mc(b,a){var c=kb[a.toLowerCase()];return c&&nc[b.nodeName]&&c}function ne(b,a){var c=function(c,e){c.preventDefault||(c.preventDefault=function(){c.returnValue=!1});c.stopPropagation||(c.stopPropagation=function(){c.cancelBubble=!0});c.target||(c.target=c.srcElement||U);if(E(c.defaultPrevented)){var g=c.preventDefault;c.preventDefault=function(){c.defaultPrevented=!0;g.call(c)};c.defaultPrevented=!1}c.isDefaultPrevented=function(){return c.defaultPrevented||!1===c.returnValue};var f=Ub(a[e||
c.type]||[]);q(f,function(a){a.call(b,c)});8>=S?(c.preventDefault=null,c.stopPropagation=null,c.isDefaultPrevented=null):(delete c.preventDefault,delete c.stopPropagation,delete c.isDefaultPrevented)};c.elem=b;return c}function Ia(b){var a=typeof b,c;"object"==a&&null!==b?"function"==typeof(c=b.$$hashKey)?c=b.$$hashKey():c===s&&(c=b.$$hashKey=bb()):c=b;return a+":"+c}function Va(b){q(b,this.put,this)}function oc(b){var a,c;"function"==typeof b?(a=b.$inject)||(a=[],b.length&&(c=b.toString().replace(oe,
""),c=c.match(pe),q(c[1].split(qe),function(b){b.replace(re,function(b,c,d){a.push(d)})})),b.$inject=a):M(b)?(c=b.length-1,Ra(b[c],"fn"),a=b.slice(0,c)):Ra(b,"fn",!0);return a}function ac(b){function a(a){return function(b,c){if(X(b))q(b,Rb(a));else return a(b,c)}}function c(a,b){Aa(a,"service");if(P(b)||M(b))b=n.instantiate(b);if(!b.$get)throw Wa("pget",a);return m[a+h]=b}function d(a,b){return c(a,{$get:b})}function e(a){var b=[],c,d,g,h;q(a,function(a){if(!k.get(a)){k.put(a,!0);try{if(w(a))for(c=
Sa(a),b=b.concat(e(c.requires)).concat(c._runBlocks),d=c._invokeQueue,g=0,h=d.length;g<h;g++){var f=d[g],l=n.get(f[0]);l[f[1]].apply(l,f[2])}else P(a)?b.push(n.invoke(a)):M(a)?b.push(n.invoke(a)):Ra(a,"module")}catch(m){throw M(a)&&(a=a[a.length-1]),m.message&&(m.stack&&-1==m.stack.indexOf(m.message))&&(m=m.message+"\n"+m.stack),Wa("modulerr",a,m.stack||m.message||m);}}});return b}function g(a,b){function c(d){if(a.hasOwnProperty(d)){if(a[d]===f)throw Wa("cdep",l.join(" <- "));return a[d]}try{return l.unshift(d),
a[d]=f,a[d]=b(d)}catch(e){throw a[d]===f&&delete a[d],e;}finally{l.shift()}}function d(a,b,e){var g=[],h=oc(a),f,l,k;l=0;for(f=h.length;l<f;l++){k=h[l];if("string"!==typeof k)throw Wa("itkn",k);g.push(e&&e.hasOwnProperty(k)?e[k]:c(k))}a.$inject||(a=a[f]);return a.apply(b,g)}return{invoke:d,instantiate:function(a,b){var c=function(){},e;c.prototype=(M(a)?a[a.length-1]:a).prototype;c=new c;e=d(a,c,b);return X(e)||P(e)?e:c},get:c,annotate:oc,has:function(b){return m.hasOwnProperty(b+h)||a.hasOwnProperty(b)}}}
var f={},h="Provider",l=[],k=new Va,m={$provide:{provider:a(c),factory:a(d),service:a(function(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}),value:a(function(a,b){return d(a,aa(b))}),constant:a(function(a,b){Aa(a,"constant");m[a]=b;p[a]=b}),decorator:function(a,b){var c=n.get(a+h),d=c.$get;c.$get=function(){var a=r.invoke(d,c);return r.invoke(b,null,{$delegate:a})}}}},n=m.$injector=g(m,function(){throw Wa("unpr",l.join(" <- "));}),p={},r=p.$injector=g(p,function(a){a=n.get(a+
h);return r.invoke(a.$get,a)});q(e(b),function(a){r.invoke(a||C)});return r}function Kd(){var b=!0;this.disableAutoScrolling=function(){b=!1};this.$get=["$window","$location","$rootScope",function(a,c,d){function e(a){var b=null;q(a,function(a){b||"a"!==K(a.nodeName)||(b=a)});return b}function g(){var b=c.hash(),d;b?(d=f.getElementById(b))?d.scrollIntoView():(d=e(f.getElementsByName(b)))?d.scrollIntoView():"top"===b&&a.scrollTo(0,0):a.scrollTo(0,0)}var f=a.document;b&&d.$watch(function(){return c.hash()},
function(){d.$evalAsync(g)});return g}]}function ge(){this.$get=["$$rAF","$timeout",function(b,a){return b.supported?function(a){return b(a)}:function(b){return a(b,0,!1)}}]}function se(b,a,c,d){function e(a){try{a.apply(null,ya.call(arguments,1))}finally{if(z--,0===z)for(;u.length;)try{u.pop()()}catch(b){c.error(b)}}}function g(a,b){(function T(){q(F,function(a){a()});v=b(T,a)})()}function f(){x=null;J!=h.url()&&(J=h.url(),q(ma,function(a){a(h.url())}))}var h=this,l=a[0],k=b.location,m=b.history,
n=b.setTimeout,p=b.clearTimeout,r={};h.isMock=!1;var z=0,u=[];h.$$completeOutstandingRequest=e;h.$$incOutstandingRequestCount=function(){z++};h.notifyWhenNoOutstandingRequests=function(a){q(F,function(a){a()});0===z?a():u.push(a)};var F=[],v;h.addPollFn=function(a){E(v)&&g(100,n);F.push(a);return a};var J=k.href,A=a.find("base"),x=null;h.url=function(a,c){k!==b.location&&(k=b.location);m!==b.history&&(m=b.history);if(a){if(J!=a)return J=a,d.history?c?m.replaceState(null,"",a):(m.pushState(null,"",
a),A.attr("href",A.attr("href"))):(x=a,c?k.replace(a):k.href=a),h}else return x||k.href.replace(/%27/g,"'")};var ma=[],L=!1;h.onUrlChange=function(a){if(!L){if(d.history)y(b).on("popstate",f);if(d.hashchange)y(b).on("hashchange",f);else h.addPollFn(f);L=!0}ma.push(a);return a};h.baseHref=function(){var a=A.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var Q={},da="",H=h.baseHref();h.cookies=function(a,b){var d,e,g,h;if(a)b===s?l.cookie=escape(a)+"=;path="+H+";expires=Thu, 01 Jan 1970 00:00:00 GMT":
w(b)&&(d=(l.cookie=escape(a)+"="+escape(b)+";path="+H).length+1,4096<d&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"));else{if(l.cookie!==da)for(da=l.cookie,d=da.split("; "),Q={},g=0;g<d.length;g++)e=d[g],h=e.indexOf("="),0<h&&(a=unescape(e.substring(0,h)),Q[a]===s&&(Q[a]=unescape(e.substring(h+1))));return Q}};h.defer=function(a,b){var c;z++;c=n(function(){delete r[c];e(a)},b||0);r[c]=!0;return c};h.defer.cancel=function(a){return r[a]?(delete r[a],
p(a),e(C),!0):!1}}function Md(){this.$get=["$window","$log","$sniffer","$document",function(b,a,c,d){return new se(b,d,a,c)}]}function Nd(){this.$get=function(){function b(b,d){function e(a){a!=n&&(p?p==a&&(p=a.n):p=a,g(a.n,a.p),g(a,n),n=a,n.n=null)}function g(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw t("$cacheFactory")("iid",b);var f=0,h=D({},d,{id:b}),l={},k=d&&d.capacity||Number.MAX_VALUE,m={},n=null,p=null;return a[b]={put:function(a,b){if(k<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});
e(c)}if(!E(b))return a in l||f++,l[a]=b,f>k&&this.remove(p.key),b},get:function(a){if(k<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return l[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=m[a];if(!b)return;b==n&&(n=b.p);b==p&&(p=b.n);g(b.n,b.p);delete m[a]}delete l[a];f--},removeAll:function(){l={};f=0;m={};n=p=null},destroy:function(){m=h=l=null;delete a[b]},info:function(){return D({},h,{size:f})}}}var a={};b.info=function(){var b={};q(a,function(a,e){b[e]=a.info()});return b};b.get=function(b){return a[b]};
return b}}function ce(){this.$get=["$cacheFactory",function(b){return b("templates")}]}function cc(b,a){var c={},d="Directive",e=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,g=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,f=/^(on[a-z]+|formaction)$/;this.directive=function l(a,e){Aa(a,"directive");w(a)?(xb(e,"directiveFactory"),c.hasOwnProperty(a)||(c[a]=[],b.factory(a+d,["$injector","$exceptionHandler",function(b,d){var e=[];q(c[a],function(c,g){try{var f=b.invoke(c);P(f)?f={compile:aa(f)}:!f.compile&&f.link&&(f.compile=
aa(f.link));f.priority=f.priority||0;f.index=g;f.name=f.name||a;f.require=f.require||f.controller&&f.name;f.restrict=f.restrict||"A";e.push(f)}catch(l){d(l)}});return e}])),c[a].push(e)):q(a,Rb(l));return this};this.aHrefSanitizationWhitelist=function(b){return B(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(b){return B(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()};this.$get=["$injector","$interpolate",
"$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,b,m,n,p,r,z,u,F,v,J,A){function x(a,b,c,d,e){a instanceof y||(a=y(a));q(a,function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=y(b).wrap("<span></span>").parent()[0])});var g=L(a,b,a,c,d,e);ma(a,"ng-scope");return function(b,c,d){xb(b,"scope");var e=c?Ja.clone.call(a):a;q(d,function(a,b){e.data("$"+b+"Controller",a)});d=0;for(var f=e.length;d<f;d++){var l=
e[d].nodeType;1!==l&&9!==l||e.eq(d).data("$scope",b)}c&&c(e,b);g&&g(b,e,e);return e}}function ma(a,b){try{a.addClass(b)}catch(c){}}function L(a,b,c,d,e,g){function f(a,c,d,e){var g,k,m,r,n,p,z;g=c.length;var I=Array(g);for(n=0;n<g;n++)I[n]=c[n];z=n=0;for(p=l.length;n<p;z++)k=I[z],c=l[n++],g=l[n++],m=y(k),c?(c.scope?(r=a.$new(),m.data("$scope",r)):r=a,(m=c.transclude)||!e&&b?c(g,r,k,d,Q(a,m||b)):c(g,r,k,d,e)):g&&g(a,k.childNodes,s,e)}for(var l=[],k,m,r,n,p=0;p<a.length;p++)k=new Hb,m=da(a[p],[],k,
0===p?d:s,e),(g=m.length?ia(m,a[p],k,b,c,null,[],[],g):null)&&g.scope&&ma(y(a[p]),"ng-scope"),k=g&&g.terminal||!(r=a[p].childNodes)||!r.length?null:L(r,g?g.transclude:b),l.push(g,k),n=n||g||k,g=null;return n?f:null}function Q(a,b){return function(c,d,e){var g=!1;c||(c=a.$new(),g=c.$$transcluded=!0);d=b(c,d,e);if(g)d.on("$destroy",eb(c,c.$destroy));return d}}function da(a,b,c,d,f){var k=c.$attr,l;switch(a.nodeType){case 1:T(b,na(Ka(a).toLowerCase()),"E",d,f);var m,r,n;l=a.attributes;for(var p=0,z=
l&&l.length;p<z;p++){var u=!1,F=!1;m=l[p];if(!S||8<=S||m.specified){r=m.name;n=na(r);W.test(n)&&(r=fb(n.substr(6),"-"));var J=n.replace(/(Start|End)$/,"");n===J+"Start"&&(u=r,F=r.substr(0,r.length-5)+"end",r=r.substr(0,r.length-6));n=na(r.toLowerCase());k[n]=r;c[n]=m=ca(m.value);mc(a,n)&&(c[n]=!0);N(a,b,m,n);T(b,n,"A",d,f,u,F)}}a=a.className;if(w(a)&&""!==a)for(;l=g.exec(a);)n=na(l[2]),T(b,n,"C",d,f)&&(c[n]=ca(l[3])),a=a.substr(l.index+l[0].length);break;case 3:t(b,a.nodeValue);break;case 8:try{if(l=
e.exec(a.nodeValue))n=na(l[1]),T(b,n,"M",d,f)&&(c[n]=ca(l[2]))}catch(x){}}b.sort(E);return b}function H(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ja("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return y(d)}function R(a,b,c){return function(d,e,g,f,l){e=H(e[0],b,c);return a(d,e,g,f,l)}}function ia(a,c,d,e,g,f,l,n,p){function u(a,b,c,d){if(a){c&&(a=R(a,c,d));a.require=G.require;if(Q===
G||G.$$isolateScope)a=qc(a,{isolateScope:!0});l.push(a)}if(b){c&&(b=R(b,c,d));b.require=G.require;if(Q===G||G.$$isolateScope)b=qc(b,{isolateScope:!0});n.push(b)}}function F(a,b,c){var d,e="data",g=!1;if(w(a)){for(;"^"==(d=a.charAt(0))||"?"==d;)a=a.substr(1),"^"==d&&(e="inheritedData"),g=g||"?"==d;d=null;c&&"data"===e&&(d=c[a]);d=d||b[e]("$"+a+"Controller");if(!d&&!g)throw ja("ctreq",a,t);}else M(a)&&(d=[],q(a,function(a){d.push(F(a,b,c))}));return d}function J(a,e,g,f,p){function u(a,b){var c;2>arguments.length&&
(b=a,a=s);D&&(c=lb);return p(a,b,c)}var I,x,v,A,R,H,lb={},da;I=c===g?d:Ub(d,new Hb(y(g),d.$attr));x=I.$$element;if(Q){var T=/^\s*([@=&])(\??)\s*(\w*)\s*$/;f=y(g);H=e.$new(!0);ia&&ia===Q.$$originalDirective?f.data("$isolateScope",H):f.data("$isolateScopeNoTemplate",H);ma(f,"ng-isolate-scope");q(Q.scope,function(a,c){var d=a.match(T)||[],g=d[3]||c,f="?"==d[2],d=d[1],l,m,n,p;H.$$isolateBindings[c]=d+g;switch(d){case "@":I.$observe(g,function(a){H[c]=a});I.$$observers[g].$$scope=e;I[g]&&(H[c]=b(I[g])(e));
break;case "=":if(f&&!I[g])break;m=r(I[g]);p=m.literal?xa:function(a,b){return a===b};n=m.assign||function(){l=H[c]=m(e);throw ja("nonassign",I[g],Q.name);};l=H[c]=m(e);H.$watch(function(){var a=m(e);p(a,H[c])||(p(a,l)?n(e,a=H[c]):H[c]=a);return l=a},null,m.literal);break;case "&":m=r(I[g]);H[c]=function(a){return m(e,a)};break;default:throw ja("iscp",Q.name,c,a);}})}da=p&&u;L&&q(L,function(a){var b={$scope:a===Q||a.$$isolateScope?H:e,$element:x,$attrs:I,$transclude:da},c;R=a.controller;"@"==R&&(R=
I[a.name]);c=z(R,b);lb[a.name]=c;D||x.data("$"+a.name+"Controller",c);a.controllerAs&&(b.$scope[a.controllerAs]=c)});f=0;for(v=l.length;f<v;f++)try{A=l[f],A(A.isolateScope?H:e,x,I,A.require&&F(A.require,x,lb),da)}catch(G){m(G,ha(x))}f=e;Q&&(Q.template||null===Q.templateUrl)&&(f=H);a&&a(f,g.childNodes,s,p);for(f=n.length-1;0<=f;f--)try{A=n[f],A(A.isolateScope?H:e,x,I,A.require&&F(A.require,x,lb),da)}catch(B){m(B,ha(x))}}p=p||{};for(var v=-Number.MAX_VALUE,A,L=p.controllerDirectives,Q=p.newIsolateScopeDirective,
ia=p.templateDirective,T=p.nonTlbTranscludeDirective,E=!1,D=p.hasElementTranscludeDirective,Z=d.$$element=y(c),G,t,V,Xa=e,O,N=0,S=a.length;N<S;N++){G=a[N];var ra=G.$$start,W=G.$$end;ra&&(Z=H(c,ra,W));V=s;if(v>G.priority)break;if(V=G.scope)A=A||G,G.templateUrl||(K("new/isolated scope",Q,G,Z),X(V)&&(Q=G));t=G.name;!G.templateUrl&&G.controller&&(V=G.controller,L=L||{},K("'"+t+"' controller",L[t],G,Z),L[t]=G);if(V=G.transclude)E=!0,G.$$tlb||(K("transclusion",T,G,Z),T=G),"element"==V?(D=!0,v=G.priority,
V=H(c,ra,W),Z=d.$$element=y(U.createComment(" "+t+": "+d[t]+" ")),c=Z[0],mb(g,y(ya.call(V,0)),c),Xa=x(V,e,v,f&&f.name,{nonTlbTranscludeDirective:T})):(V=y(Eb(c)).contents(),Z.empty(),Xa=x(V,e));if(G.template)if(K("template",ia,G,Z),ia=G,V=P(G.template)?G.template(Z,d):G.template,V=Y(V),G.replace){f=G;V=Cb.test(V)?y(V):[];c=V[0];if(1!=V.length||1!==c.nodeType)throw ja("tplrt",t,"");mb(g,Z,c);S={$attr:{}};V=da(c,[],S);var $=a.splice(N+1,a.length-(N+1));Q&&pc(V);a=a.concat(V).concat($);B(d,S);S=a.length}else Z.html(V);
if(G.templateUrl)K("template",ia,G,Z),ia=G,G.replace&&(f=G),J=C(a.splice(N,a.length-N),Z,d,g,Xa,l,n,{controllerDirectives:L,newIsolateScopeDirective:Q,templateDirective:ia,nonTlbTranscludeDirective:T}),S=a.length;else if(G.compile)try{O=G.compile(Z,d,Xa),P(O)?u(null,O,ra,W):O&&u(O.pre,O.post,ra,W)}catch(aa){m(aa,ha(Z))}G.terminal&&(J.terminal=!0,v=Math.max(v,G.priority))}J.scope=A&&!0===A.scope;J.transclude=E&&Xa;p.hasElementTranscludeDirective=D;return J}function pc(a){for(var b=0,c=a.length;b<c;b++)a[b]=
Tb(a[b],{$$isolateScope:!0})}function T(b,e,g,f,k,n,r){if(e===k)return null;k=null;if(c.hasOwnProperty(e)){var p;e=a.get(e+d);for(var z=0,u=e.length;z<u;z++)try{p=e[z],(f===s||f>p.priority)&&-1!=p.restrict.indexOf(g)&&(n&&(p=Tb(p,{$$start:n,$$end:r})),b.push(p),k=p)}catch(F){m(F)}}return k}function B(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;q(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});q(b,function(b,g){"class"==g?(ma(e,b),a["class"]=(a["class"]?
a["class"]+" ":"")+b):"style"==g?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==g.charAt(0)||a.hasOwnProperty(g)||(a[g]=b,d[g]=c[g])})}function C(a,b,c,d,e,g,f,l){var k=[],m,r,z=b[0],u=a.shift(),F=D({},u,{templateUrl:null,transclude:null,replace:null,$$originalDirective:u}),x=P(u.templateUrl)?u.templateUrl(b,c):u.templateUrl;b.empty();n.get(v.getTrustedResourceUrl(x),{cache:p}).success(function(n){var p,J;n=Y(n);if(u.replace){n=Cb.test(n)?y(n):[];p=n[0];if(1!=n.length||
1!==p.nodeType)throw ja("tplrt",u.name,x);n={$attr:{}};mb(d,b,p);var v=da(p,[],n);X(u.scope)&&pc(v);a=v.concat(a);B(c,n)}else p=z,b.html(n);a.unshift(F);m=ia(a,p,c,e,b,u,g,f,l);q(d,function(a,c){a==p&&(d[c]=b[0])});for(r=L(b[0].childNodes,e);k.length;){n=k.shift();J=k.shift();var A=k.shift(),R=k.shift(),v=b[0];if(J!==z){var H=J.className;l.hasElementTranscludeDirective&&u.replace||(v=Eb(p));mb(A,y(J),v);ma(y(v),H)}J=m.transclude?Q(n,m.transclude):R;m(r,n,v,d,J)}k=null}).error(function(a,b,c,d){throw ja("tpload",
d.url);});return function(a,b,c,d,e){k?(k.push(b),k.push(c),k.push(d),k.push(e)):m(r,b,c,d,e)}}function E(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function K(a,b,c,d){if(b)throw ja("multidir",b.name,c.name,a,ha(d));}function t(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:aa(function(a,b){var c=b.parent(),e=c.data("$binding")||[];e.push(d);ma(c.data("$binding",e),"ng-binding");a.$watch(d,function(a){b[0].nodeValue=a})})})}function O(a,b){if("srcdoc"==
b)return v.HTML;var c=Ka(a);if("xlinkHref"==b||"FORM"==c&&"action"==b||"IMG"!=c&&("src"==b||"ngSrc"==b))return v.RESOURCE_URL}function N(a,c,d,e){var g=b(d,!0);if(g){if("multiple"===e&&"SELECT"===Ka(a))throw ja("selmulti",ha(a));c.push({priority:100,compile:function(){return{pre:function(c,d,l){d=l.$$observers||(l.$$observers={});if(f.test(e))throw ja("nodomevents");if(g=b(l[e],!0,O(a,e)))l[e]=g(c),(d[e]||(d[e]=[])).$$inter=!0,(l.$$observers&&l.$$observers[e].$$scope||c).$watch(g,function(a,b){"class"===
e&&a!=b?l.$updateClass(a,b):l.$set(e,a)})}}}})}}function mb(a,b,c){var d=b[0],e=b.length,g=d.parentNode,f,l;if(a)for(f=0,l=a.length;f<l;f++)if(a[f]==d){a[f++]=c;l=f+e-1;for(var k=a.length;f<k;f++,l++)l<k?a[f]=a[l]:delete a[f];a.length-=e-1;break}g&&g.replaceChild(c,d);a=U.createDocumentFragment();a.appendChild(d);c[y.expando]=d[y.expando];d=1;for(e=b.length;d<e;d++)g=b[d],y(g).remove(),a.appendChild(g),delete b[d];b[0]=c;b.length=1}function qc(a,b){return D(function(){return a.apply(null,arguments)},
a,b)}var Hb=function(a,b){this.$$element=a;this.$attr=b||{}};Hb.prototype={$normalize:na,$addClass:function(a){a&&0<a.length&&J.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&J.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=rc(a,b),d=rc(b,a);0===c.length?J.removeClass(this.$$element,d):0===d.length?J.addClass(this.$$element,c):J.setClass(this.$$element,c,d)},$set:function(a,b,c,d){var e=mc(this.$$element[0],a);e&&(this.$$element.prop(a,b),d=e);this[a]=b;d?this.$attr[a]=
d:(d=this.$attr[a])||(this.$attr[a]=d=fb(a,"-"));e=Ka(this.$$element);if("A"===e&&"href"===a||"IMG"===e&&"src"===a)this[a]=b=A(b,"src"===a);!1!==c&&(null===b||b===s?this.$$element.removeAttr(d):this.$$element.attr(d,b));(c=this.$$observers)&&q(c[a],function(a){try{a(b)}catch(c){m(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);e.push(b);u.$evalAsync(function(){e.$$inter||b(c[a])});return b}};var Z=b.startSymbol(),ra=b.endSymbol(),Y="{{"==Z||"}}"==ra?
Da:function(a){return a.replace(/\{\{/g,Z).replace(/}}/g,ra)},W=/^ngAttr[A-Z]/;return x}]}function na(b){return Ta(b.replace(te,""))}function rc(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),g=0;a:for(;g<d.length;g++){for(var f=d[g],h=0;h<e.length;h++)if(f==e[h])continue a;c+=(0<c.length?" ":"")+f}return c}function Od(){var b={},a=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(a,d){Aa(a,"controller");X(a)?D(b,a):b[a]=d};this.$get=["$injector","$window",function(c,d){return function(e,g){var f,
h,l;w(e)&&(f=e.match(a),h=f[1],l=f[3],e=b.hasOwnProperty(h)?b[h]:bc(g.$scope,h,!0)||bc(d,h,!0),Ra(e,h,!0));f=c.instantiate(e,g);if(l){if(!g||"object"!=typeof g.$scope)throw t("$controller")("noscp",h||e.name,l);g.$scope[l]=f}return f}}]}function Pd(){this.$get=["$window",function(b){return y(b.document)}]}function Qd(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function sc(b){var a={},c,d,e;if(!b)return a;q(b.split("\n"),function(b){e=b.indexOf(":");c=K(ca(b.substr(0,
e)));d=ca(b.substr(e+1));c&&(a[c]=a[c]?a[c]+(", "+d):d)});return a}function tc(b){var a=X(b)?b:s;return function(c){a||(a=sc(b));return c?a[K(c)]||null:a}}function uc(b,a,c){if(P(c))return c(b,a);q(c,function(c){b=c(b,a)});return b}function Td(){var b=/^\s*(\[|\{[^\{])/,a=/[\}\]]\s*$/,c=/^\)\]\}',?\n/,d={"Content-Type":"application/json;charset=utf-8"},e=this.defaults={transformResponse:[function(d){w(d)&&(d=d.replace(c,""),b.test(d)&&a.test(d)&&(d=Wb(d)));return d}],transformRequest:[function(a){return X(a)&&
"[object File]"!==wa.call(a)&&"[object Blob]"!==wa.call(a)?qa(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ba(d),put:ba(d),patch:ba(d)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},g=this.interceptors=[],f=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,c,d,n,p){function r(a){function c(a){var b=D({},a,{data:uc(a.data,a.headers,d.transformResponse)});return 200<=a.status&&300>a.status?
b:n.reject(b)}var d={method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},g=function(a){function b(a){var c;q(a,function(b,d){P(b)&&(c=b(),null!=c?a[d]=c:delete a[d])})}var c=e.headers,d=D({},a.headers),g,f,c=D({},c.common,c[K(a.method)]);b(c);b(d);a:for(g in c){a=K(g);for(f in d)if(K(f)===a)continue a;d[g]=c[g]}return d}(a);D(d,a);d.headers=g;d.method=Fa(d.method);(a=Ib(d.url)?b.cookies()[d.xsrfCookieName||e.xsrfCookieName]:s)&&(g[d.xsrfHeaderName||e.xsrfHeaderName]=
a);var f=[function(a){g=a.headers;var b=uc(a.data,tc(g),a.transformRequest);E(a.data)&&q(g,function(a,b){"content-type"===K(b)&&delete g[b]});E(a.withCredentials)&&!E(e.withCredentials)&&(a.withCredentials=e.withCredentials);return z(a,b,g).then(c,c)},s],h=n.when(d);for(q(v,function(a){(a.request||a.requestError)&&f.unshift(a.request,a.requestError);(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var k=f.shift(),h=h.then(a,k)}h.success=function(a){h.then(function(b){a(b.data,
b.status,b.headers,d)});return h};h.error=function(a){h.then(null,function(b){a(b.data,b.status,b.headers,d)});return h};return h}function z(b,c,g){function f(a,b,c,e){v&&(200<=a&&300>a?v.put(s,[a,b,sc(c),e]):v.remove(s));l(b,a,c,e);d.$$phase||d.$apply()}function l(a,c,d,e){c=Math.max(c,0);(200<=c&&300>c?p.resolve:p.reject)({data:a,status:c,headers:tc(d),config:b,statusText:e})}function k(){var a=db(r.pendingRequests,b);-1!==a&&r.pendingRequests.splice(a,1)}var p=n.defer(),z=p.promise,v,q,s=u(b.url,
b.params);r.pendingRequests.push(b);z.then(k,k);(b.cache||e.cache)&&(!1!==b.cache&&"GET"==b.method)&&(v=X(b.cache)?b.cache:X(e.cache)?e.cache:F);if(v)if(q=v.get(s),B(q)){if(q.then)return q.then(k,k),q;M(q)?l(q[1],q[0],ba(q[2]),q[3]):l(q,200,{},"OK")}else v.put(s,z);E(q)&&a(b.method,s,c,f,g,b.timeout,b.withCredentials,b.responseType);return z}function u(a,b){if(!b)return a;var c=[];Sc(b,function(a,b){null===a||E(a)||(M(a)||(a=[a]),q(a,function(a){X(a)&&(a=qa(a));c.push(za(b)+"="+za(a))}))});0<c.length&&
(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&"));return a}var F=c("$http"),v=[];q(g,function(a){v.unshift(w(a)?p.get(a):p.invoke(a))});q(f,function(a,b){var c=w(a)?p.get(a):p.invoke(a);v.splice(b,0,{response:function(a){return c(n.when(a))},responseError:function(a){return c(n.reject(a))}})});r.pendingRequests=[];(function(a){q(arguments,function(a){r[a]=function(b,c){return r(D(c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){q(arguments,function(a){r[a]=function(b,c,d){return r(D(d||
{},{method:a,url:b,data:c}))}})})("post","put");r.defaults=e;return r}]}function ue(b){if(8>=S&&(!b.match(/^(get|post|head|put|delete|options)$/i)||!O.XMLHttpRequest))return new O.ActiveXObject("Microsoft.XMLHTTP");if(O.XMLHttpRequest)return new O.XMLHttpRequest;throw t("$httpBackend")("noxhr");}function Ud(){this.$get=["$browser","$window","$document",function(b,a,c){return ve(b,ue,b.defer,a.angular.callbacks,c[0])}]}function ve(b,a,c,d,e){function g(a,b){var c=e.createElement("script"),d=function(){c.onreadystatechange=
c.onload=c.onerror=null;e.body.removeChild(c);b&&b()};c.type="text/javascript";c.src=a;S&&8>=S?c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&d()}:c.onload=c.onerror=function(){d()};e.body.appendChild(c);return d}var f=-1;return function(e,l,k,m,n,p,r,z){function u(){v=f;A&&A();x&&x.abort()}function F(a,d,e,g,f){L&&c.cancel(L);A=x=null;0===d&&(d=e?200:"file"==sa(l).protocol?404:0);a(1223===d?204:d,e,g,f||"");b.$$completeOutstandingRequest(C)}var v;b.$$incOutstandingRequestCount();
l=l||b.url();if("jsonp"==K(e)){var J="_"+(d.counter++).toString(36);d[J]=function(a){d[J].data=a};var A=g(l.replace("JSON_CALLBACK","angular.callbacks."+J),function(){d[J].data?F(m,200,d[J].data):F(m,v||-2);d[J]=Ea.noop})}else{var x=a(e);x.open(e,l,!0);q(n,function(a,b){B(a)&&x.setRequestHeader(b,a)});x.onreadystatechange=function(){if(x&&4==x.readyState){var a=null,b=null;v!==f&&(a=x.getAllResponseHeaders(),b="response"in x?x.response:x.responseText);F(m,v||x.status,b,a,x.statusText||"")}};r&&(x.withCredentials=
!0);if(z)try{x.responseType=z}catch(s){if("json"!==z)throw s;}x.send(k||null)}if(0<p)var L=c(u,p);else p&&p.then&&p.then(u)}}function Rd(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b};this.endSymbol=function(b){return b?(a=b,this):a};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function g(g,k,m){for(var n,p,r=0,z=[],u=g.length,F=!1,v=[];r<u;)-1!=(n=g.indexOf(b,r))&&-1!=(p=g.indexOf(a,n+f))?(r!=n&&z.push(g.substring(r,n)),z.push(r=c(F=g.substring(n+f,p))),
r.exp=F,r=p+h,F=!0):(r!=u&&z.push(g.substring(r)),r=u);(u=z.length)||(z.push(""),u=1);if(m&&1<z.length)throw vc("noconcat",g);if(!k||F)return v.length=u,r=function(a){try{for(var b=0,c=u,f;b<c;b++)"function"==typeof(f=z[b])&&(f=f(a),f=m?e.getTrusted(m,f):e.valueOf(f),null===f||E(f)?f="":"string"!=typeof f&&(f=qa(f))),v[b]=f;return v.join("")}catch(h){a=vc("interr",g,h.toString()),d(a)}},r.exp=g,r.parts=z,r}var f=b.length,h=a.length;g.startSymbol=function(){return b};g.endSymbol=function(){return a};
return g}]}function Sd(){this.$get=["$rootScope","$window","$q",function(b,a,c){function d(d,f,h,l){var k=a.setInterval,m=a.clearInterval,n=c.defer(),p=n.promise,r=0,z=B(l)&&!l;h=B(h)?h:0;p.then(null,null,d);p.$$intervalId=k(function(){n.notify(r++);0<h&&r>=h&&(n.resolve(r),m(p.$$intervalId),delete e[p.$$intervalId]);z||b.$apply()},f);e[p.$$intervalId]=n;return p}var e={};d.cancel=function(a){return a&&a.$$intervalId in e?(e[a.$$intervalId].reject("canceled"),clearInterval(a.$$intervalId),delete e[a.$$intervalId],
!0):!1};return d}]}function ad(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(b){return 1===b?"one":"other"}}}}function wc(b){b=b.split("/");for(var a=b.length;a--;)b[a]=wb(b[a]);return b.join("/")}function xc(b,a,c){b=sa(b,c);a.$$protocol=
b.protocol;a.$$host=b.hostname;a.$$port=Y(b.port)||we[b.protocol]||null}function yc(b,a,c){var d="/"!==b.charAt(0);d&&(b="/"+b);b=sa(b,c);a.$$path=decodeURIComponent(d&&"/"===b.pathname.charAt(0)?b.pathname.substring(1):b.pathname);a.$$search=Yb(b.search);a.$$hash=decodeURIComponent(b.hash);a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function oa(b,a){if(0===a.indexOf(b))return a.substr(b.length)}function Ya(b){var a=b.indexOf("#");return-1==a?b:b.substr(0,a)}function Jb(b){return b.substr(0,
Ya(b).lastIndexOf("/")+1)}function zc(b,a){this.$$html5=!0;a=a||"";var c=Jb(b);xc(b,this,b);this.$$parse=function(a){var e=oa(c,a);if(!w(e))throw Kb("ipthprfx",a,c);yc(e,this,b);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Zb(this.$$search),b=this.$$hash?"#"+wb(this.$$hash):"";this.$$url=wc(this.$$path)+(a?"?"+a:"")+b;this.$$absUrl=c+this.$$url.substr(1)};this.$$rewrite=function(d){var e;if((e=oa(b,d))!==s)return d=e,(e=oa(a,e))!==s?c+(oa("/",e)||e):b+d;if((e=oa(c,
d))!==s)return c+e;if(c==d+"/")return c}}function Lb(b,a){var c=Jb(b);xc(b,this,b);this.$$parse=function(d){var e=oa(b,d)||oa(c,d),e="#"==e.charAt(0)?oa(a,e):this.$$html5?e:"";if(!w(e))throw Kb("ihshprfx",d,a);yc(e,this,b);d=this.$$path;var g=/^\/?.*?:(\/.*)/;0===e.indexOf(b)&&(e=e.replace(b,""));g.exec(e)||(d=(e=g.exec(d))?e[1]:d);this.$$path=d;this.$$compose()};this.$$compose=function(){var c=Zb(this.$$search),e=this.$$hash?"#"+wb(this.$$hash):"";this.$$url=wc(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=
b+(this.$$url?a+this.$$url:"")};this.$$rewrite=function(a){if(Ya(b)==Ya(a))return a}}function Ac(b,a){this.$$html5=!0;Lb.apply(this,arguments);var c=Jb(b);this.$$rewrite=function(d){var e;if(b==Ya(d))return d;if(e=oa(c,d))return b+a+e;if(c===d+"/")return c}}function nb(b){return function(){return this[b]}}function Bc(b,a){return function(c){if(E(c))return this[b];this[b]=a(c);this.$$compose();return this}}function Vd(){var b="",a=!1;this.hashPrefix=function(a){return B(a)?(b=a,this):b};this.html5Mode=
function(b){return B(b)?(a=b,this):a};this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(c,d,e,g){function f(a){c.$broadcast("$locationChangeSuccess",h.absUrl(),a)}var h,l=d.baseHref(),k=d.url();a?(l=k.substring(0,k.indexOf("/",k.indexOf("//")+2))+(l||"/"),e=e.history?zc:Ac):(l=Ya(k),e=Lb);h=new e(l,"#"+b);h.$$parse(h.$$rewrite(k));g.on("click",function(a){if(!a.ctrlKey&&!a.metaKey&&2!=a.which){for(var b=y(a.target);"a"!==K(b[0].nodeName);)if(b[0]===g[0]||!(b=b.parent())[0])return;
var e=b.prop("href");X(e)&&"[object SVGAnimatedString]"===e.toString()&&(e=sa(e.animVal).href);var f=h.$$rewrite(e);e&&(!b.attr("target")&&f&&!a.isDefaultPrevented())&&(a.preventDefault(),f!=d.url()&&(h.$$parse(f),c.$apply(),O.angular["ff-684208-preventDefault"]=!0))}});h.absUrl()!=k&&d.url(h.absUrl(),!0);d.onUrlChange(function(a){h.absUrl()!=a&&(c.$evalAsync(function(){var b=h.absUrl();h.$$parse(a);c.$broadcast("$locationChangeStart",a,b).defaultPrevented?(h.$$parse(b),d.url(b)):f(b)}),c.$$phase||
c.$digest())});var m=0;c.$watch(function(){var a=d.url(),b=h.$$replace;m&&a==h.absUrl()||(m++,c.$evalAsync(function(){c.$broadcast("$locationChangeStart",h.absUrl(),a).defaultPrevented?h.$$parse(a):(d.url(h.absUrl(),b),f(a))}));h.$$replace=!1;return m});return h}]}function Wd(){var b=!0,a=this;this.debugEnabled=function(a){return B(a)?(b=a,this):b};this.$get=["$window",function(c){function d(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:
a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=c.console||{},e=b[a]||b.log||C;a=!1;try{a=!!e.apply}catch(l){}return a?function(){var a=[];q(arguments,function(b){a.push(d(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,arguments)}}()}}]}function fa(b,a){if("constructor"===b)throw Ba("isecfld",a);return b}function Za(b,
a){if(b){if(b.constructor===b)throw Ba("isecfn",a);if(b.document&&b.location&&b.alert&&b.setInterval)throw Ba("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw Ba("isecdom",a);}return b}function ob(b,a,c,d,e){e=e||{};a=a.split(".");for(var g,f=0;1<a.length;f++){g=fa(a.shift(),d);var h=b[g];h||(h={},b[g]=h);b=h;b.then&&e.unwrapPromises&&(ta(d),"$$v"in b||function(a){a.then(function(b){a.$$v=b})}(b),b.$$v===s&&(b.$$v={}),b=b.$$v)}g=fa(a.shift(),d);return b[g]=c}function Cc(b,
a,c,d,e,g,f){fa(b,g);fa(a,g);fa(c,g);fa(d,g);fa(e,g);return f.unwrapPromises?function(f,l){var k=l&&l.hasOwnProperty(b)?l:f,m;if(null==k)return k;(k=k[b])&&k.then&&(ta(g),"$$v"in k||(m=k,m.$$v=s,m.then(function(a){m.$$v=a})),k=k.$$v);if(!a)return k;if(null==k)return s;(k=k[a])&&k.then&&(ta(g),"$$v"in k||(m=k,m.$$v=s,m.then(function(a){m.$$v=a})),k=k.$$v);if(!c)return k;if(null==k)return s;(k=k[c])&&k.then&&(ta(g),"$$v"in k||(m=k,m.$$v=s,m.then(function(a){m.$$v=a})),k=k.$$v);if(!d)return k;if(null==
k)return s;(k=k[d])&&k.then&&(ta(g),"$$v"in k||(m=k,m.$$v=s,m.then(function(a){m.$$v=a})),k=k.$$v);if(!e)return k;if(null==k)return s;(k=k[e])&&k.then&&(ta(g),"$$v"in k||(m=k,m.$$v=s,m.then(function(a){m.$$v=a})),k=k.$$v);return k}:function(g,f){var k=f&&f.hasOwnProperty(b)?f:g;if(null==k)return k;k=k[b];if(!a)return k;if(null==k)return s;k=k[a];if(!c)return k;if(null==k)return s;k=k[c];if(!d)return k;if(null==k)return s;k=k[d];return e?null==k?s:k=k[e]:k}}function xe(b,a){fa(b,a);return function(a,
d){return null==a?s:(d&&d.hasOwnProperty(b)?d:a)[b]}}function ye(b,a,c){fa(b,c);fa(a,c);return function(c,e){if(null==c)return s;c=(e&&e.hasOwnProperty(b)?e:c)[b];return null==c?s:c[a]}}function Dc(b,a,c){if(Mb.hasOwnProperty(b))return Mb[b];var d=b.split("."),e=d.length,g;if(a.unwrapPromises||1!==e)if(a.unwrapPromises||2!==e)if(a.csp)g=6>e?Cc(d[0],d[1],d[2],d[3],d[4],c,a):function(b,g){var f=0,h;do h=Cc(d[f++],d[f++],d[f++],d[f++],d[f++],c,a)(b,g),g=s,b=h;while(f<e);return h};else{var f="var p;\n";
q(d,function(b,d){fa(b,c);f+="if(s == null) return undefined;\ns="+(d?"s":'((k&&k.hasOwnProperty("'+b+'"))?k:s)')+'["'+b+'"];\n'+(a.unwrapPromises?'if (s && s.then) {\n pw("'+c.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")});var f=f+"return s;",h=new Function("s","k","pw",f);h.toString=aa(f);g=a.unwrapPromises?function(a,b){return h(a,b,ta)}:h}else g=ye(d[0],d[1],c);else g=xe(d[0],c);"hasOwnProperty"!==
b&&(Mb[b]=g);return g}function Xd(){var b={},a={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(b){return B(b)?(a.unwrapPromises=!!b,this):a.unwrapPromises};this.logPromiseWarnings=function(b){return B(b)?(a.logPromiseWarnings=b,this):a.logPromiseWarnings};this.$get=["$filter","$sniffer","$log",function(c,d,e){a.csp=d.csp;ta=function(b){a.logPromiseWarnings&&!Ec.hasOwnProperty(b)&&(Ec[b]=!0,e.warn("[$parse] Promise found in the expression `"+b+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))};
return function(d){var e;switch(typeof d){case "string":if(b.hasOwnProperty(d))return b[d];e=new Nb(a);e=(new $a(e,c,a)).parse(d,!1);"hasOwnProperty"!==d&&(b[d]=e);return e;case "function":return d;default:return C}}}]}function Zd(){this.$get=["$rootScope","$exceptionHandler",function(b,a){return ze(function(a){b.$evalAsync(a)},a)}]}function ze(b,a){function c(a){return a}function d(a){return f(a)}var e=function(){var f=[],k,m;return m={resolve:function(a){if(f){var c=f;f=s;k=g(a);c.length&&b(function(){for(var a,
b=0,d=c.length;b<d;b++)a=c[b],k.then(a[0],a[1],a[2])})}},reject:function(a){m.resolve(h(a))},notify:function(a){if(f){var c=f;f.length&&b(function(){for(var b,d=0,e=c.length;d<e;d++)b=c[d],b[2](a)})}},promise:{then:function(b,g,h){var m=e(),u=function(d){try{m.resolve((P(b)?b:c)(d))}catch(e){m.reject(e),a(e)}},F=function(b){try{m.resolve((P(g)?g:d)(b))}catch(c){m.reject(c),a(c)}},v=function(b){try{m.notify((P(h)?h:c)(b))}catch(d){a(d)}};f?f.push([u,F,v]):k.then(u,F,v);return m.promise},"catch":function(a){return this.then(null,
a)},"finally":function(a){function b(a,c){var d=e();c?d.resolve(a):d.reject(a);return d.promise}function d(e,g){var f=null;try{f=(a||c)()}catch(h){return b(h,!1)}return f&&P(f.then)?f.then(function(){return b(e,g)},function(a){return b(a,!1)}):b(e,g)}return this.then(function(a){return d(a,!0)},function(a){return d(a,!1)})}}}},g=function(a){return a&&P(a.then)?a:{then:function(c){var d=e();b(function(){d.resolve(c(a))});return d.promise}}},f=function(a){var b=e();b.reject(a);return b.promise},h=function(c){return{then:function(g,
f){var h=e();b(function(){try{h.resolve((P(f)?f:d)(c))}catch(b){h.reject(b),a(b)}});return h.promise}}};return{defer:e,reject:f,when:function(h,k,m,n){var p=e(),r,z=function(b){try{return(P(k)?k:c)(b)}catch(d){return a(d),f(d)}},u=function(b){try{return(P(m)?m:d)(b)}catch(c){return a(c),f(c)}},F=function(b){try{return(P(n)?n:c)(b)}catch(d){a(d)}};b(function(){g(h).then(function(a){r||(r=!0,p.resolve(g(a).then(z,u,F)))},function(a){r||(r=!0,p.resolve(u(a)))},function(a){r||p.notify(F(a))})});return p.promise},
all:function(a){var b=e(),c=0,d=M(a)?[]:{};q(a,function(a,e){c++;g(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise}}}function fe(){this.$get=["$window","$timeout",function(b,a){var c=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame,d=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,e=!!c,g=e?
function(a){var b=c(a);return function(){d(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};g.supported=e;return g}]}function Yd(){var b=10,a=t("$rootScope"),c=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,e,g,f){function h(){this.$id=bb();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this["this"]=this.$root=this;
this.$$destroyed=!1;this.$$asyncQueue=[];this.$$postDigestQueue=[];this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings={}}function l(b){if(p.$$phase)throw a("inprog",p.$$phase);p.$$phase=b}function k(a,b){var c=g(a);Ra(c,b);return c}function m(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function n(){}h.prototype={constructor:h,$new:function(a){a?(a=new h,a.$root=this.$root,a.$$asyncQueue=this.$$asyncQueue,a.$$postDigestQueue=
this.$$postDigestQueue):(a=function(){},a.prototype=this,a=new a,a.$id=bb());a["this"]=a;a.$$listeners={};a.$$listenerCount={};a.$parent=this;a.$$watchers=a.$$nextSibling=a.$$childHead=a.$$childTail=null;a.$$prevSibling=this.$$childTail;this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=a:this.$$childHead=this.$$childTail=a;return a},$watch:function(a,b,d){var e=k(a,"watch"),g=this.$$watchers,f={fn:b,last:n,get:e,exp:a,eq:!!d};c=null;if(!P(b)){var h=k(b||C,"listener");f.fn=function(a,
b,c){h(c)}}if("string"==typeof a&&e.constant){var l=f.fn;f.fn=function(a,b,c){l.call(this,a,b,c);Oa(g,f)}}g||(g=this.$$watchers=[]);g.unshift(f);return function(){Oa(g,f);c=null}},$watchCollection:function(a,b){var c=this,d,e,f,h=1<b.length,l=0,k=g(a),m=[],n={},p=!0,q=0;return this.$watch(function(){d=k(c);var a,b;if(X(d))if(ab(d))for(e!==m&&(e=m,q=e.length=0,l++),a=d.length,q!==a&&(l++,e.length=q=a),b=0;b<a;b++)e[b]!==e[b]&&d[b]!==d[b]||e[b]===d[b]||(l++,e[b]=d[b]);else{e!==n&&(e=n={},q=0,l++);a=
0;for(b in d)d.hasOwnProperty(b)&&(a++,e.hasOwnProperty(b)?e[b]!==d[b]&&(l++,e[b]=d[b]):(q++,e[b]=d[b],l++));if(q>a)for(b in l++,e)e.hasOwnProperty(b)&&!d.hasOwnProperty(b)&&(q--,delete e[b])}else e!==d&&(e=d,l++);return l},function(){p?(p=!1,b(d,d,c)):b(d,f,c);if(h)if(X(d))if(ab(d)){f=Array(d.length);for(var a=0;a<d.length;a++)f[a]=d[a]}else for(a in f={},d)Fc.call(d,a)&&(f[a]=d[a]);else f=d})},$digest:function(){var d,g,f,h,k=this.$$asyncQueue,m=this.$$postDigestQueue,q,x,s=b,L,Q=[],y,H,R;l("$digest");
c=null;do{x=!1;for(L=this;k.length;){try{R=k.shift(),R.scope.$eval(R.expression)}catch(B){p.$$phase=null,e(B)}c=null}a:do{if(h=L.$$watchers)for(q=h.length;q--;)try{if(d=h[q])if((g=d.get(L))!==(f=d.last)&&!(d.eq?xa(g,f):"number"==typeof g&&"number"==typeof f&&isNaN(g)&&isNaN(f)))x=!0,c=d,d.last=d.eq?ba(g):g,d.fn(g,f===n?g:f,L),5>s&&(y=4-s,Q[y]||(Q[y]=[]),H=P(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,H+="; newVal: "+qa(g)+"; oldVal: "+qa(f),Q[y].push(H));else if(d===c){x=!1;break a}}catch(w){p.$$phase=
null,e(w)}if(!(h=L.$$childHead||L!==this&&L.$$nextSibling))for(;L!==this&&!(h=L.$$nextSibling);)L=L.$parent}while(L=h);if((x||k.length)&&!s--)throw p.$$phase=null,a("infdig",b,qa(Q));}while(x||k.length);for(p.$$phase=null;m.length;)try{m.shift()()}catch(T){e(T)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this!==p&&(q(this.$$listenerCount,eb(null,m,this)),a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&
(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=C,this.$on=this.$watch=function(){return C})}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a){p.$$phase||
p.$$asyncQueue.length||f.defer(function(){p.$$asyncQueue.length&&p.$digest()});this.$$asyncQueue.push({scope:this,expression:a})},$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return l("$apply"),this.$eval(a)}catch(b){e(b)}finally{p.$$phase=null;try{p.$digest()}catch(c){throw e(c),c;}}},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);
var e=this;return function(){c[db(c,b)]=null;m(e,1,a)}},$emit:function(a,b){var c=[],d,g=this,f=!1,h={name:a,targetScope:g,stopPropagation:function(){f=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},l=[h].concat(ya.call(arguments,1)),k,m;do{d=g.$$listeners[a]||c;h.currentScope=g;k=0;for(m=d.length;k<m;k++)if(d[k])try{d[k].apply(null,l)}catch(n){e(n)}else d.splice(k,1),k--,m--;if(f)break;g=g.$parent}while(g);return h},$broadcast:function(a,b){for(var c=this,d=this,g={name:a,
targetScope:this,preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1},f=[g].concat(ya.call(arguments,1)),h,k;c=d;){g.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,f)}catch(l){e(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return g}};var p=new h;return p}]}function bd(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*(https?|ftp|file):|data:image\//;
this.aHrefSanitizationWhitelist=function(a){return B(a)?(b=a,this):b};this.imgSrcSanitizationWhitelist=function(b){return B(b)?(a=b,this):a};this.$get=function(){return function(c,d){var e=d?a:b,g;if(!S||8<=S)if(g=sa(c).href,""!==g&&!g.match(e))return"unsafe:"+g;return c}}}function Ae(b){if("self"===b)return b;if(w(b)){if(-1<b.indexOf("***"))throw ua("iwcard",b);b=b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return RegExp("^"+
b+"$")}if(cb(b))return RegExp("^"+b.source+"$");throw ua("imatcher");}function Gc(b){var a=[];B(b)&&q(b,function(b){a.push(Ae(b))});return a}function ae(){this.SCE_CONTEXTS=ga;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){arguments.length&&(b=Gc(a));return b};this.resourceUrlBlacklist=function(b){arguments.length&&(a=Gc(b));return a};this.$get=["$injector",function(c){function d(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=
function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var e=function(a){throw ua("unsafe");};c.has("$sanitize")&&(e=c.get("$sanitize"));var g=d(),f={};f[ga.HTML]=d(g);f[ga.CSS]=d(g);f[ga.URL]=d(g);f[ga.JS]=d(g);f[ga.RESOURCE_URL]=d(f[ga.URL]);return{trustAs:function(a,b){var c=f.hasOwnProperty(a)?f[a]:null;if(!c)throw ua("icontext",a,b);if(null===b||b===s||""===b)return b;if("string"!==typeof b)throw ua("itype",a);return new c(b)},
getTrusted:function(c,d){if(null===d||d===s||""===d)return d;var g=f.hasOwnProperty(c)?f[c]:null;if(g&&d instanceof g)return d.$$unwrapTrustedValue();if(c===ga.RESOURCE_URL){var g=sa(d.toString()),m,n,p=!1;m=0;for(n=b.length;m<n;m++)if("self"===b[m]?Ib(g):b[m].exec(g.href)){p=!0;break}if(p)for(m=0,n=a.length;m<n;m++)if("self"===a[m]?Ib(g):a[m].exec(g.href)){p=!1;break}if(p)return d;throw ua("insecurl",d.toString());}if(c===ga.HTML)return e(d);throw ua("unsafe");},valueOf:function(a){return a instanceof
g?a.$$unwrapTrustedValue():a}}}]}function $d(){var b=!0;this.enabled=function(a){arguments.length&&(b=!!a);return b};this.$get=["$parse","$sniffer","$sceDelegate",function(a,c,d){if(b&&c.msie&&8>c.msieDocumentMode)throw ua("iequirks");var e=ba(ga);e.isEnabled=function(){return b};e.trustAs=d.trustAs;e.getTrusted=d.getTrusted;e.valueOf=d.valueOf;b||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=Da);e.parseAs=function(b,c){var d=a(c);return d.literal&&d.constant?d:function(a,c){return e.getTrusted(b,
d(a,c))}};var g=e.parseAs,f=e.getTrusted,h=e.trustAs;q(ga,function(a,b){var c=K(b);e[Ta("parse_as_"+c)]=function(b){return g(a,b)};e[Ta("get_trusted_"+c)]=function(b){return f(a,b)};e[Ta("trust_as_"+c)]=function(b){return h(a,b)}});return e}]}function be(){this.$get=["$window","$document",function(b,a){var c={},d=Y((/android (\d+)/.exec(K((b.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),g=a[0]||{},f=g.documentMode,h,l=/^(Moz|webkit|O|ms)(?=[A-Z])/,k=g.body&&g.body.style,
m=!1,n=!1;if(k){for(var p in k)if(m=l.exec(p)){h=m[0];h=h.substr(0,1).toUpperCase()+h.substr(1);break}h||(h="WebkitOpacity"in k&&"webkit");m=!!("transition"in k||h+"Transition"in k);n=!!("animation"in k||h+"Animation"in k);!d||m&&n||(m=w(g.body.style.webkitTransition),n=w(g.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hashchange:"onhashchange"in b&&(!f||7<f),hasEvent:function(a){if("input"==a&&9==S)return!1;if(E(c[a])){var b=g.createElement("div");c[a]="on"+
a in b}return c[a]},csp:Vb(),vendorPrefix:h,transitions:m,animations:n,android:d,msie:S,msieDocumentMode:f}}]}function de(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(b,a,c,d){function e(e,h,l){var k=c.defer(),m=k.promise,n=B(l)&&!l;h=a.defer(function(){try{k.resolve(e())}catch(a){k.reject(a),d(a)}finally{delete g[m.$$timeoutId]}n||b.$apply()},h);m.$$timeoutId=h;g[h]=k;return m}var g={};e.cancel=function(b){return b&&b.$$timeoutId in g?(g[b.$$timeoutId].reject("canceled"),
delete g[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1};return e}]}function sa(b,a){var c=b;S&&(W.setAttribute("href",c),c=W.href);W.setAttribute("href",c);return{href:W.href,protocol:W.protocol?W.protocol.replace(/:$/,""):"",host:W.host,search:W.search?W.search.replace(/^\?/,""):"",hash:W.hash?W.hash.replace(/^#/,""):"",hostname:W.hostname,port:W.port,pathname:"/"===W.pathname.charAt(0)?W.pathname:"/"+W.pathname}}function Ib(b){b=w(b)?sa(b):b;return b.protocol===Hc.protocol&&b.host===Hc.host}
function ee(){this.$get=aa(O)}function gc(b){function a(d,e){if(X(d)){var g={};q(d,function(b,c){g[c]=a(c,b)});return g}return b.factory(d+c,e)}var c="Filter";this.register=a;this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}];a("currency",Ic);a("date",Jc);a("filter",Be);a("json",Ce);a("limitTo",De);a("lowercase",Ee);a("number",Kc);a("orderBy",Lc);a("uppercase",Fe)}function Be(){return function(b,a,c){if(!M(b))return b;var d=typeof c,e=[];e.check=function(a){for(var b=0;b<e.length;b++)if(!e[b](a))return!1;
return!0};"function"!==d&&(c="boolean"===d&&c?function(a,b){return Ea.equals(a,b)}:function(a,b){if(a&&b&&"object"===typeof a&&"object"===typeof b){for(var d in a)if("$"!==d.charAt(0)&&Fc.call(a,d)&&c(a[d],b[d]))return!0;return!1}b=(""+b).toLowerCase();return-1<(""+a).toLowerCase().indexOf(b)});var g=function(a,b){if("string"==typeof b&&"!"===b.charAt(0))return!g(a,b.substr(1));switch(typeof a){case "boolean":case "number":case "string":return c(a,b);case "object":switch(typeof b){case "object":return c(a,
b);default:for(var d in a)if("$"!==d.charAt(0)&&g(a[d],b))return!0}return!1;case "array":for(d=0;d<a.length;d++)if(g(a[d],b))return!0;return!1;default:return!1}};switch(typeof a){case "boolean":case "number":case "string":a={$:a};case "object":for(var f in a)(function(b){"undefined"!=typeof a[b]&&e.push(function(c){return g("$"==b?c:c&&c[b],a[b])})})(f);break;case "function":e.push(a);break;default:return b}d=[];for(f=0;f<b.length;f++){var h=b[f];e.check(h)&&d.push(h)}return d}}function Ic(b){var a=
b.NUMBER_FORMATS;return function(b,d){E(d)&&(d=a.CURRENCY_SYM);return Mc(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,2).replace(/\u00A4/g,d)}}function Kc(b){var a=b.NUMBER_FORMATS;return function(b,d){return Mc(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function Mc(b,a,c,d,e){if(null==b||!isFinite(b)||X(b))return"";var g=0>b;b=Math.abs(b);var f=b+"",h="",l=[],k=!1;if(-1!==f.indexOf("e")){var m=f.match(/([\d\.]+)e(-?)(\d+)/);m&&"-"==m[2]&&m[3]>e+1?f="0":(h=f,k=!0)}if(k)0<e&&(-1<b&&1>b)&&(h=b.toFixed(e));
else{f=(f.split(Nc)[1]||"").length;E(e)&&(e=Math.min(Math.max(a.minFrac,f),a.maxFrac));f=Math.pow(10,e);b=Math.round(b*f)/f;b=(""+b).split(Nc);f=b[0];b=b[1]||"";var m=0,n=a.lgSize,p=a.gSize;if(f.length>=n+p)for(m=f.length-n,k=0;k<m;k++)0===(m-k)%p&&0!==k&&(h+=c),h+=f.charAt(k);for(k=m;k<f.length;k++)0===(f.length-k)%n&&0!==k&&(h+=c),h+=f.charAt(k);for(;b.length<e;)b+="0";e&&"0"!==e&&(h+=d+b.substr(0,e))}l.push(g?a.negPre:a.posPre);l.push(h);l.push(g?a.negSuf:a.posSuf);return l.join("")}function Ob(b,
a,c){var d="";0>b&&(d="-",b=-b);for(b=""+b;b.length<a;)b="0"+b;c&&(b=b.substr(b.length-a));return d+b}function $(b,a,c,d){c=c||0;return function(e){e=e["get"+b]();if(0<c||e>-c)e+=c;0===e&&-12==c&&(e=12);return Ob(e,a,d)}}function pb(b,a){return function(c,d){var e=c["get"+b](),g=Fa(a?"SHORT"+b:b);return d[g][e]}}function Jc(b){function a(a){var b;if(b=a.match(c)){a=new Date(0);var g=0,f=0,h=b[8]?a.setUTCFullYear:a.setFullYear,l=b[8]?a.setUTCHours:a.setHours;b[9]&&(g=Y(b[9]+b[10]),f=Y(b[9]+b[11]));
h.call(a,Y(b[1]),Y(b[2])-1,Y(b[3]));g=Y(b[4]||0)-g;f=Y(b[5]||0)-f;h=Y(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));l.call(a,g,f,h,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e){var g="",f=[],h,l;e=e||"mediumDate";e=b.DATETIME_FORMATS[e]||e;w(c)&&(c=Ge.test(c)?Y(c):a(c));vb(c)&&(c=new Date(c));if(!Na(c))return c;for(;e;)(l=He.exec(e))?(f=f.concat(ya.call(l,1)),e=f.pop()):(f.push(e),e=null);q(f,function(a){h=
Ie[a];g+=h?h(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function Ce(){return function(b){return qa(b,!0)}}function De(){return function(b,a){if(!M(b)&&!w(b))return b;a=Y(a);if(w(b))return a?0<=a?b.slice(0,a):b.slice(a,b.length):"";var c=[],d,e;a>b.length?a=b.length:a<-b.length&&(a=-b.length);0<a?(d=0,e=a):(d=b.length+a,e=b.length);for(;d<e;d++)c.push(b[d]);return c}}function Lc(b){return function(a,c,d){function e(a,b){return Qa(b)?function(b,c){return a(c,b)}:a}
function g(a,b){var c=typeof a,d=typeof b;return c==d?("string"==c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}if(!M(a)||!c)return a;c=M(c)?c:[c];c=Uc(c,function(a){var c=!1,d=a||Da;if(w(a)){if("+"==a.charAt(0)||"-"==a.charAt(0))c="-"==a.charAt(0),a=a.substring(1);d=b(a);if(d.constant){var f=d();return e(function(a,b){return g(a[f],b[f])},c)}}return e(function(a,b){return g(d(a),d(b))},c)});for(var f=[],h=0;h<a.length;h++)f.push(a[h]);return f.sort(e(function(a,b){for(var d=
0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function va(b){P(b)&&(b={link:b});b.restrict=b.restrict||"AC";return aa(b)}function Oc(b,a,c,d){function e(a,c){c=c?"-"+fb(c,"-"):"";d.removeClass(b,(a?qb:rb)+c);d.addClass(b,(a?rb:qb)+c)}var g=this,f=b.parent().controller("form")||sb,h=0,l=g.$error={},k=[];g.$name=a.name||a.ngForm;g.$dirty=!1;g.$pristine=!0;g.$valid=!0;g.$invalid=!1;f.$addControl(g);b.addClass(La);e(!0);g.$addControl=function(a){Aa(a.$name,"input");k.push(a);a.$name&&
(g[a.$name]=a)};g.$removeControl=function(a){a.$name&&g[a.$name]===a&&delete g[a.$name];q(l,function(b,c){g.$setValidity(c,!0,a)});Oa(k,a)};g.$setValidity=function(a,b,c){var d=l[a];if(b)d&&(Oa(d,c),d.length||(h--,h||(e(b),g.$valid=!0,g.$invalid=!1),l[a]=!1,e(!0,a),f.$setValidity(a,!0,g)));else{h||e(b);if(d){if(-1!=db(d,c))return}else l[a]=d=[],h++,e(!1,a),f.$setValidity(a,!1,g);d.push(c);g.$valid=!1;g.$invalid=!0}};g.$setDirty=function(){d.removeClass(b,La);d.addClass(b,tb);g.$dirty=!0;g.$pristine=
!1;f.$setDirty()};g.$setPristine=function(){d.removeClass(b,tb);d.addClass(b,La);g.$dirty=!1;g.$pristine=!0;q(k,function(a){a.$setPristine()})}}function pa(b,a,c,d){b.$setValidity(a,c);return c?d:s}function Je(b,a,c){var d=c.prop("validity");X(d)&&b.$parsers.push(function(c){if(b.$error[a]||!(d.badInput||d.customError||d.typeMismatch)||d.valueMissing)return c;b.$setValidity(a,!1)})}function ub(b,a,c,d,e,g){var f=a.prop("validity");if(!e.android){var h=!1;a.on("compositionstart",function(a){h=!0});
a.on("compositionend",function(){h=!1;l()})}var l=function(){if(!h){var e=a.val();Qa(c.ngTrim||"T")&&(e=ca(e));if(d.$viewValue!==e||f&&""===e&&!f.valueMissing)b.$$phase?d.$setViewValue(e):b.$apply(function(){d.$setViewValue(e)})}};if(e.hasEvent("input"))a.on("input",l);else{var k,m=function(){k||(k=g.defer(function(){l();k=null}))};a.on("keydown",function(a){a=a.keyCode;91===a||(15<a&&19>a||37<=a&&40>=a)||m()});if(e.hasEvent("paste"))a.on("paste cut",m)}a.on("change",l);d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?
"":d.$viewValue)};var n=c.ngPattern;n&&((e=n.match(/^\/(.*)\/([gim]*)$/))?(n=RegExp(e[1],e[2]),e=function(a){return pa(d,"pattern",d.$isEmpty(a)||n.test(a),a)}):e=function(c){var e=b.$eval(n);if(!e||!e.test)throw t("ngPattern")("noregexp",n,e,ha(a));return pa(d,"pattern",d.$isEmpty(c)||e.test(c),c)},d.$formatters.push(e),d.$parsers.push(e));if(c.ngMinlength){var p=Y(c.ngMinlength);e=function(a){return pa(d,"minlength",d.$isEmpty(a)||a.length>=p,a)};d.$parsers.push(e);d.$formatters.push(e)}if(c.ngMaxlength){var r=
Y(c.ngMaxlength);e=function(a){return pa(d,"maxlength",d.$isEmpty(a)||a.length<=r,a)};d.$parsers.push(e);d.$formatters.push(e)}}function Pb(b,a){b="ngClass"+b;return["$animate",function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e==b[m])continue a;c.push(e)}return c}function e(a){if(!M(a)){if(w(a))return a.split(" ");if(X(a)){var b=[];q(a,function(a,c){a&&b.push(c)});return b}}return a}return{restrict:"AC",link:function(g,f,h){function l(a,b){var c=
f.data("$classCounts")||{},d=[];q(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});f.data("$classCounts",c);return d.join(" ")}function k(b){if(!0===a||g.$index%2===a){var k=e(b||[]);if(!m){var r=l(k,1);h.$addClass(r)}else if(!xa(b,m)){var q=e(m),r=d(k,q),k=d(q,k),k=l(k,-1),r=l(r,1);0===r.length?c.removeClass(f,k):0===k.length?c.addClass(f,r):c.setClass(f,r,k)}}m=ba(b)}var m;g.$watch(h[b],k,!0);h.$observe("class",function(a){k(g.$eval(h[b]))});"ngClass"!==b&&g.$watch("$index",
function(c,d){var f=c&1;if(f!==d&1){var k=e(g.$eval(h[b]));f===a?(f=l(k,1),h.$addClass(f)):(f=l(k,-1),h.$removeClass(f))}})}}}]}var K=function(b){return w(b)?b.toLowerCase():b},Fc=Object.prototype.hasOwnProperty,Fa=function(b){return w(b)?b.toUpperCase():b},S,y,Ga,ya=[].slice,Ke=[].push,wa=Object.prototype.toString,Pa=t("ng"),Ea=O.angular||(O.angular={}),Sa,Ka,ka=["0","0","0"];S=Y((/msie (\d+)/.exec(K(navigator.userAgent))||[])[1]);isNaN(S)&&(S=Y((/trident\/.*; rv:(\d+)/.exec(K(navigator.userAgent))||
[])[1]));C.$inject=[];Da.$inject=[];var ca=function(){return String.prototype.trim?function(b){return w(b)?b.trim():b}:function(b){return w(b)?b.replace(/^\s\s*/,"").replace(/\s\s*$/,""):b}}();Ka=9>S?function(b){b=b.nodeName?b:b[0];return b.scopeName&&"HTML"!=b.scopeName?Fa(b.scopeName+":"+b.nodeName):b.nodeName}:function(b){return b.nodeName?b.nodeName:b[0].nodeName};var Xc=/[A-Z]/g,$c={full:"1.2.16",major:1,minor:2,dot:16,codeName:"badger-enumeration"},Ua=N.cache={},gb=N.expando="ng-"+(new Date).getTime(),
me=1,Pc=O.document.addEventListener?function(b,a,c){b.addEventListener(a,c,!1)}:function(b,a,c){b.attachEvent("on"+a,c)},Fb=O.document.removeEventListener?function(b,a,c){b.removeEventListener(a,c,!1)}:function(b,a,c){b.detachEvent("on"+a,c)};N._data=function(b){return this.cache[b[this.expando]]||{}};var he=/([\:\-\_]+(.))/g,ie=/^moz([A-Z])/,Bb=t("jqLite"),je=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Cb=/<|&#?\w+;/,ke=/<([\w:]+)/,le=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ea=
{option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ea.optgroup=ea.option;ea.tbody=ea.tfoot=ea.colgroup=ea.caption=ea.thead;ea.th=ea.td;var Ja=N.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===U.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),N(O).on("load",a))},toString:function(){var b=
[];q(this,function(a){b.push(""+a)});return"["+b.join(", ")+"]"},eq:function(b){return 0<=b?y(this[b]):y(this[this.length+b])},length:0,push:Ke,sort:[].sort,splice:[].splice},kb={};q("multiple selected checked disabled readOnly required open".split(" "),function(b){kb[K(b)]=b});var nc={};q("input select option textarea button form details".split(" "),function(b){nc[Fa(b)]=!0});q({data:jc,inheritedData:jb,scope:function(b){return y(b).data("$scope")||jb(b.parentNode||b,["$isolateScope","$scope"])},
isolateScope:function(b){return y(b).data("$isolateScope")||y(b).data("$isolateScopeNoTemplate")},controller:kc,injector:function(b){return jb(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:Gb,css:function(b,a,c){a=Ta(a);if(B(c))b.style[a]=c;else{var d;8>=S&&(d=b.currentStyle&&b.currentStyle[a],""===d&&(d="auto"));d=d||b.style[a];8>=S&&(d=""===d?s:d);return d}},attr:function(b,a,c){var d=K(a);if(kb[d])if(B(c))c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d));
else return b[a]||(b.attributes.getNamedItem(a)||C).specified?d:s;else if(B(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?s:b},prop:function(b,a,c){if(B(c))b[a]=c;else return b[a]},text:function(){function b(b,d){var e=a[b.nodeType];if(E(d))return e?b[e]:"";b[e]=d}var a=[];9>S?(a[1]="innerText",a[3]="nodeValue"):a[1]=a[3]="textContent";b.$dv="";return b}(),val:function(b,a){if(E(a)){if("SELECT"===Ka(b)&&b.multiple){var c=[];q(b.options,function(a){a.selected&&
c.push(a.value||a.text)});return 0===c.length?null:c}return b.value}b.value=a},html:function(b,a){if(E(a))return b.innerHTML;for(var c=0,d=b.childNodes;c<d.length;c++)Ha(d[c]);b.innerHTML=a},empty:lc},function(b,a){N.prototype[a]=function(a,d){var e,g;if(b!==lc&&(2==b.length&&b!==Gb&&b!==kc?a:d)===s){if(X(a)){for(e=0;e<this.length;e++)if(b===jc)b(this[e],a);else for(g in a)b(this[e],g,a[g]);return this}e=b.$dv;g=e===s?Math.min(this.length,1):this.length;for(var f=0;f<g;f++){var h=b(this[f],a,d);e=
e?e+h:h}return e}for(e=0;e<this.length;e++)b(this[e],a,d);return this}});q({removeData:hc,dealoc:Ha,on:function a(c,d,e,g){if(B(g))throw Bb("onargs");var f=la(c,"events"),h=la(c,"handle");f||la(c,"events",f={});h||la(c,"handle",h=ne(c,f));q(d.split(" "),function(d){var g=f[d];if(!g){if("mouseenter"==d||"mouseleave"==d){var m=U.body.contains||U.body.compareDocumentPosition?function(a,c){var d=9===a.nodeType?a.documentElement:a,e=c&&c.parentNode;return a===e||!!(e&&1===e.nodeType&&(d.contains?d.contains(e):
a.compareDocumentPosition&&a.compareDocumentPosition(e)&16))}:function(a,c){if(c)for(;c=c.parentNode;)if(c===a)return!0;return!1};f[d]=[];a(c,{mouseleave:"mouseout",mouseenter:"mouseover"}[d],function(a){var c=a.relatedTarget;c&&(c===this||m(this,c))||h(a,d)})}else Pc(c,d,h),f[d]=[];g=f[d]}g.push(e)})},off:ic,one:function(a,c,d){a=y(a);a.on(c,function g(){a.off(c,d);a.off(c,g)});a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;Ha(a);q(new N(c),function(c){d?e.insertBefore(c,d.nextSibling):
e.replaceChild(c,a);d=c})},children:function(a){var c=[];q(a.childNodes,function(a){1===a.nodeType&&c.push(a)});return c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){q(new N(c),function(c){1!==a.nodeType&&11!==a.nodeType||a.appendChild(c)})},prepend:function(a,c){if(1===a.nodeType){var d=a.firstChild;q(new N(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=y(c)[0];var d=a.parentNode;d&&d.replaceChild(c,a);c.appendChild(a)},remove:function(a){Ha(a);
var c=a.parentNode;c&&c.removeChild(a)},after:function(a,c){var d=a,e=a.parentNode;q(new N(c),function(a){e.insertBefore(a,d.nextSibling);d=a})},addClass:ib,removeClass:hb,toggleClass:function(a,c,d){c&&q(c.split(" "),function(c){var g=d;E(g)&&(g=!Gb(a,c));(g?ib:hb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(a=a.nextSibling;null!=a&&1!==a.nodeType;)a=a.nextSibling;return a},find:function(a,c){return a.getElementsByTagName?
a.getElementsByTagName(c):[]},clone:Eb,triggerHandler:function(a,c,d){c=(la(a,"events")||{})[c];d=d||[];var e=[{preventDefault:C,stopPropagation:C}];q(c,function(c){c.apply(a,e.concat(d))})}},function(a,c){N.prototype[c]=function(c,e,g){for(var f,h=0;h<this.length;h++)E(f)?(f=a(this[h],c,e,g),B(f)&&(f=y(f))):Db(f,a(this[h],c,e,g));return B(f)?f:this};N.prototype.bind=N.prototype.on;N.prototype.unbind=N.prototype.off});Va.prototype={put:function(a,c){this[Ia(a)]=c},get:function(a){return this[Ia(a)]},
remove:function(a){var c=this[a=Ia(a)];delete this[a];return c}};var pe=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,qe=/,/,re=/^\s*(_?)(\S+?)\1\s*$/,oe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Wa=t("$injector"),Le=t("$animate"),Ld=["$provide",function(a){this.$$selectors={};this.register=function(c,d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw Le("notcsel",c);this.$$selectors[c.substr(1)]=e;a.factory(e,d)};this.classNameFilter=function(a){1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?
a:null);return this.$$classNameFilter};this.$get=["$timeout","$$asyncCallback",function(a,d){return{enter:function(a,c,f,h){f?f.after(a):(c&&c[0]||(c=f.parent()),c.append(a));h&&d(h)},leave:function(a,c){a.remove();c&&d(c)},move:function(a,c,d,h){this.enter(a,c,d,h)},addClass:function(a,c,f){c=w(c)?c:M(c)?c.join(" "):"";q(a,function(a){ib(a,c)});f&&d(f)},removeClass:function(a,c,f){c=w(c)?c:M(c)?c.join(" "):"";q(a,function(a){hb(a,c)});f&&d(f)},setClass:function(a,c,f,h){q(a,function(a){ib(a,c);hb(a,
f)});h&&d(h)},enabled:C}}]}],ja=t("$compile");cc.$inject=["$provide","$$sanitizeUriProvider"];var te=/^(x[\:\-_]|data[\:\-_])/i,vc=t("$interpolate"),Me=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,we={http:80,https:443,ftp:21},Kb=t("$location");Ac.prototype=Lb.prototype=zc.prototype={$$html5:!1,$$replace:!1,absUrl:nb("$$absUrl"),url:function(a,c){if(E(a))return this.$$url;var d=Me.exec(a);d[1]&&this.path(decodeURIComponent(d[1]));(d[2]||d[1])&&this.search(d[3]||"");this.hash(d[5]||"",c);return this},protocol:nb("$$protocol"),
host:nb("$$host"),port:nb("$$port"),path:Bc("$$path",function(a){return"/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(w(a))this.$$search=Yb(a);else if(X(a))this.$$search=a;else throw Kb("isrcharg");break;default:E(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}this.$$compose();return this},hash:Bc("$$hash",Da),replace:function(){this.$$replace=!0;return this}};var Ba=t("$parse"),Ec={},ta,Ma={"null":function(){return null},"true":function(){return!0},
"false":function(){return!1},undefined:C,"+":function(a,c,d,e){d=d(a,c);e=e(a,c);return B(d)?B(e)?d+e:d:B(e)?e:s},"-":function(a,c,d,e){d=d(a,c);e=e(a,c);return(B(d)?d:0)-(B(e)?e:0)},"*":function(a,c,d,e){return d(a,c)*e(a,c)},"/":function(a,c,d,e){return d(a,c)/e(a,c)},"%":function(a,c,d,e){return d(a,c)%e(a,c)},"^":function(a,c,d,e){return d(a,c)^e(a,c)},"=":C,"===":function(a,c,d,e){return d(a,c)===e(a,c)},"!==":function(a,c,d,e){return d(a,c)!==e(a,c)},"==":function(a,c,d,e){return d(a,c)==e(a,
c)},"!=":function(a,c,d,e){return d(a,c)!=e(a,c)},"<":function(a,c,d,e){return d(a,c)<e(a,c)},">":function(a,c,d,e){return d(a,c)>e(a,c)},"<=":function(a,c,d,e){return d(a,c)<=e(a,c)},">=":function(a,c,d,e){return d(a,c)>=e(a,c)},"&&":function(a,c,d,e){return d(a,c)&&e(a,c)},"||":function(a,c,d,e){return d(a,c)||e(a,c)},"&":function(a,c,d,e){return d(a,c)&e(a,c)},"|":function(a,c,d,e){return e(a,c)(a,c,d(a,c))},"!":function(a,c,d){return!d(a,c)}},Ne={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},
Nb=function(a){this.options=a};Nb.prototype={constructor:Nb,lex:function(a){this.text=a;this.index=0;this.ch=s;this.lastCh=":";this.tokens=[];var c;for(a=[];this.index<this.text.length;){this.ch=this.text.charAt(this.index);if(this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&("{"===a[0]&&(c=this.tokens[this.tokens.length-1]))&&(c.json=-1===c.text.indexOf("."));
else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&a.unshift(this.ch),this.is("}]")&&a.shift(),this.index++;else if(this.isWhitespace(this.ch)){this.index++;continue}else{var d=this.ch+this.peek(),e=d+this.peek(2),g=Ma[this.ch],f=Ma[d],h=Ma[e];h?(this.tokens.push({index:this.index,text:e,fn:h}),this.index+=3):f?(this.tokens.push({index:this.index,text:d,fn:f}),this.index+=2):g?(this.tokens.push({index:this.index,
text:this.ch,fn:g,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===
a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,c,d){d=d||this.index;c=B(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d;throw Ba("lexerr",a,c,this.text);},readNumber:function(){for(var a="",c=this.index;this.index<this.text.length;){var d=K(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();if("e"==d&&this.isExpOperator(e))a+=
d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||e&&this.isNumber(e)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}a*=1;this.tokens.push({index:c,text:a,json:!0,fn:function(){return a}})},readIdent:function(){for(var a=this,c="",d=this.index,e,g,f,h;this.index<this.text.length;){h=this.text.charAt(this.index);if("."===h||this.isIdent(h)||this.isNumber(h))"."===h&&(e=this.index),c+=h;else break;
this.index++}if(e)for(g=this.index;g<this.text.length;){h=this.text.charAt(g);if("("===h){f=c.substr(e-d+1);c=c.substr(0,e-d);this.index=g;break}if(this.isWhitespace(h))g++;else break}d={index:d,text:c};if(Ma.hasOwnProperty(c))d.fn=Ma[c],d.json=Ma[c];else{var l=Dc(c,this.options,this.text);d.fn=D(function(a,c){return l(a,c)},{assign:function(d,e){return ob(d,c,e,a.text,a.options)}})}this.tokens.push(d);f&&(this.tokens.push({index:e,text:".",json:!1}),this.tokens.push({index:e+1,text:f,json:!1}))},
readString:function(a){var c=this.index;this.index++;for(var d="",e=a,g=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),e=e+f;if(g)"u"===f?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):d=(g=Ne[f])?d+g:d+f,g=!1;else if("\\"===f)g=!0;else{if(f===a){this.index++;this.tokens.push({index:c,text:e,string:d,json:!0,fn:function(){return d}});return}d+=
f}this.index++}this.throwError("Unterminated quote",c)}};var $a=function(a,c,d){this.lexer=a;this.$filter=c;this.options=d};$a.ZERO=D(function(){return 0},{constant:!0});$a.prototype={constructor:$a,parse:function(a,c){this.text=a;this.json=c;this.tokens=this.lexer.lex(a);c&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:a,index:0})});var d=c?this.primary():this.statements();0!==this.tokens.length&&
this.throwError("is an unexpected token",this.tokens[0]);d.literal=!!d.literal;d.constant=!!d.constant;return d},primary:function(){var a;if(this.expect("("))a=this.filterChain(),this.consume(")");else if(this.expect("["))a=this.arrayDeclaration();else if(this.expect("{"))a=this.object();else{var c=this.expect();(a=c.fn)||this.throwError("not a primary expression",c);c.json&&(a.constant=!0,a.literal=!0)}for(var d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?
(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,c){throw Ba("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index));},peekToken:function(){if(0===this.tokens.length)throw Ba("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,e){if(0<this.tokens.length){var g=this.tokens[0],f=g.text;if(f===a||f===c||f===d||f===e||!(a||c||d||e))return g}return!1},expect:function(a,c,d,e){return(a=this.peek(a,c,d,
e))?(this.json&&!a.json&&this.throwError("is not valid json",a),this.tokens.shift(),a):!1},consume:function(a){this.expect(a)||this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,c){return D(function(d,e){return a(d,e,c)},{constant:c.constant})},ternaryFn:function(a,c,d){return D(function(e,g){return a(e,g)?c(e,g):d(e,g)},{constant:a.constant&&c.constant&&d.constant})},binaryFn:function(a,c,d){return D(function(e,g){return c(e,g,a,d)},{constant:a.constant&&d.constant})},
statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(c,d){for(var e,g=0;g<a.length;g++){var f=a[g];f&&(e=f(c,d))}return e}},filterChain:function(){for(var a=this.expression(),c;;)if(c=this.expect("|"))a=this.binaryFn(a,c.fn,this.filter());else return a},filter:function(){for(var a=this.expect(),c=this.$filter(a.text),d=[];;)if(a=this.expect(":"))d.push(this.expression());else{var e=
function(a,e,h){h=[h];for(var l=0;l<d.length;l++)h.push(d[l](a,e));return c.apply(a,h)};return function(){return e}}},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary(),c,d;return(d=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,d.index)+"] can not be assigned to",d),c=this.ternary(),function(d,g){return a.assign(d,c(d,g),g)}):a},ternary:function(){var a=this.logicalOR(),c,d;if(this.expect("?")){c=this.ternary();
if(d=this.expect(":"))return this.ternaryFn(a,c,this.ternary());this.throwError("expected :",d)}else return a},logicalOR:function(){for(var a=this.logicalAND(),c;;)if(c=this.expect("||"))a=this.binaryFn(a,c.fn,this.logicalAND());else return a},logicalAND:function(){var a=this.equality(),c;if(c=this.expect("&&"))a=this.binaryFn(a,c.fn,this.logicalAND());return a},equality:function(){var a=this.relational(),c;if(c=this.expect("==","!=","===","!=="))a=this.binaryFn(a,c.fn,this.equality());return a},
relational:function(){var a=this.additive(),c;if(c=this.expect("<",">","<=",">="))a=this.binaryFn(a,c.fn,this.relational());return a},additive:function(){for(var a=this.multiplicative(),c;c=this.expect("+","-");)a=this.binaryFn(a,c.fn,this.multiplicative());return a},multiplicative:function(){for(var a=this.unary(),c;c=this.expect("*","/","%");)a=this.binaryFn(a,c.fn,this.unary());return a},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn($a.ZERO,a.fn,
this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(a){var c=this,d=this.expect().text,e=Dc(d,this.options,this.text);return D(function(c,d,h){return e(h||a(c,d))},{assign:function(e,f,h){return ob(a(e,h),d,f,c.text,c.options)}})},objectIndex:function(a){var c=this,d=this.expression();this.consume("]");return D(function(e,g){var f=a(e,g),h=d(e,g),l;if(!f)return s;(f=Za(f[h],c.text))&&(f.then&&c.options.unwrapPromises)&&(l=f,"$$v"in f||(l.$$v=s,l.then(function(a){l.$$v=
a})),f=f.$$v);return f},{assign:function(e,g,f){var h=d(e,f);return Za(a(e,f),c.text)[h]=g}})},functionCall:function(a,c){var d=[];if(")"!==this.peekToken().text){do d.push(this.expression());while(this.expect(","))}this.consume(")");var e=this;return function(g,f){for(var h=[],l=c?c(g,f):g,k=0;k<d.length;k++)h.push(d[k](g,f));k=a(g,f,l)||C;Za(l,e.text);Za(k,e.text);h=k.apply?k.apply(l,h):k(h[0],h[1],h[2],h[3],h[4]);return Za(h,e.text)}},arrayDeclaration:function(){var a=[],c=!0;if("]"!==this.peekToken().text){do{if(this.peek("]"))break;
var d=this.expression();a.push(d);d.constant||(c=!1)}while(this.expect(","))}this.consume("]");return D(function(c,d){for(var f=[],h=0;h<a.length;h++)f.push(a[h](c,d));return f},{literal:!0,constant:c})},object:function(){var a=[],c=!0;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;var d=this.expect(),d=d.string||d.text;this.consume(":");var e=this.expression();a.push({key:d,value:e});e.constant||(c=!1)}while(this.expect(","))}this.consume("}");return D(function(c,d){for(var e={},l=0;l<
a.length;l++){var k=a[l];e[k.key]=k.value(c,d)}return e},{literal:!0,constant:c})}};var Mb={},ua=t("$sce"),ga={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},W=U.createElement("a"),Hc=sa(O.location.href,!0);gc.$inject=["$provide"];Ic.$inject=["$locale"];Kc.$inject=["$locale"];var Nc=".",Ie={yyyy:$("FullYear",4),yy:$("FullYear",2,0,!0),y:$("FullYear",1),MMMM:pb("Month"),MMM:pb("Month",!0),MM:$("Month",2,1),M:$("Month",1,1),dd:$("Date",2),d:$("Date",1),HH:$("Hours",2),H:$("Hours",
1),hh:$("Hours",2,-12),h:$("Hours",1,-12),mm:$("Minutes",2),m:$("Minutes",1),ss:$("Seconds",2),s:$("Seconds",1),sss:$("Milliseconds",3),EEEE:pb("Day"),EEE:pb("Day",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){a=-1*a.getTimezoneOffset();return a=(0<=a?"+":"")+(Ob(Math[0<a?"floor":"ceil"](a/60),2)+Ob(Math.abs(a%60),2))}},He=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Ge=/^\-?\d+$/;Jc.$inject=["$locale"];var Ee=aa(K),Fe=aa(Fa);Lc.$inject=
["$parse"];var cd=aa({restrict:"E",compile:function(a,c){8>=S&&(c.href||c.name||c.$set("href",""),a.append(U.createComment("IE fix")));if(!c.href&&!c.xlinkHref&&!c.name)return function(a,c){var g="[object SVGAnimatedString]"===wa.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(g)||a.preventDefault()})}}}),zb={};q(kb,function(a,c){if("multiple"!=a){var d=na("ng-"+c);zb[d]=function(){return{priority:100,link:function(a,g,f){a.$watch(f[d],function(a){f.$set(c,!!a)})}}}}});q(["src",
"srcset","href"],function(a){var c=na("ng-"+a);zb[c]=function(){return{priority:99,link:function(d,e,g){var f=a,h=a;"href"===a&&"[object SVGAnimatedString]"===wa.call(e.prop("href"))&&(h="xlinkHref",g.$attr[h]="xlink:href",f=null);g.$observe(c,function(a){a&&(g.$set(h,a),S&&f&&e.prop(f,g[h]))})}}}});var sb={$addControl:C,$removeControl:C,$setValidity:C,$setDirty:C,$setPristine:C};Oc.$inject=["$element","$attrs","$scope","$animate"];var Qc=function(a){return["$timeout",function(c){return{name:"form",
restrict:a?"EAC":"E",controller:Oc,compile:function(){return{pre:function(a,e,g,f){if(!g.action){var h=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};Pc(e[0],"submit",h);e.on("$destroy",function(){c(function(){Fb(e[0],"submit",h)},0,!1)})}var l=e.parent().controller("form"),k=g.name||g.ngForm;k&&ob(a,k,f,k);if(l)e.on("$destroy",function(){l.$removeControl(f);k&&ob(a,k,s,k);D(f,sb)})}}}}}]},dd=Qc(),qd=Qc(!0),Oe=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,
Pe=/^[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9-]+(\.[a-z0-9-]+)*$/i,Qe=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Rc={text:ub,number:function(a,c,d,e,g,f){ub(a,c,d,e,g,f);e.$parsers.push(function(a){var c=e.$isEmpty(a);if(c||Qe.test(a))return e.$setValidity("number",!0),""===a?null:c?a:parseFloat(a);e.$setValidity("number",!1);return s});Je(e,"number",c);e.$formatters.push(function(a){return e.$isEmpty(a)?"":""+a});d.min&&(a=function(a){var c=parseFloat(d.min);return pa(e,"min",e.$isEmpty(a)||a>=c,a)},e.$parsers.push(a),
e.$formatters.push(a));d.max&&(a=function(a){var c=parseFloat(d.max);return pa(e,"max",e.$isEmpty(a)||a<=c,a)},e.$parsers.push(a),e.$formatters.push(a));e.$formatters.push(function(a){return pa(e,"number",e.$isEmpty(a)||vb(a),a)})},url:function(a,c,d,e,g,f){ub(a,c,d,e,g,f);a=function(a){return pa(e,"url",e.$isEmpty(a)||Oe.test(a),a)};e.$formatters.push(a);e.$parsers.push(a)},email:function(a,c,d,e,g,f){ub(a,c,d,e,g,f);a=function(a){return pa(e,"email",e.$isEmpty(a)||Pe.test(a),a)};e.$formatters.push(a);
e.$parsers.push(a)},radio:function(a,c,d,e){E(d.name)&&c.attr("name",bb());c.on("click",function(){c[0].checked&&a.$apply(function(){e.$setViewValue(d.value)})});e.$render=function(){c[0].checked=d.value==e.$viewValue};d.$observe("value",e.$render)},checkbox:function(a,c,d,e){var g=d.ngTrueValue,f=d.ngFalseValue;w(g)||(g=!0);w(f)||(f=!1);c.on("click",function(){a.$apply(function(){e.$setViewValue(c[0].checked)})});e.$render=function(){c[0].checked=e.$viewValue};e.$isEmpty=function(a){return a!==g};
e.$formatters.push(function(a){return a===g});e.$parsers.push(function(a){return a?g:f})},hidden:C,button:C,submit:C,reset:C,file:C},dc=["$browser","$sniffer",function(a,c){return{restrict:"E",require:"?ngModel",link:function(d,e,g,f){f&&(Rc[K(g.type)]||Rc.text)(d,e,g,f,c,a)}}}],rb="ng-valid",qb="ng-invalid",La="ng-pristine",tb="ng-dirty",Re=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(a,c,d,e,g,f){function h(a,c){c=c?"-"+fb(c,"-"):"";f.removeClass(e,(a?qb:rb)+c);
f.addClass(e,(a?rb:qb)+c)}this.$modelValue=this.$viewValue=Number.NaN;this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$name=d.name;var l=g(d.ngModel),k=l.assign;if(!k)throw t("ngModel")("nonassign",d.ngModel,ha(e));this.$render=C;this.$isEmpty=function(a){return E(a)||""===a||null===a||a!==a};var m=e.inheritedData("$formController")||sb,n=0,p=this.$error={};e.addClass(La);h(!0);this.$setValidity=function(a,c){p[a]!==
!c&&(c?(p[a]&&n--,n||(h(!0),this.$valid=!0,this.$invalid=!1)):(h(!1),this.$invalid=!0,this.$valid=!1,n++),p[a]=!c,h(c,a),m.$setValidity(a,c,this))};this.$setPristine=function(){this.$dirty=!1;this.$pristine=!0;f.removeClass(e,tb);f.addClass(e,La)};this.$setViewValue=function(d){this.$viewValue=d;this.$pristine&&(this.$dirty=!0,this.$pristine=!1,f.removeClass(e,La),f.addClass(e,tb),m.$setDirty());q(this.$parsers,function(a){d=a(d)});this.$modelValue!==d&&(this.$modelValue=d,k(a,d),q(this.$viewChangeListeners,
function(a){try{a()}catch(d){c(d)}}))};var r=this;a.$watch(function(){var c=l(a);if(r.$modelValue!==c){var d=r.$formatters,e=d.length;for(r.$modelValue=c;e--;)c=d[e](c);r.$viewValue!==c&&(r.$viewValue=c,r.$render())}return c})}],Fd=function(){return{require:["ngModel","^?form"],controller:Re,link:function(a,c,d,e){var g=e[0],f=e[1]||sb;f.$addControl(g);a.$on("$destroy",function(){f.$removeControl(g)})}}},Hd=aa({require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),
ec=function(){return{require:"?ngModel",link:function(a,c,d,e){if(e){d.required=!0;var g=function(a){if(d.required&&e.$isEmpty(a))e.$setValidity("required",!1);else return e.$setValidity("required",!0),a};e.$formatters.push(g);e.$parsers.unshift(g);d.$observe("required",function(){g(e.$viewValue)})}}}},Gd=function(){return{require:"ngModel",link:function(a,c,d,e){var g=(a=/\/(.*)\//.exec(d.ngList))&&RegExp(a[1])||d.ngList||",";e.$parsers.push(function(a){if(!E(a)){var c=[];a&&q(a.split(g),function(a){a&&
c.push(ca(a))});return c}});e.$formatters.push(function(a){return M(a)?a.join(", "):s});e.$isEmpty=function(a){return!a||!a.length}}}},Se=/^(true|false|\d+)$/,Id=function(){return{priority:100,compile:function(a,c){return Se.test(c.ngValue)?function(a,c,g){g.$set("value",a.$eval(g.ngValue))}:function(a,c,g){a.$watch(g.ngValue,function(a){g.$set("value",a)})}}}},id=va(function(a,c,d){c.addClass("ng-binding").data("$binding",d.ngBind);a.$watch(d.ngBind,function(a){c.text(a==s?"":a)})}),kd=["$interpolate",
function(a){return function(c,d,e){c=a(d.attr(e.$attr.ngBindTemplate));d.addClass("ng-binding").data("$binding",c);e.$observe("ngBindTemplate",function(a){d.text(a)})}}],jd=["$sce","$parse",function(a,c){return function(d,e,g){e.addClass("ng-binding").data("$binding",g.ngBindHtml);var f=c(g.ngBindHtml);d.$watch(function(){return(f(d)||"").toString()},function(c){e.html(a.getTrustedHtml(f(d))||"")})}}],ld=Pb("",!0),nd=Pb("Odd",0),md=Pb("Even",1),od=va({compile:function(a,c){c.$set("ngCloak",s);a.removeClass("ng-cloak")}}),
pd=[function(){return{scope:!0,controller:"@",priority:500}}],fc={};q("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var c=na("ng-"+a);fc[c]=["$parse",function(d){return{compile:function(e,g){var f=d(g[c]);return function(c,d,e){d.on(K(a),function(a){c.$apply(function(){f(c,{$event:a})})})}}}}]});var sd=["$animate",function(a){return{transclude:"element",priority:600,terminal:!0,restrict:"A",
$$tlb:!0,link:function(c,d,e,g,f){var h,l,k;c.$watch(e.ngIf,function(g){Qa(g)?l||(l=c.$new(),f(l,function(c){c[c.length++]=U.createComment(" end ngIf: "+e.ngIf+" ");h={clone:c};a.enter(c,d.parent(),d)})):(k&&(k.remove(),k=null),l&&(l.$destroy(),l=null),h&&(k=yb(h.clone),a.leave(k,function(){k=null}),h=null))})}}}],td=["$http","$templateCache","$anchorScroll","$animate","$sce",function(a,c,d,e,g){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ea.noop,compile:function(f,
h){var l=h.ngInclude||h.src,k=h.onload||"",m=h.autoscroll;return function(f,h,q,s,u){var F=0,v,y,A,x=function(){y&&(y.remove(),y=null);v&&(v.$destroy(),v=null);A&&(e.leave(A,function(){y=null}),y=A,A=null)};f.$watch(g.parseAsResourceUrl(l),function(g){var l=function(){!B(m)||m&&!f.$eval(m)||d()},q=++F;g?(a.get(g,{cache:c}).success(function(a){if(q===F){var c=f.$new();s.template=a;a=u(c,function(a){x();e.enter(a,null,h,l)});v=c;A=a;v.$emit("$includeContentLoaded");f.$eval(k)}}).error(function(){q===
F&&x()}),f.$emit("$includeContentRequested")):(x(),s.template=null)})}}}}],Jd=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,g){d.html(g.template);a(d.contents())(c)}}}],ud=va({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),vd=va({terminal:!0,priority:1E3}),wd=["$locale","$interpolate",function(a,c){var d=/{}/g;return{restrict:"EA",link:function(e,g,f){var h=f.count,l=f.$attr.when&&g.attr(f.$attr.when),k=f.offset||
0,m=e.$eval(l)||{},n={},p=c.startSymbol(),r=c.endSymbol(),s=/^when(Minus)?(.+)$/;q(f,function(a,c){s.test(c)&&(m[K(c.replace("when","").replace("Minus","-"))]=g.attr(f.$attr[c]))});q(m,function(a,e){n[e]=c(a.replace(d,p+h+"-"+k+r))});e.$watch(function(){var c=parseFloat(e.$eval(h));if(isNaN(c))return"";c in m||(c=a.pluralCat(c-k));return n[c](e,g,!0)},function(a){g.text(a)})}}}],xd=["$parse","$animate",function(a,c){var d=t("ngRepeat");return{transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,
link:function(e,g,f,h,l){var k=f.ngRepeat,m=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),n,p,r,s,u,F,v={$id:Ia};if(!m)throw d("iexp",k);f=m[1];h=m[2];(m=m[3])?(n=a(m),p=function(a,c,d){F&&(v[F]=a);v[u]=c;v.$index=d;return n(e,v)}):(r=function(a,c){return Ia(c)},s=function(a){return a});m=f.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!m)throw d("iidexp",f);u=m[3]||m[1];F=m[2];var B={};e.$watchCollection(h,function(a){var f,h,m=g[0],n,v={},H,R,w,C,T,t,
E=[];if(ab(a))T=a,n=p||r;else{n=p||s;T=[];for(w in a)a.hasOwnProperty(w)&&"$"!=w.charAt(0)&&T.push(w);T.sort()}H=T.length;h=E.length=T.length;for(f=0;f<h;f++)if(w=a===T?f:T[f],C=a[w],C=n(w,C,f),Aa(C,"`track by` id"),B.hasOwnProperty(C))t=B[C],delete B[C],v[C]=t,E[f]=t;else{if(v.hasOwnProperty(C))throw q(E,function(a){a&&a.scope&&(B[a.id]=a)}),d("dupes",k,C);E[f]={id:C};v[C]=!1}for(w in B)B.hasOwnProperty(w)&&(t=B[w],f=yb(t.clone),c.leave(f),q(f,function(a){a.$$NG_REMOVED=!0}),t.scope.$destroy());
f=0;for(h=T.length;f<h;f++){w=a===T?f:T[f];C=a[w];t=E[f];E[f-1]&&(m=E[f-1].clone[E[f-1].clone.length-1]);if(t.scope){R=t.scope;n=m;do n=n.nextSibling;while(n&&n.$$NG_REMOVED);t.clone[0]!=n&&c.move(yb(t.clone),null,y(m));m=t.clone[t.clone.length-1]}else R=e.$new();R[u]=C;F&&(R[F]=w);R.$index=f;R.$first=0===f;R.$last=f===H-1;R.$middle=!(R.$first||R.$last);R.$odd=!(R.$even=0===(f&1));t.scope||l(R,function(a){a[a.length++]=U.createComment(" end ngRepeat: "+k+" ");c.enter(a,null,y(m));m=a;t.scope=R;t.clone=
a;v[t.id]=t})}B=v})}}}],yd=["$animate",function(a){return function(c,d,e){c.$watch(e.ngShow,function(c){a[Qa(c)?"removeClass":"addClass"](d,"ng-hide")})}}],rd=["$animate",function(a){return function(c,d,e){c.$watch(e.ngHide,function(c){a[Qa(c)?"addClass":"removeClass"](d,"ng-hide")})}}],zd=va(function(a,c,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&q(d,function(a,d){c.css(d,"")});a&&c.css(a)},!0)}),Ad=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases=
{}}],link:function(c,d,e,g){var f,h,l,k=[];c.$watch(e.ngSwitch||e.on,function(d){var n,p=k.length;if(0<p){if(l){for(n=0;n<p;n++)l[n].remove();l=null}l=[];for(n=0;n<p;n++){var r=h[n];k[n].$destroy();l[n]=r;a.leave(r,function(){l.splice(n,1);0===l.length&&(l=null)})}}h=[];k=[];if(f=g.cases["!"+d]||g.cases["?"])c.$eval(e.change),q(f,function(d){var e=c.$new();k.push(e);d.transclude(e,function(c){var e=d.element;h.push(c);a.enter(c,e.parent(),e)})})})}}}],Bd=va({transclude:"element",priority:800,require:"^ngSwitch",
link:function(a,c,d,e,g){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[];e.cases["!"+d.ngSwitchWhen].push({transclude:g,element:c})}}),Cd=va({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,c,d,e,g){e.cases["?"]=e.cases["?"]||[];e.cases["?"].push({transclude:g,element:c})}}),Ed=va({link:function(a,c,d,e,g){if(!g)throw t("ngTransclude")("orphan",ha(c));g(function(a){c.empty();c.append(a)})}}),ed=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,
d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],Te=t("ngOptions"),Dd=aa({terminal:!0}),fd=["$compile","$parse",function(a,c){var d=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,e={$setViewValue:C};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,c,d){var l=this,k={},m=e,n;l.databound=
d.ngModel;l.init=function(a,c,d){m=a;n=d};l.addOption=function(c){Aa(c,'"option value"');k[c]=!0;m.$viewValue==c&&(a.val(c),n.parent()&&n.remove())};l.removeOption=function(a){this.hasOption(a)&&(delete k[a],m.$viewValue==a&&this.renderUnknownOption(a))};l.renderUnknownOption=function(c){c="? "+Ia(c)+" ?";n.val(c);a.prepend(n);a.val(c);n.prop("selected",!0)};l.hasOption=function(a){return k.hasOwnProperty(a)};c.$on("$destroy",function(){l.renderUnknownOption=C})}],link:function(e,f,h,l){function k(a,
c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(A.parent()&&A.remove(),c.val(a),""===a&&w.prop("selected",!0)):E(a)&&w?c.val(""):e.renderUnknownOption(a)};c.on("change",function(){a.$apply(function(){A.parent()&&A.remove();d.$setViewValue(c.val())})})}function m(a,c,d){var e;d.$render=function(){var a=new Va(d.$viewValue);q(c.find("option"),function(c){c.selected=B(a.get(c.value))})};a.$watch(function(){xa(e,d.$viewValue)||(e=ba(d.$viewValue),d.$render())});c.on("change",function(){a.$apply(function(){var a=
[];q(c.find("option"),function(c){c.selected&&a.push(c.value)});d.$setViewValue(a)})})}function n(e,f,g){function h(){var a={"":[]},c=[""],d,k,s,t,z;t=g.$modelValue;z=y(e)||[];var E=n?Qb(z):z,F,I,A;I={};s=!1;var D,H;if(r)if(w&&M(t))for(s=new Va([]),A=0;A<t.length;A++)I[m]=t[A],s.put(w(e,I),t[A]);else s=new Va(t);for(A=0;F=E.length,A<F;A++){k=A;if(n){k=E[A];if("$"===k.charAt(0))continue;I[n]=k}I[m]=z[k];d=p(e,I)||"";(k=a[d])||(k=a[d]=[],c.push(d));r?d=B(s.remove(w?w(e,I):q(e,I))):(w?(d={},d[m]=t,d=
w(e,d)===w(e,I)):d=t===q(e,I),s=s||d);D=l(e,I);D=B(D)?D:"";k.push({id:w?w(e,I):n?E[A]:A,label:D,selected:d})}r||(u||null===t?a[""].unshift({id:"",label:"",selected:!s}):s||a[""].unshift({id:"?",label:"",selected:!0}));I=0;for(E=c.length;I<E;I++){d=c[I];k=a[d];x.length<=I?(t={element:C.clone().attr("label",d),label:k.label},z=[t],x.push(z),f.append(t.element)):(z=x[I],t=z[0],t.label!=d&&t.element.attr("label",t.label=d));D=null;A=0;for(F=k.length;A<F;A++)s=k[A],(d=z[A+1])?(D=d.element,d.label!==s.label&&
D.text(d.label=s.label),d.id!==s.id&&D.val(d.id=s.id),d.selected!==s.selected&&D.prop("selected",d.selected=s.selected)):(""===s.id&&u?H=u:(H=v.clone()).val(s.id).attr("selected",s.selected).text(s.label),z.push({element:H,label:s.label,id:s.id,selected:s.selected}),D?D.after(H):t.element.append(H),D=H);for(A++;z.length>A;)z.pop().element.remove()}for(;x.length>I;)x.pop()[0].element.remove()}var k;if(!(k=t.match(d)))throw Te("iexp",t,ha(f));var l=c(k[2]||k[1]),m=k[4]||k[6],n=k[5],p=c(k[3]||""),q=
c(k[2]?k[1]:m),y=c(k[7]),w=k[8]?c(k[8]):null,x=[[{element:f,label:""}]];u&&(a(u)(e),u.removeClass("ng-scope"),u.remove());f.empty();f.on("change",function(){e.$apply(function(){var a,c=y(e)||[],d={},h,k,l,p,t,v,u;if(r)for(k=[],p=0,v=x.length;p<v;p++)for(a=x[p],l=1,t=a.length;l<t;l++){if((h=a[l].element)[0].selected){h=h.val();n&&(d[n]=h);if(w)for(u=0;u<c.length&&(d[m]=c[u],w(e,d)!=h);u++);else d[m]=c[h];k.push(q(e,d))}}else{h=f.val();if("?"==h)k=s;else if(""===h)k=null;else if(w)for(u=0;u<c.length;u++){if(d[m]=
c[u],w(e,d)==h){k=q(e,d);break}}else d[m]=c[h],n&&(d[n]=h),k=q(e,d);1<x[0].length&&x[0][1].id!==h&&(x[0][1].selected=!1)}g.$setViewValue(k)})});g.$render=h;e.$watch(h)}if(l[1]){var p=l[0];l=l[1];var r=h.multiple,t=h.ngOptions,u=!1,w,v=y(U.createElement("option")),C=y(U.createElement("optgroup")),A=v.clone();h=0;for(var x=f.children(),D=x.length;h<D;h++)if(""===x[h].value){w=u=x.eq(h);break}p.init(l,u,A);r&&(l.$isEmpty=function(a){return!a||0===a.length});t?n(e,f,l):r?m(e,f,l):k(e,f,l,p)}}}}],hd=["$interpolate",
function(a){var c={addOption:C,removeOption:C};return{restrict:"E",priority:100,compile:function(d,e){if(E(e.value)){var g=a(d.text(),!0);g||e.$set("value",d.text())}return function(a,d,e){var k=d.parent(),m=k.data("$selectController")||k.parent().data("$selectController");m&&m.databound?d.prop("selected",!1):m=c;g?a.$watch(g,function(a,c){e.$set("value",a);a!==c&&m.removeOption(c);m.addOption(a)}):m.addOption(e.value);d.on("$destroy",function(){m.removeOption(e.value)})}}}}],gd=aa({restrict:"E",
terminal:!0});O.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):((Ga=O.jQuery)?(y=Ga,D(Ga.fn,{scope:Ja.scope,isolateScope:Ja.isolateScope,controller:Ja.controller,injector:Ja.injector,inheritedData:Ja.inheritedData}),Ab("remove",!0,!0,!1),Ab("empty",!1,!1,!1),Ab("html",!1,!1,!0)):y=N,Ea.element=y,Zc(Ea),y(U).ready(function(){Wc(U,$b)}))})(window,document);!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}</style>');
//# sourceMappingURL=angular.min.js.map

},{}],4:[function(require,module,exports){
// AngularFire is an officially supported AngularJS binding for Firebase.
// The bindings let you associate a Firebase URL with a model (or set of
// models), and they will be transparently kept in sync across all clients
// currently using your app. The 2-way data binding offered by AngularJS works
// as normal, except that the changes are also sent to all other clients
// instead of just a server.
//
//      AngularFire 0.7.1
//      http://angularfire.com
//      License: MIT

"use strict";

module.exports = function(angular) {

  var AngularFire, AngularFireAuth;

  // Define the `firebase` module under which all AngularFire
  // services will live.
  angular.module("firebase", []).value("Firebase", Firebase);

  // Define the `$firebase` service that provides synchronization methods.
  angular.module("firebase").factory("$firebase", ["$q", "$parse", "$timeout",
    function($q, $parse, $timeout) {
      // The factory returns an object containing the value of the data at
      // the Firebase location provided, as well as several methods. It
      // takes a single argument:
      //
      //   * `ref`: A Firebase reference. Queries or limits may be applied.
      return function(ref) {
        var af = new AngularFire($q, $parse, $timeout, ref);
        return af.construct();
      };
    }
  ]);

  // Define the `orderByPriority` filter that sorts objects returned by
  // $firebase in the order of priority. Priority is defined by Firebase,
  // for more info see: https://www.firebase.com/docs/ordered-data.html
  angular.module("firebase").filter("orderByPriority", function() {
    return function(input) {
      var sorted = [];
      if (input) {
        if (!input.$getIndex || typeof input.$getIndex != "function") {
          // input is not an angularFire instance
          if (angular.isArray(input)) {
            // If input is an array, copy it
            sorted = input.slice(0);
          } else if (angular.isObject(input)) {
            // If input is an object, map it to an array
            angular.forEach(input, function(prop) {
              sorted.push(prop);
            });
          }
        } else {
          // input is an angularFire instance
          var index = input.$getIndex();
          if (index.length > 0) {
            for (var i = 0; i < index.length; i++) {
              var val = input[index[i]];
              if (val) {
                val.$id = index[i];
                sorted.push(val);
              }
            }
          }
        }
      }
      return sorted;
    };
  });

  // Shim Array.indexOf for IE compatibility.
  if (!Array.prototype.indexOf) {
    Array.prototype.indexOf = function (searchElement, fromIndex) {
      if (this === undefined || this === null) {
        throw new TypeError("'this' is null or not defined");
      }
      // Hack to convert object.length to a UInt32
      // jshint -W016
      var length = this.length >>> 0;
      fromIndex = +fromIndex || 0;
      // jshint +W016

      if (Math.abs(fromIndex) === Infinity) {
        fromIndex = 0;
      }

      if (fromIndex < 0) {
        fromIndex += length;
        if (fromIndex < 0) {
          fromIndex = 0;
        }
      }

      for (;fromIndex < length; fromIndex++) {
        if (this[fromIndex] === searchElement) {
          return fromIndex;
        }
      }

      return -1;
    };
  }

  // The `AngularFire` object that implements synchronization.
  AngularFire = function($q, $parse, $timeout, ref) {
    this._q = $q;
    this._parse = $parse;
    this._timeout = $timeout;

    // set to true when $bind is called, this tells us whether we need
    // to synchronize a $scope variable during data change events
    // and also whether we will need to $watch the variable for changes
    // we can only $bind to a single instance at a time
    this._bound = false;

    // true after the initial loading event completes, see _getInitialValue()
    this._loaded = false;

    // stores the list of keys if our data is an object, see $getIndex()
    this._index = [];

    // An object storing handlers used for different events.
    this._on = {
      value: [],
      change: [],
      loaded: [],
      child_added: [],
      child_moved: [],
      child_changed: [],
      child_removed: []
    };

    if (typeof ref == "string") {
      throw new Error("Please provide a Firebase reference instead " +
        "of a URL, eg: new Firebase(url)");
    }
    this._fRef = ref;
  };

  AngularFire.prototype = {
    // This function is called by the factory to create a new explicit sync
    // point between a particular model and a Firebase location.
    construct: function() {
      var self = this;
      var object = {};

      // Set the $id val equal to the Firebase reference's name() function.
      object.$id = self._fRef.ref().name();

      // Establish a 3-way data binding (implicit sync) with the specified
      // Firebase location and a model on $scope. To be used from a controller
      // to automatically synchronize *all* local changes. It takes three
      // arguments:
      //
      //    * `$scope`   : The scope with which the bound model is associated.
      //    * `name`     : The name of the model.
      //    * `defaultFn`: A function that provides a default value if the
      //                   remote value is not set. Optional.
      //
      // This function also returns a promise, which, when resolved, will be
      // provided an `unbind` method, a function which you can call to stop
      // watching the local model for changes.
      object.$bind = function(scope, name, defaultFn) {
        return self._bind(scope, name, defaultFn);
      };

      // Add an object to the remote data. Adding an object is the
      // equivalent of calling `push()` on a Firebase reference. It takes
      // one argument:
      //
      //    * `item`: The object or primitive to add.
      //
      // This function returns a promise that will be resolved when the data
      // has been successfully written to the server. If the promise is
      // resolved, it will be provided with a reference to the newly added
      // object or primitive. The key name can be extracted using `ref.name()`.
      // If the promise fails, it will resolve to an error.
      object.$add = function(item) {
        var ref;
        var deferred = self._q.defer();

        function _addCb(err) {
          if (err) {
            deferred.reject(err);
          } else {
            deferred.resolve(ref);
          }
        }

        if (typeof item == "object") {
          ref = self._fRef.ref().push(self._parseObject(item), _addCb);
        } else {
          ref = self._fRef.ref().push(item, _addCb);
        }

        return deferred.promise;
      };

      // Save the current state of the object (or a child) to the remote.
      // Takes a single optional argument:
      //
      //    * `key`: Specify a child key to save the data for. If no key is
      //             specified, the entire object's current state will
      //             be saved.
      //
      // This function returns a promise that will be resolved when the
      // data has been successfully saved to the server.
      object.$save = function(key) {
        var deferred = self._q.defer();

        function _saveCb(err) {
          if (err) {
            deferred.reject(err);
          } else {
            deferred.resolve();
          }
        }

        if (key) {
          var obj = self._parseObject(self._object[key]);
          self._fRef.ref().child(key).set(obj, _saveCb);
        } else {
          self._fRef.ref().set(self._parseObject(self._object), _saveCb);
        }

        return deferred.promise;
      };

      // Set the current state of the object to the specified value. Calling
      // this is the equivalent of calling `set()` on a Firebase reference.
      // Takes a single mandatory argument:
      //
      //    * `newValue`: The value which should overwrite data stored at
      //                  this location.
      //
      // This function returns a promise that will be resolved when the
      // data has been successfully saved to the server.
      object.$set = function(newValue) {
        var deferred = self._q.defer();
        self._fRef.ref().set(self._parseObject(newValue), function(err) {
          if (err) {
            deferred.reject(err);
          } else {
            deferred.resolve();
          }
        });
        return deferred.promise;
      };

      // Non-destructively update only a subset of keys for the current object.
      // This is the equivalent of calling `update()` on a Firebase reference.
      // Takes a single mandatory argument:
      //
      //    * `newValue`: The set of keys and values that must be updated for
      //                  this location.
      //
      // This function returns a promise that will be resolved when the data
      // has been successfully saved to the server.
      object.$update = function(newValue) {
        var deferred = self._q.defer();
        self._fRef.ref().update(self._parseObject(newValue), function(err) {
          if (err) {
            deferred.reject(err);
          } else {
            deferred.resolve();
          }
        });
        return deferred.promise;
      };

      // Update a value within a transaction. Calling this is the
      // equivalent of calling `transaction()` on a Firebase reference.
      //
      //  * `updateFn`:     A developer-supplied function which will be passed
      //                    the current data stored at this location (as a
      //                    Javascript object). The function should return the
      //                    new value it would like written (as a Javascript
      //                    object). If "undefined" is returned (i.e. you
      //                    "return;" with no arguments) the transaction will
      //                    be aborted and the data at this location will not
      //                    be modified.
      //  * `applyLocally`: By default, events are raised each time the
      //                    transaction update function runs. So if it is run
      //                    multiple times, you may see intermediate states.
      //                    You can set this to false to suppress these
      //                    intermediate states and instead wait until the
      //                    transaction has completed before events are raised.
      //
      //  This function returns a promise that will be resolved when the
      //  transaction function has completed. A successful transaction is
      //  resolved with the snapshot. If the transaction is aborted,
      //  the promise will be resolved with null.
      object.$transaction = function(updateFn, applyLocally) {
        var deferred = self._q.defer();
        self._fRef.ref().transaction(updateFn,
          function(err, committed, snapshot) {
            if (err) {
              deferred.reject(err);
            } else if (!committed) {
              deferred.resolve(null);
            } else {
              deferred.resolve(snapshot);
            }
          },
        applyLocally);
        
        return deferred.promise;
      };

      // Remove this object from the remote data. Calling this is the
      // equivalent of calling `remove()` on a Firebase reference. This
      // function takes a single optional argument:
      //
      //    * `key`: Specify a child key to remove. If no key is specified, the
      //             entire object will be removed from the remote data store.
      //
      // This function returns a promise that will be resolved when the
      // object has been successfully removed from the server.
      object.$remove = function(key) {
        var deferred = self._q.defer();

        function _removeCb(err) {
          if (err) {
            deferred.reject(err);
          } else {
            deferred.resolve();
          }
        }

        if (key) {
          self._fRef.ref().child(key).remove(_removeCb);
        } else {
          self._fRef.ref().remove(_removeCb);
        }

        return deferred.promise;
      };

      // Get an AngularFire wrapper for a named child. This function takes
      // one mandatory argument:
      //
      //    * `key`: The key name that will point to the child reference to be
      //             returned.
      object.$child = function(key) {
        var af = new AngularFire(
          self._q, self._parse, self._timeout, self._fRef.ref().child(key)
        );
        return af.construct();
      };

      // Attach an event handler for when the object is changed. You can attach
      // handlers for all Firebase events like "child_added", "value", and
      // "child_removed". Additionally, the following events, specific to
      // AngularFire, can be listened to.
      //
      //  - "change": The provided function will be called whenever the local
      //              object is modified because the remote data was updated.
      //  - "loaded": This function will be called *once*, when the initial
      //              data has been loaded. 'object' will be an empty
      //              object ({}) until this function is called.
      object.$on = function(type, callback) {
        if( self._on.hasOwnProperty(type) ) {
          self._sendInitEvent(type, callback);
          // One exception if made for the 'loaded' event. If we already loaded
          // data (perhaps because it was synced), simply fire the callback.
          if (type !== "loaded" || !this._loaded) {
            self._on[type].push(callback);
          }
        } else {
          throw new Error("Invalid event type " + type + " specified");
        }
        return object;
      };

      // Detach an event handler from a specified event type. If no callback
      // is specified, all event handlers for the specified event type will
      // be detached.
      //
      // If no type if provided, synchronization for this instance of $firebase
      // will be turned off complete.
      object.$off = function(type, callback) {
        if (self._on.hasOwnProperty(type)) {
          if (callback) {
            var index = self._on[type].indexOf(callback);
            if (index !== -1) {
              self._on[type].splice(index, 1);
            }
          } else {
            self._on[type] = [];
          }
        } else {
          self._fRef.off();
        }
      };

      // Authenticate this Firebase reference with a custom auth token.
      // Refer to the Firebase documentation on "Custom Login" for details.
      // Returns a promise that will be resolved when authentication is
      // successfully completed.
      object.$auth = function(token) {
        var deferred = self._q.defer();
        self._fRef.auth(token, function(err, obj) {
          if (err !== null) {
            deferred.reject(err);
          } else {
            deferred.resolve(obj);
          }
        }, function(rej) {
          deferred.reject(rej);
        });
        return deferred.promise;
      };

      // Return the current index, which is a list of key names in an array,
      // ordered by their Firebase priority.
      object.$getIndex = function() {
        return angular.copy(self._index);
      };

      // Return the reference used by this object.
      object.$getRef = function() {
        return self._fRef.ref();
      };

      self._object = object;
      self._getInitialValue();

      return self._object;
    },

    // This function is responsible for fetching the initial data for the
    // given reference and attaching appropriate child event handlers.
    _getInitialValue: function() {
      var self = this;

      // store changes to children and update the index of keys appropriately
      function _processSnapshot(snapshot, prevChild) {
        var key = snapshot.name();
        var val = snapshot.val();

        // If the item already exists in the index, remove it first.
        var curIdx = self._index.indexOf(key);
        if (curIdx !== -1) {
          self._index.splice(curIdx, 1);
        }

        // Update index. This is used by $getIndex and orderByPriority.
        if (prevChild) {
          var prevIdx = self._index.indexOf(prevChild);
          self._index.splice(prevIdx + 1, 0, key);
        } else {
          self._index.unshift(key);
        }

        // Store the priority of the current property as "$priority". Changing
        // the value of this property will also update the priority of the
        // object (see _parseObject).
        if (!_isPrimitive(val) && snapshot.getPriority() !== null) {
          val.$priority = snapshot.getPriority();
        }
        self._updateModel(key, val);
      }

      // Helper function to attach and broadcast events.
      function _handleAndBroadcastEvent(type, handler) {
        return function(snapshot, prevChild) {
          handler(snapshot, prevChild);
          self._broadcastEvent(type, self._makeEventSnapshot(snapshot.name(), snapshot.val(), prevChild));
        };
      }

      function _handleFirebaseEvent(type, handler) {
        self._fRef.on(type, _handleAndBroadcastEvent(type, handler));
      }
      _handleFirebaseEvent("child_added", _processSnapshot);
      _handleFirebaseEvent("child_moved", _processSnapshot);
      _handleFirebaseEvent("child_changed", _processSnapshot);
      _handleFirebaseEvent("child_removed", function(snapshot) {
        // Remove from index.
        var key = snapshot.name();
        var idx = self._index.indexOf(key);
        self._index.splice(idx, 1);

        // Remove from local model.
        self._updateModel(key, null);
      });

      function _isPrimitive(v) {
        return v === null || typeof(v) !== 'object';
      }

      function _initialLoad(value) {
        // Call handlers for the "loaded" event.
        self._loaded = true;
        self._broadcastEvent("loaded", value);
      }

      function handleNullValues(value) {
        // NULLs are handled specially. If there's a 3-way data binding
        // on a local primitive, then update that, otherwise switch to object
        // binding using child events.
        if (self._bound && value === null) {
          var local = self._parseObject(self._parse(self._name)(self._scope));
          switch (typeof local) {
          // Primitive defaults.
          case "string":
          case "undefined":
            value = "";
            break;
          case "number":
            value = 0;
            break;
          case "boolean":
            value = false;
            break;
          }
        }

        return value;
      }

      // We handle primitives and objects here together. There is no harm in having
      // child_* listeners attached; if the data suddenly changes between an object
      // and a primitive, the child_added/removed events will fire, and our data here
      // will get updated accordingly so we should be able to transition without issue
      self._fRef.on('value', function(snap) {
        // primitive handling
        var value = snap.val();
        if( _isPrimitive(value) ) {
          value = handleNullValues(value);
          self._updatePrimitive(value);
        }
        else {
          delete self._object.$value;
        }

        // broadcast the value event
        self._broadcastEvent('value', self._makeEventSnapshot(snap.name(), value));

        // broadcast initial loaded event once data and indices are set up appropriately
        if( !self._loaded ) {
          _initialLoad(value);
        }
      });
    },

    // Called whenever there is a remote change. Applies them to the local
    // model for both explicit and implicit sync modes.
    _updateModel: function(key, value) {
      if (value == null) {
        delete this._object[key];
      } else {
        this._object[key] = value;
      }

      // Call change handlers.
      this._broadcastEvent("change", key);

      // update Angular by forcing a compile event
      this._triggerModelUpdate();
    },

    // this method triggers a self._timeout event, which forces Angular to run $apply()
    // and compile the DOM content
    _triggerModelUpdate: function() {
      // since the timeout runs asynchronously, multiple updates could invoke this method
      // before it is actually executed (this occurs when Firebase sends it's initial deluge of data
      // back to our _getInitialValue() method, or when there are locally cached changes)
      // We don't want to trigger it multiple times if we can help, creating multiple dirty checks
      // and $apply operations, which are costly, so if one is already queued, we just wait for
      // it to do its work.
      if( !this._runningTimer ) {
        var self = this;
        this._runningTimer = self._timeout(function() {
          self._runningTimer = null;

          // If there is an implicit binding, also update the local model.
          if (!self._bound) {
            return;
          }

          var current = self._object;
          var local = self._parse(self._name)(self._scope);
          // If remote value matches local value, don't do anything, otherwise
          // apply the change.
          if (!angular.equals(current, local)) {
            self._parse(self._name).assign(self._scope, angular.copy(current));
          }
        });
      }
    },

    // Called whenever there is a remote change for a primitive value.
    _updatePrimitive: function(value) {
      var self = this;
      self._timeout(function() {
        // Primitive values are represented as a special object
        // {$value: value}. Only update if the remote value is different from
        // the local value.
        if (!self._object.$value ||
            !angular.equals(self._object.$value, value)) {
          self._object.$value = value;
        }

        // Call change handlers.
        self._broadcastEvent("change");

        // If there's an implicit binding, simply update the local scope model.
        if (self._bound) {
          var local = self._parseObject(self._parse(self._name)(self._scope));
          if (!angular.equals(local, value)) {
            self._parse(self._name).assign(self._scope, value);
          }
        }
      });
    },

    // If event handlers for a specified event were attached, call them.
    _broadcastEvent: function(evt, param) {
      var cbs = this._on[evt] || [];
      if( evt === 'loaded' ) {
        this._on[evt] = []; // release memory
      }
      var self = this;

      function _wrapTimeout(cb, param) {
        self._timeout(function() {
          cb(param);
        });
      }

      if (cbs.length > 0) {
        for (var i = 0; i < cbs.length; i++) {
          if (typeof cbs[i] == "function") {
            _wrapTimeout(cbs[i], param);
          }
        }
      }
    },

    // triggers an initial event for loaded, value, and child_added events (which get immediate feedback)
    _sendInitEvent: function(evt, callback) {
      var self = this;
      if( self._loaded && ['child_added', 'loaded', 'value'].indexOf(evt) > -1 ) {
        self._timeout(function() {
          var parsedValue = angular.isObject(self._object)? self._parseObject(self._object) : self._object;
          switch(evt) {
          case 'loaded':
            callback(parsedValue);
            break;
          case 'value':
            callback(self._makeEventSnapshot(self._fRef.name(), parsedValue, null));
            break;
          case 'child_added':
            self._iterateChildren(parsedValue, function(name, val, prev) {
              callback(self._makeEventSnapshot(name, val, prev));
            });
            break;
          default: // not reachable
          }
        });
      }
    },

    // assuming data is an object, this method will iterate all
    // child keys and invoke callback with (key, value, prevChild)
    _iterateChildren: function(data, callback) {
      if( this._loaded && angular.isObject(data) ) {
        var prev = null;
        for(var key in data) {
          if( data.hasOwnProperty(key) ) {
            callback(key, data[key], prev);
            prev = key;
          }
        }
      }
    },

    // creates a snapshot object compatible with _broadcastEvent notifications
    _makeEventSnapshot: function(key, value, prevChild) {
      if( angular.isUndefined(prevChild) ) {
        prevChild = null;
      }
      return {
        snapshot: {
          name: key,
          value: value
        },
        prevChild: prevChild
      };
    },

    // This function creates a 3-way binding between the provided scope model
    // and Firebase. All changes made to the local model are saved to Firebase
    // and changes to the remote data automatically appear on the local model.
    _bind: function(scope, name, defaultFn) {
      var self = this;
      var deferred = self._q.defer();

      // _updateModel or _updatePrimitive will take care of updating the local
      // model if _bound is set to true.
      self._name = name;
      self._bound = true;
      self._scope = scope;

      // If the local model is an object, call an update to set local values.
      var local = self._parse(name)(scope);
      if (local !== undefined && typeof local == "object") {
        self._fRef.ref().update(self._parseObject(local));
      }

      // We're responsible for setting up scope.$watch to reflect local changes
      // on the Firebase data.
      var unbind = scope.$watch(name, function() {
        // If the new local value matches the current remote value, we don't
        // trigger a remote update.
        var local = self._parseObject(self._parse(name)(scope));
        if (self._object.$value !== undefined &&
            angular.equals(local, self._object.$value)) {
          return;
        } else if (angular.equals(local, self._parseObject(self._object))) {
          return;
        }

        // If the local model is undefined or the remote data hasn't been
        // loaded yet, don't update.
        if (local === undefined || !self._loaded) {
          return;
        }

        // Use update if limits are in effect, set if not.
        if (self._fRef.set) {
          self._fRef.set(local);
        } else {
          self._fRef.ref().update(local);
        }
      }, true);

      // When the scope is destroyed, unbind automatically.
      scope.$on("$destroy", function() {
        unbind();
      });

      // Once we receive the initial value, the promise will be resolved.
      self._fRef.once("value", function(snap) {
        self._timeout(function() {
          // HACK / FIXME: Objects require a second event loop run, since we
          // switch from value events to child_added. See #209 on Github.
          if (typeof snap.val() != "object") {
            // If the remote value is not set and defaultFn was provided,
            // initialize the local value with the result of defaultFn().
            if (snap.val() == null && typeof defaultFn === 'function') {
              scope[name] = defaultFn();
            }
            deferred.resolve(unbind);
          } else {
            self._timeout(function() {
              // If the remote value is not set and defaultFn was provided,
              // initialize the local value with the result of defaultFn().
              if (snap.val() == null && typeof defaultFn === 'function') {
                scope[name] = defaultFn();
              }
              deferred.resolve(unbind);
            });
          }
        });
      });

      return deferred.promise;
    },

    // Parse a local model, removing all properties beginning with "$" and
    // converting $priority to ".priority".
    _parseObject: function(obj) {
      function _findReplacePriority(item) {
        for (var prop in item) {
          if (item.hasOwnProperty(prop)) {
            if (prop == "$priority") {
              item[".priority"] = item.$priority;
              delete item.$priority;
            } else if (typeof item[prop] == "object") {
              _findReplacePriority(item[prop]);
            }
          }
        }
        return item;
      }

      // We use toJson/fromJson to remove $$hashKey and others. Can be replaced
      // by angular.copy, but only for later versions of AngularJS.
      var newObj = _findReplacePriority(angular.copy(obj));
      return angular.fromJson(angular.toJson(newObj));
    }
  };


  // Defines the `$firebaseSimpleLogin` service that provides simple
  // user authentication support for AngularFire.
  angular.module("firebase").factory("$firebaseSimpleLogin", [
    "$q", "$timeout", "$rootScope", function($q, $t, $rs) {
      // The factory returns an object containing the authentication state
      // of the current user. This service takes one argument:
      //
      //   * `ref`     : A Firebase reference.
      //
      // The returned object has the following properties:
      //
      //  * `user`: Set to "null" if the user is currently logged out. This
      //    value will be changed to an object when the user successfully logs
      //    in. This object will contain details of the logged in user. The
      //    exact properties will vary based on the method used to login, but
      //    will at a minimum contain the `id` and `provider` properties.
      //
      // The returned object will also have the following methods available:
      // $login(), $logout(), $createUser(), $changePassword(), $removeUser(),
      // and $getCurrentUser().
      return function(ref) {
        var auth = new AngularFireAuth($q, $t, $rs, ref);
        return auth.construct();
      };
    }
  ]);

  AngularFireAuth = function($q, $t, $rs, ref) {
    this._q = $q;
    this._timeout = $t;
    this._rootScope = $rs;
    this._loginDeferred = null;
    this._getCurrentUserDeferred = [];
    this._currentUserData = undefined;

    if (typeof ref == "string") {
      throw new Error("Please provide a Firebase reference instead " +
        "of a URL, eg: new Firebase(url)");
    }
    this._fRef = ref;
  };

  AngularFireAuth.prototype = {
    construct: function() {
      var object = {
        user: null,
        $login: this.login.bind(this),
        $logout: this.logout.bind(this),
        $createUser: this.createUser.bind(this),
        $changePassword: this.changePassword.bind(this),
        $removeUser: this.removeUser.bind(this),
        $getCurrentUser: this.getCurrentUser.bind(this),
        $sendPasswordResetEmail: this.sendPasswordResetEmail.bind(this)
      };
      this._object = object;

      // Initialize Simple Login.
      if (!window.FirebaseSimpleLogin) {
        var err = new Error("FirebaseSimpleLogin is undefined. " +
          "Did you forget to include firebase-simple-login.js?");
        this._rootScope.$broadcast("$firebaseSimpleLogin:error", err);
        throw err;
      }

      var client = new FirebaseSimpleLogin(this._fRef,
                                           this._onLoginEvent.bind(this));
      this._authClient = client;
      return this._object;
    },

    // The login method takes a provider (for Simple Login) and authenticates
    // the Firebase reference with which the service was initialized. This
    // method returns a promise, which will be resolved when the login succeeds
    // (and rejected when an error occurs).
    login: function(provider, options) {
      var deferred = this._q.defer();
      var self = this;

      // To avoid the promise from being fulfilled by our initial login state,
      // make sure we have it before triggering the login and creating a new
      // promise.
      this.getCurrentUser().then(function() {
        self._loginDeferred = deferred;
        self._authClient.login(provider, options);
      });

      return deferred.promise;
    },

    // Unauthenticate the Firebase reference.
    logout: function() {
      // Tell the simple login client to log us out.
      this._authClient.logout();

      // Forget who we were, so that any getCurrentUser calls will wait for
      // another user event.
      delete this._currentUserData;
    },

    // Creates a user for Firebase Simple Login. Function 'cb' receives an
    // error as the first argument and a Simple Login user object as the second
    // argument. Note that this function only creates the user, if you wish to
    // log in as the newly created user, call $login() after the promise for
    // this method has been fulfilled.
    createUser: function(email, password) {
      var self = this;
      var deferred = this._q.defer();

      self._authClient.createUser(email, password, function(err, user) {
        if (err) {
          self._rootScope.$broadcast("$firebaseSimpleLogin:error", err);
          deferred.reject(err);
        } else {
          deferred.resolve(user);
        }
      });

      return deferred.promise;
    },

    // Changes the password for a Firebase Simple Login user. Take an email,
    // old password and new password as three mandatory arguments. Returns a
    // promise.
    changePassword: function(email, oldPassword, newPassword) {
      var self = this;
      var deferred = this._q.defer();

      self._authClient.changePassword(email, oldPassword, newPassword,
        function(err) {
          if (err) {
            self._rootScope.$broadcast("$firebaseSimpleLogin:error", err);
            deferred.reject(err);
          } else {
            deferred.resolve();
          }
        }
      );

      return deferred.promise;
    },

    // Gets a promise for the current user info.
    getCurrentUser: function() {
      var self = this;
      var deferred = this._q.defer();

      if (self._currentUserData !== undefined) {
        deferred.resolve(self._currentUserData);
      } else {
        self._getCurrentUserDeferred.push(deferred);
      }

      return deferred.promise;
    },

    // Remove a user for the listed email address. Returns a promise.
    removeUser: function(email, password) {
      var self = this;
      var deferred = this._q.defer();

      self._authClient.removeUser(email, password, function(err) {
        if (err) {
          self._rootScope.$broadcast("$firebaseSimpleLogin:error", err);
          deferred.reject(err);
        } else {
          deferred.resolve();
        }
      });

      return deferred.promise;
    },

    // Send a password reset email to the user for an email + password account.
    sendPasswordResetEmail: function(email) {
      var self = this;
      var deferred = this._q.defer();

      self._authClient.sendPasswordResetEmail(email, function(err) {
        if (err) {
          self._rootScope.$broadcast("$firebaseSimpleLogin:error", err);
          deferred.reject(err);
        } else {
          deferred.resolve();
        }
      });

      return deferred.promise;
    },

    // Internal callback for any Simple Login event.
    _onLoginEvent: function(err, user) {
      // HACK -- calls to logout() trigger events even if we're not logged in,
      // making us get extra events. Throw them away. This should be fixed by
      // changing Simple Login so that its callbacks refer directly to the
      // action that caused them.
      if (this._currentUserData === user && err === null) {
        return;
      }

      var self = this;
      if (err) {
        if (self._loginDeferred) {
          self._loginDeferred.reject(err);
          self._loginDeferred = null;
        }
        self._rootScope.$broadcast("$firebaseSimpleLogin:error", err);
      } else {
        this._currentUserData = user;

        self._timeout(function() {
          self._object.user = user;
          if (user) {
            self._rootScope.$broadcast("$firebaseSimpleLogin:login", user);
          } else {
            self._rootScope.$broadcast("$firebaseSimpleLogin:logout");
          }
          if (self._loginDeferred) {
            self._loginDeferred.resolve(user);
            self._loginDeferred = null;
          }
          while (self._getCurrentUserDeferred.length > 0) {
            var def = self._getCurrentUserDeferred.pop();
            def.resolve(user);
          }
        });
      }
    }
  };
};

},{}],5:[function(require,module,exports){
(function() {function g(a){throw a;}var j=void 0,k=!0,l=null,o=!1;function aa(a){return function(){return this[a]}}function r(a){return function(){return a}}var t,ba=this;function ca(){}function da(a){a.yc=function(){return a.dd?a.dd:a.dd=new a}}
function ea(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function u(a){return a!==j}function fa(a){var b=ea(a);return"array"==b||"object"==b&&"number"==typeof a.length}function v(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){var b=typeof a;return"object"==b&&a!=l||"function"==b}Math.floor(2147483648*Math.random()).toString(36);function ia(a,b,c){return a.call.apply(a.bind,arguments)}
function ja(a,b,c){a||g(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function w(a,b,c){w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return w.apply(l,arguments)}function ka(a,b){function c(){}c.prototype=b.prototype;a.Wd=b.prototype;a.prototype=new c};function la(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}g(Error("Invalid JSON string: "+a))}function ma(){this.dc=j}
function na(a,b,c){switch(typeof b){case "string":oa(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==l){c.push("null");break}if("array"==ea(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],na(a,a.dc?a.dc.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),
oa(f,c),c.push(":"),na(a,a.dc?a.dc.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:g(Error("Unknown type: "+typeof b))}}var pa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},qa=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function oa(a,b){b.push('"',a.replace(qa,function(a){if(a in pa)return pa[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return pa[a]=e+b.toString(16)}),'"')};function y(a){if("undefined"!==typeof JSON&&u(JSON.stringify))a=JSON.stringify(a);else{var b=[];na(new ma,a,b);a=b.join("")}return a};function ra(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,z(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};function A(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);e&&g(Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+"."))}function B(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:sa.assert(o,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return a+" failed: "+(d+" argument ")}
function C(a,b,c,d){(!d||u(c))&&"function"!=ea(c)&&g(Error(B(a,b,d)+"must be a valid function."))}function ta(a,b,c){u(c)&&(!ha(c)||c===l)&&g(Error(B(a,b,k)+"must be a valid context object."))};function D(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function ua(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]};var sa={},va=/[\[\].#$\/]/,wa=/[\[\].#$]/;function xa(a){return v(a)&&0!==a.length&&!va.test(a)}function ya(a,b,c){(!c||u(b))&&za(B(a,1,c),b)}
function za(a,b,c,d){c||(c=0);d||(d=[]);u(b)||g(Error(a+"contains undefined"+Aa(d)));"function"==ea(b)&&g(Error(a+"contains a function"+Aa(d)+" with contents: "+b.toString()));Ba(b)&&g(Error(a+"contains "+b.toString()+Aa(d)));1E3<c&&g(new TypeError(a+"contains a cyclic object value ("+d.slice(0,100).join(".")+"...)"));v(b)&&(b.length>10485760/3&&10485760<ra(b).length)&&g(Error(a+"contains a string greater than 10485760 utf8 bytes"+Aa(d)+" ('"+b.substring(0,50)+"...')"));if(ha(b))for(var e in b)D(b,
e)&&(".priority"!==e&&(".value"!==e&&".sv"!==e&&!xa(e))&&g(Error(a+"contains an invalid key ("+e+")"+Aa(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')),d.push(e),za(a,b[e],c+1,d),d.pop())}function Aa(a){return 0==a.length?"":" in property '"+a.join(".")+"'"}function Ca(a,b){ha(b)||g(Error(B(a,1,o)+" must be an object containing the children to replace."));ya(a,b,o)}
function Da(a,b,c,d){if(!d||u(c))c!==l&&(!ga(c)&&!v(c)&&(!ha(c)||!D(c,".sv")))&&g(Error(B(a,b,d)+"must be a valid firebase priority (null or a string.)"))}function Ea(a,b,c){if(!c||u(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:g(Error(B(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".'))}}
function Fa(a,b){u(b)&&!xa(b)&&g(Error(B(a,2,k)+'was an invalid key: "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").'))}function Ga(a,b){(!v(b)||0===b.length||wa.test(b))&&g(Error(B(a,1,o)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"'))}function E(a,b){".info"===F(b)&&g(Error(a+" failed: Can't modify data under /.info/"))};function H(a,b,c,d,e,f,h){this.n=a;this.path=b;this.Ba=c;this.da=d;this.ua=e;this.za=f;this.Ra=h;u(this.da)&&(u(this.za)&&u(this.Ba))&&g("Query: Can't combine startAt(), endAt(), and limit().")}H.prototype.Lc=function(){A("Query.ref",0,0,arguments.length);return new J(this.n,this.path)};H.prototype.ref=H.prototype.Lc;
H.prototype.Ya=function(a,b){A("Query.on",2,4,arguments.length);Ea("Query.on",a,o);C("Query.on",2,b,o);var c=Ha("Query.on",arguments[2],arguments[3]);this.n.Mb(this,a,b,c.cancel,c.S);return b};H.prototype.on=H.prototype.Ya;H.prototype.tb=function(a,b,c){A("Query.off",0,3,arguments.length);Ea("Query.off",a,k);C("Query.off",2,b,k);ta("Query.off",3,c);this.n.cc(this,a,b,c)};H.prototype.off=H.prototype.tb;
H.prototype.Jd=function(a,b){function c(h){f&&(f=o,e.tb(a,c),b.call(d.S,h))}A("Query.once",2,4,arguments.length);Ea("Query.once",a,o);C("Query.once",2,b,o);var d=Ha("Query.once",arguments[2],arguments[3]),e=this,f=k;this.Ya(a,c,function(b){e.tb(a,c);d.cancel&&d.cancel.call(d.S,b)})};H.prototype.once=H.prototype.Jd;
H.prototype.Cd=function(a){A("Query.limit",1,1,arguments.length);(!ga(a)||Math.floor(a)!==a||0>=a)&&g("Query.limit: First argument must be a positive integer.");return new H(this.n,this.path,a,this.da,this.ua,this.za,this.Ra)};H.prototype.limit=H.prototype.Cd;H.prototype.Sd=function(a,b){A("Query.startAt",0,2,arguments.length);Da("Query.startAt",1,a,k);Fa("Query.startAt",b);u(a)||(b=a=l);return new H(this.n,this.path,this.Ba,a,b,this.za,this.Ra)};H.prototype.startAt=H.prototype.Sd;
H.prototype.xd=function(a,b){A("Query.endAt",0,2,arguments.length);Da("Query.endAt",1,a,k);Fa("Query.endAt",b);return new H(this.n,this.path,this.Ba,this.da,this.ua,a,b)};H.prototype.endAt=H.prototype.xd;function Ia(a){var b={};u(a.da)&&(b.sp=a.da);u(a.ua)&&(b.sn=a.ua);u(a.za)&&(b.ep=a.za);u(a.Ra)&&(b.en=a.Ra);u(a.Ba)&&(b.l=a.Ba);u(a.da)&&(u(a.ua)&&a.da===l&&a.ua===l)&&(b.vf="l");return b}H.prototype.Ka=function(){var a=Ja(Ia(this));return"{}"===a?"default":a};
function Ha(a,b,c){var d={};b&&c?(d.cancel=b,C(a,3,d.cancel,k),d.S=c,ta(a,4,d.S)):b&&("object"===typeof b&&b!==l?d.S=b:"function"===typeof b?d.cancel=b:g(Error(B(a,3,k)+"must either be a cancel callback or a context object.")));return d};function K(a){if(a instanceof K)return a;if(1==arguments.length){this.m=a.split("/");for(var b=0,c=0;c<this.m.length;c++)0<this.m[c].length&&(this.m[b]=this.m[c],b++);this.m.length=b;this.Z=0}else this.m=arguments[0],this.Z=arguments[1]}function F(a){return a.Z>=a.m.length?l:a.m[a.Z]}function Ka(a){var b=a.Z;b<a.m.length&&b++;return new K(a.m,b)}t=K.prototype;t.toString=function(){for(var a="",b=this.Z;b<this.m.length;b++)""!==this.m[b]&&(a+="/"+this.m[b]);return a||"/"};
t.parent=function(){if(this.Z>=this.m.length)return l;for(var a=[],b=this.Z;b<this.m.length-1;b++)a.push(this.m[b]);return new K(a,0)};t.F=function(a){for(var b=[],c=this.Z;c<this.m.length;c++)b.push(this.m[c]);if(a instanceof K)for(c=a.Z;c<a.m.length;c++)b.push(a.m[c]);else{a=a.split("/");for(c=0;c<a.length;c++)0<a[c].length&&b.push(a[c])}return new K(b,0)};t.f=function(){return this.Z>=this.m.length};
function La(a,b){var c=F(a);if(c===l)return b;if(c===F(b))return La(Ka(a),Ka(b));g("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")")}t.contains=function(a){var b=0;if(this.m.length>a.m.length)return o;for(;b<this.m.length;){if(this.m[b]!==a.m[b])return o;++b}return k};function Ma(){this.children={};this.pc=0;this.value=l}function Na(a,b,c){this.Ca=a?a:"";this.zb=b?b:l;this.z=c?c:new Ma}function L(a,b){for(var c=b instanceof K?b:new K(b),d=a,e;(e=F(c))!==l;)d=new Na(e,d,ua(d.z.children,e)||new Ma),c=Ka(c);return d}t=Na.prototype;t.k=function(){return this.z.value};function M(a,b){z("undefined"!==typeof b);a.z.value=b;Oa(a)}t.lb=function(){return 0<this.z.pc};t.f=function(){return this.k()===l&&!this.lb()};
t.w=function(a){for(var b in this.z.children)a(new Na(b,this,this.z.children[b]))};function Pa(a,b,c,d){c&&!d&&b(a);a.w(function(a){Pa(a,b,k,d)});c&&d&&b(a)}function Qa(a,b,c){for(a=c?a:a.parent();a!==l;){if(b(a))return k;a=a.parent()}return o}t.path=function(){return new K(this.zb===l?this.Ca:this.zb.path()+"/"+this.Ca)};t.name=aa("Ca");t.parent=aa("zb");
function Oa(a){if(a.zb!==l){var b=a.zb,c=a.Ca,d=a.f(),e=D(b.z.children,c);d&&e?(delete b.z.children[c],b.z.pc--,Oa(b)):!d&&!e&&(b.z.children[c]=a.z,b.z.pc++,Oa(b))}};function Ra(a,b){this.Oa=a?a:Sa;this.ca=b?b:Ta}function Sa(a,b){return a<b?-1:a>b?1:0}t=Ra.prototype;t.na=function(a,b){return new Ra(this.Oa,this.ca.na(a,b,this.Oa).copy(l,l,o,l,l))};t.remove=function(a){return new Ra(this.Oa,this.ca.remove(a,this.Oa).copy(l,l,o,l,l))};t.get=function(a){for(var b,c=this.ca;!c.f();){b=this.Oa(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return l};
function Ua(a,b){for(var c,d=a.ca,e=l;!d.f();){c=a.Oa(b,d.key);if(0===c){if(d.left.f())return e?e.key:l;for(d=d.left;!d.right.f();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}g(Error("Attempted to find predecessor key for a nonexistent key.  What gives?"))}t.f=function(){return this.ca.f()};t.count=function(){return this.ca.count()};t.rb=function(){return this.ca.rb()};t.Wa=function(){return this.ca.Wa()};t.Aa=function(a){return this.ca.Aa(a)};t.La=function(a){return this.ca.La(a)};
t.Ua=function(a){return new Va(this.ca,a)};function Va(a,b){this.ld=b;for(this.Qb=[];!a.f();)this.Qb.push(a),a=a.left}function Wa(a){if(0===a.Qb.length)return l;var b=a.Qb.pop(),c;c=a.ld?a.ld(b.key,b.value):{key:b.key,value:b.value};for(b=b.right;!b.f();)a.Qb.push(b),b=b.left;return c}function Xa(a,b,c,d,e){this.key=a;this.value=b;this.color=c!=l?c:k;this.left=d!=l?d:Ta;this.right=e!=l?e:Ta}t=Xa.prototype;
t.copy=function(a,b,c,d,e){return new Xa(a!=l?a:this.key,b!=l?b:this.value,c!=l?c:this.color,d!=l?d:this.left,e!=l?e:this.right)};t.count=function(){return this.left.count()+1+this.right.count()};t.f=r(o);t.Aa=function(a){return this.left.Aa(a)||a(this.key,this.value)||this.right.Aa(a)};t.La=function(a){return this.right.La(a)||a(this.key,this.value)||this.left.La(a)};function Ya(a){return a.left.f()?a:Ya(a.left)}t.rb=function(){return Ya(this).key};
t.Wa=function(){return this.right.f()?this.key:this.right.Wa()};t.na=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.copy(l,l,l,e.left.na(a,b,c),l):0===d?e.copy(l,b,l,l,l):e.copy(l,l,l,l,e.right.na(a,b,c));return Za(e)};function $a(a){if(a.left.f())return Ta;!a.left.N()&&!a.left.left.N()&&(a=cb(a));a=a.copy(l,l,l,$a(a.left),l);return Za(a)}
t.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))!c.left.f()&&(!c.left.N()&&!c.left.left.N())&&(c=cb(c)),c=c.copy(l,l,l,c.left.remove(a,b),l);else{c.left.N()&&(c=db(c));!c.right.f()&&(!c.right.N()&&!c.right.left.N())&&(c=eb(c),c.left.left.N()&&(c=db(c),c=eb(c)));if(0===b(a,c.key)){if(c.right.f())return Ta;d=Ya(c.right);c=c.copy(d.key,d.value,l,l,$a(c.right))}c=c.copy(l,l,l,l,c.right.remove(a,b))}return Za(c)};t.N=aa("color");
function Za(a){a.right.N()&&!a.left.N()&&(a=fb(a));a.left.N()&&a.left.left.N()&&(a=db(a));a.left.N()&&a.right.N()&&(a=eb(a));return a}function cb(a){a=eb(a);a.right.left.N()&&(a=a.copy(l,l,l,l,db(a.right)),a=fb(a),a=eb(a));return a}function fb(a){var b;b=a.copy(l,l,k,l,a.right.left);return a.right.copy(l,l,a.color,b,l)}function db(a){var b;b=a.copy(l,l,k,a.left.right,l);return a.left.copy(l,l,a.color,l,b)}
function eb(a){var b,c;b=a.left.copy(l,l,!a.left.color,l,l);c=a.right.copy(l,l,!a.right.color,l,l);return a.copy(l,l,!a.color,b,c)}function gb(){}t=gb.prototype;t.copy=function(){return this};t.na=function(a,b){return new Xa(a,b,j,j,j)};t.remove=function(){return this};t.count=r(0);t.f=r(k);t.Aa=r(o);t.La=r(o);t.rb=r(l);t.Wa=r(l);t.N=r(o);var Ta=new gb;var hb=Array.prototype,ib=hb.forEach?function(a,b,c){hb.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},jb=hb.map?function(a,b,c){return hb.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=v(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e};function kb(){};function lb(){this.B=[];this.oc=[];this.sd=[];this.Wb=[];this.Wb[0]=128;for(var a=1;64>a;++a)this.Wb[a]=0;this.reset()}ka(lb,kb);lb.prototype.reset=function(){this.B[0]=1732584193;this.B[1]=4023233417;this.B[2]=2562383102;this.B[3]=271733878;this.B[4]=3285377520;this.Uc=this.mb=0};
function mb(a,b){var c;c||(c=0);for(var d=a.sd,e=c;e<c+64;e+=4)d[e/4]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3];for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}c=a.B[0];for(var h=a.B[1],i=a.B[2],m=a.B[3],n=a.B[4],p,e=0;80>e;e++)40>e?20>e?(f=m^h&(i^m),p=1518500249):(f=h^i^m,p=1859775393):60>e?(f=h&i|m&(h|i),p=2400959708):(f=h^i^m,p=3395469782),f=(c<<5|c>>>27)+f+n+p+d[e]&4294967295,n=m,m=i,i=(h<<30|h>>>2)&4294967295,h=c,c=f;a.B[0]=a.B[0]+c&4294967295;a.B[1]=a.B[1]+h&
4294967295;a.B[2]=a.B[2]+i&4294967295;a.B[3]=a.B[3]+m&4294967295;a.B[4]=a.B[4]+n&4294967295}lb.prototype.update=function(a,b){u(b)||(b=a.length);var c=this.oc,d=this.mb,e=0;if(v(a))for(;e<b;)c[d++]=a.charCodeAt(e++),64==d&&(mb(this,c),d=0);else for(;e<b;)c[d++]=a[e++],64==d&&(mb(this,c),d=0);this.mb=d;this.Uc+=b};function nb(){this.Na={};this.length=0}nb.prototype.setItem=function(a,b){D(this.Na,a)||(this.length+=1);this.Na[a]=b};nb.prototype.getItem=function(a){return D(this.Na,a)?this.Na[a]:l};nb.prototype.removeItem=function(a){D(this.Na,a)&&(this.length-=1,delete this.Na[a])};var ob=l;if("undefined"!==typeof sessionStorage)try{sessionStorage.setItem("firebase-sentinel","cache"),sessionStorage.removeItem("firebase-sentinel"),ob=sessionStorage}catch(pb){ob=new nb}else ob=new nb;function qb(a,b,c,d){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.ec=b;this.sb=c;this.fa=d||ob.getItem(a)||this.host}function rb(a,b){b!==a.fa&&(a.fa=b,"s-"===a.fa.substr(0,2)&&ob.setItem(a.host,a.fa))}qb.prototype.toString=function(){return(this.ec?"https://":"http://")+this.host};var sb,tb,ub,vb;function wb(){return ba.navigator?ba.navigator.userAgent:l}vb=ub=tb=sb=o;var xb;if(xb=wb()){var yb=ba.navigator;sb=0==xb.indexOf("Opera");tb=!sb&&-1!=xb.indexOf("MSIE");ub=!sb&&-1!=xb.indexOf("WebKit");vb=!sb&&!ub&&"Gecko"==yb.product}var zb=tb,Ab=vb,Bb=ub;var Cb;if(sb&&ba.opera){var Db=ba.opera.version;"function"==typeof Db&&Db()}else Ab?Cb=/rv\:([^\);]+)(\)|;)/:zb?Cb=/MSIE\s+([^\);]+)(\)|;)/:Bb&&(Cb=/WebKit\/(\S+)/),Cb&&Cb.exec(wb());var Eb=l,Fb=l;
function Gb(a,b){fa(a)||g(Error("encodeByteArray takes an array as a parameter"));if(!Eb){Eb={};Fb={};for(var c=0;65>c;c++)Eb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),Fb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}for(var c=b?Fb:Eb,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,i=h?a[e+1]:0,m=e+2<a.length,n=m?a[e+2]:0,p=f>>2,f=(f&3)<<4|i>>4,i=(i&15)<<2|n>>6,n=n&63;m||(n=64,h||(i=64));d.push(c[p],c[f],c[i],c[n])}return d.join("")}
;var Hb,Ib=1;Hb=function(){return Ib++};function z(a,b){a||g(Error("Firebase INTERNAL ASSERT FAILED:"+b))}function Jb(a){var b=ra(a),a=new lb;a.update(b);var b=[],c=8*a.Uc;56>a.mb?a.update(a.Wb,56-a.mb):a.update(a.Wb,64-(a.mb-56));for(var d=63;56<=d;d--)a.oc[d]=c&255,c/=256;mb(a,a.oc);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c++]=a.B[d]>>e&255;return Gb(b)}
function Kb(){for(var a="",b=0;b<arguments.length;b++)a=fa(arguments[b])?a+Kb.apply(l,arguments[b]):"object"===typeof arguments[b]?a+y(arguments[b]):a+arguments[b],a+=" ";return a}var Lb=l,Mb=k;function N(){Mb===k&&(Mb=o,Lb===l&&"true"===ob.getItem("logging_enabled")&&Nb(k));if(Lb){var a=Kb.apply(l,arguments);Lb(a)}}function Ob(a){return function(){N(a,arguments)}}
function Pb(){if("undefined"!==typeof console){var a="FIREBASE INTERNAL ERROR: "+Kb.apply(l,arguments);"undefined"!==typeof console.error?console.error(a):console.log(a)}}function Qb(){var a=Kb.apply(l,arguments);g(Error("FIREBASE FATAL ERROR: "+a))}function P(){if("undefined"!==typeof console){var a="FIREBASE WARNING: "+Kb.apply(l,arguments);"undefined"!==typeof console.warn?console.warn(a):console.log(a)}}
function Ba(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function Rb(a,b){return a!==b?a===l?-1:b===l?1:typeof a!==typeof b?"number"===typeof a?-1:1:a>b?1:-1:0}function Sb(a,b){if(a===b)return 0;var c=Tb(a),d=Tb(b);return c!==l?d!==l?c-d:-1:d!==l?1:a<b?-1:1}function Ub(a,b){if(b&&a in b)return b[a];g(Error("Missing required key ("+a+") in object: "+y(b)))}
function Ja(a){if("object"!==typeof a||a===l)return y(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=y(b[d]),c+=":",c+=Ja(a[b[d]]);return c+"}"}function Vb(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function Wb(a,b){if("array"==ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else Xb(a,b)}
function Yb(a){z(!Ba(a));var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;a-=1)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;a-=1)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&(d="0"+d),c+=d;
return c.toLowerCase()}var Zb=/^-?\d{1,10}$/;function Tb(a){return Zb.test(a)&&(a=parseInt(a),-2147483648<=a&&2147483647>=a)?a:l}function $b(a){try{a()}catch(b){setTimeout(function(){g(b)})}};function ac(a,b){this.D=a;z(this.D!==l,"LeafNode shouldn't be created with null value.");this.Za="undefined"!==typeof b?b:l}t=ac.prototype;t.M=r(k);t.j=aa("Za");t.Ea=function(a){return new ac(this.D,a)};t.L=function(){return Q};t.P=function(a){return F(a)===l?this:Q};t.ea=r(l);t.G=function(a,b){return(new R).G(a,b).Ea(this.Za)};t.xa=function(a,b){var c=F(a);return c===l?b:this.G(c,Q.xa(Ka(a),b))};t.f=r(o);t.Rb=r(0);t.U=function(a){return a&&this.j()!==l?{".value":this.k(),".priority":this.j()}:this.k()};
t.hash=function(){var a="";this.j()!==l&&(a+="priority:"+bc(this.j())+":");var b=typeof this.D,a=a+(b+":"),a="number"===b?a+Yb(this.D):a+this.D;return Jb(a)};t.k=aa("D");t.toString=function(){return"string"===typeof this.D?'"'+this.D+'"':this.D};function cc(a,b){return Rb(a.ia,b.ia)||Sb(a.name,b.name)}function dc(a,b){return Sb(a.name,b.name)}function ec(a,b){return Sb(a,b)};function R(a,b){this.o=a||new Ra(ec);this.Za="undefined"!==typeof b?b:l}t=R.prototype;t.M=r(o);t.j=aa("Za");t.Ea=function(a){return new R(this.o,a)};t.G=function(a,b){var c=this.o.remove(a);b&&b.f()&&(b=l);b!==l&&(c=c.na(a,b));return b&&b.j()!==l?new fc(c,l,this.Za):new R(c,this.Za)};t.xa=function(a,b){var c=F(a);if(c===l)return b;var d=this.L(c).xa(Ka(a),b);return this.G(c,d)};t.f=function(){return this.o.f()};t.Rb=function(){return this.o.count()};var gc=/^\d+$/;t=R.prototype;
t.U=function(a){if(this.f())return l;var b={},c=0,d=0,e=k;this.w(function(f,h){b[f]=h.U(a);c++;e&&gc.test(f)?d=Math.max(d,Number(f)):e=o});if(!a&&e&&d<2*c){var f=[],h;for(h in b)f[h]=b[h];return f}a&&this.j()!==l&&(b[".priority"]=this.j());return b};t.hash=function(){var a="";this.j()!==l&&(a+="priority:"+bc(this.j())+":");this.w(function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});return""===a?"":Jb(a)};t.L=function(a){a=this.o.get(a);return a===l?Q:a};
t.P=function(a){var b=F(a);return b===l?this:this.L(b).P(Ka(a))};t.ea=function(a){return Ua(this.o,a)};t.bd=function(){return this.o.rb()};t.cd=function(){return this.o.Wa()};t.w=function(a){return this.o.Aa(a)};t.vc=function(a){return this.o.La(a)};t.Ua=function(){return this.o.Ua()};t.toString=function(){var a="{",b=k;this.w(function(c,d){b?b=o:a+=", ";a+='"'+c+'" : '+d.toString()});return a+="}"};var Q=new R;function fc(a,b,c){R.call(this,a,c);b===l&&(b=new Ra(cc),a.Aa(function(a,c){b=b.na({name:a,ia:c.j()},c)}));this.ta=b}ka(fc,R);t=fc.prototype;t.G=function(a,b){var c=this.L(a),d=this.o,e=this.ta;c!==l&&(d=d.remove(a),e=e.remove({name:a,ia:c.j()}));b&&b.f()&&(b=l);b!==l&&(d=d.na(a,b),e=e.na({name:a,ia:b.j()},b));return new fc(d,e,this.j())};t.ea=function(a,b){var c=Ua(this.ta,{name:a,ia:b.j()});return c?c.name:l};t.w=function(a){return this.ta.Aa(function(b,c){return a(b.name,c)})};
t.vc=function(a){return this.ta.La(function(b,c){return a(b.name,c)})};t.Ua=function(){return this.ta.Ua(function(a,b){return{key:a.name,value:b}})};t.bd=function(){return this.ta.f()?l:this.ta.rb().name};t.cd=function(){return this.ta.f()?l:this.ta.Wa().name};function S(a,b){if(a===l)return Q;var c=l;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);z(c===l||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c);"object"===typeof a&&(".value"in a&&a[".value"]!==l)&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new ac(a,c);if(a instanceof Array){var d=Q,e;for(e in a)if(D(a,e)&&"."!==e.substring(0,1)){var f=S(a[e]);if(f.M()||!f.f())d=d.G(e,f)}return d.Ea(c)}var h=[],i={},m=o;Wb(a,function(b,
c){if("string"!==typeof c||"."!==c.substring(0,1)){var d=S(a[c]);d.f()||(m=m||d.j()!==l,h.push({name:c,ia:d.j()}),i[c]=d)}});d=hc(h,i,o);return m?(e=hc(h,i,k),new fc(d,e,c)):new R(d,c)}var ic=Math.log(2);function jc(a){this.count=parseInt(Math.log(a+1)/ic);this.Zc=this.count-1;this.ud=a+1&parseInt(Array(this.count+1).join("1"),2)}
function hc(a,b,c){function d(d,f){var h=n-d,p=n;n-=d;var q=a[h].name,h=new Xa(c?a[h]:q,b[q],f,l,e(h+1,p));i?i.left=h:m=h;i=h}function e(d,f){var h=f-d;if(0==h)return l;if(1==h){var h=a[d].name,i=c?a[d]:h;return new Xa(i,b[h],o,l,l)}var i=parseInt(h/2)+d,m=e(d,i),n=e(i+1,f),h=a[i].name,i=c?a[i]:h;return new Xa(i,b[h],o,m,n)}var f=c?cc:dc;a.sort(f);var h,f=new jc(a.length),i=l,m=l,n=a.length;for(h=0;h<f.count;++h){var p=!(f.ud&1<<f.Zc);f.Zc--;var q=Math.pow(2,f.count-(h+1));p?d(q,o):(d(q,o),d(q,k))}h=
m;f=c?cc:ec;return h!==l?new Ra(f,h):new Ra(f)}function bc(a){return"number"===typeof a?"number:"+Yb(a):"string:"+a};function T(a,b){this.z=a;this.bc=b}T.prototype.U=function(){A("Firebase.DataSnapshot.val",0,0,arguments.length);return this.z.U()};T.prototype.val=T.prototype.U;T.prototype.yd=function(){A("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.z.U(k)};T.prototype.exportVal=T.prototype.yd;T.prototype.F=function(a){A("Firebase.DataSnapshot.child",0,1,arguments.length);ga(a)&&(a=String(a));Ga("Firebase.DataSnapshot.child",a);var b=new K(a),c=this.bc.F(b);return new T(this.z.P(b),c)};
T.prototype.child=T.prototype.F;T.prototype.Ac=function(a){A("Firebase.DataSnapshot.hasChild",1,1,arguments.length);Ga("Firebase.DataSnapshot.hasChild",a);var b=new K(a);return!this.z.P(b).f()};T.prototype.hasChild=T.prototype.Ac;T.prototype.j=function(){A("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.z.j()};T.prototype.getPriority=T.prototype.j;
T.prototype.forEach=function(a){A("Firebase.DataSnapshot.forEach",1,1,arguments.length);C("Firebase.DataSnapshot.forEach",1,a,o);if(this.z.M())return o;var b=this;return this.z.w(function(c,d){return a(new T(d,b.bc.F(c)))})};T.prototype.forEach=T.prototype.forEach;T.prototype.lb=function(){A("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.z.M()?o:!this.z.f()};T.prototype.hasChildren=T.prototype.lb;
T.prototype.name=function(){A("Firebase.DataSnapshot.name",0,0,arguments.length);return this.bc.name()};T.prototype.name=T.prototype.name;T.prototype.Rb=function(){A("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.z.Rb()};T.prototype.numChildren=T.prototype.Rb;T.prototype.Lc=function(){A("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.bc};T.prototype.ref=T.prototype.Lc;function kc(a){z("array"==ea(a)&&0<a.length);this.td=a;this.qb={}}kc.prototype.xc=function(){};kc.prototype.Wc=function(a){for(var b=this.qb[a]||[],c=0;c<b.length;c++)b[c].W.apply(b[c].S,Array.prototype.slice.call(arguments,1))};kc.prototype.Ya=function(a,b,c){mc(this,a);this.qb[a]=this.qb[a]||[];this.qb[a].push({W:b,S:c});(a=this.xc(a))&&b.apply(c,a)};kc.prototype.tb=function(a,b,c){mc(this,a);for(var a=this.qb[a]||[],d=0;d<a.length;d++)if(a[d].W===b&&(!c||c===a[d].S)){a.splice(d,1);break}};
function mc(a,b){var c=a.td,d;a:{d=function(a){return a===b};for(var e=c.length,f=v(c)?c.split(""):c,h=0;h<e;h++)if(h in f&&d.call(j,f[h])){d=h;break a}d=-1}z(0>d?l:v(c)?c.charAt(d):c[d],"Unknown event: "+b)};function nc(){kc.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.gb=k;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];if(b!==c.gb){c.gb=b;c.Wc("visible",b)}},o)}}ka(nc,kc);da(nc);nc.prototype.xc=function(a){z("visible"===a);return[this.gb]};function oc(a){this.Hc=a;this.Yb=[];this.Qa=0;this.qc=-1;this.Ia=l};function Xb(a,b){for(var c in a)b.call(j,a[c],c,a)}function pc(a){var b={},c;for(c in a)b[c]=a[c];return b};function qc(){this.ib={}}function rc(a,b,c){u(c)||(c=1);D(a.ib,b)||(a.ib[b]=0);a.ib[b]+=c}qc.prototype.get=function(){return pc(this.ib)};function sc(a){this.vd=a;this.Pb=l}sc.prototype.get=function(){var a=this.vd.get(),b=pc(a);if(this.Pb)for(var c in this.Pb)b[c]-=this.Pb[c];this.Pb=a;return b};function tc(a,b){this.Rc={};this.hc=new sc(a);this.u=b;setTimeout(w(this.jd,this),10+6E4*Math.random())}tc.prototype.jd=function(){var a=this.hc.get(),b={},c=o,d;for(d in a)0<a[d]&&D(this.Rc,d)&&(b[d]=a[d],c=k);c&&(a=this.u,a.V&&(b={c:b},a.e("reportStats",b),a.Da("s",b)));setTimeout(w(this.jd,this),6E5*Math.random())};var uc={},vc={};function wc(a){a=a.toString();uc[a]||(uc[a]=new qc);return uc[a]};var xc=l;"undefined"!==typeof MozWebSocket?xc=MozWebSocket:"undefined"!==typeof WebSocket&&(xc=WebSocket);function yc(a,b,c){this.rc=a;this.e=Ob(this.rc);this.frames=this.ob=l;this.Tc=0;this.$=wc(b);this.Pa=(b.ec?"wss://":"ws://")+b.fa+"/.ws?v=5";b.host!==b.fa&&(this.Pa=this.Pa+"&ns="+b.sb);c&&(this.Pa=this.Pa+"&s="+c)}var zc;
yc.prototype.open=function(a,b){this.ha=b;this.Gd=a;this.e("websocket connecting to "+this.Pa);this.Y=new xc(this.Pa);this.jb=o;var c=this;this.Y.onopen=function(){c.e("Websocket connected.");c.jb=k};this.Y.onclose=function(){c.e("Websocket connection was disconnected.");c.Y=l;c.Ja()};this.Y.onmessage=function(a){if(c.Y!==l)if(a=a.data,rc(c.$,"bytes_received",a.length),Ac(c),c.frames!==l)Bc(c,a);else{a:{z(c.frames===l,"We already have a frame buffer");if(4>=a.length){var b=Number(a);if(!isNaN(b)){c.Tc=
b;c.frames=[];a=l;break a}}c.Tc=1;c.frames=[]}a!==l&&Bc(c,a)}};this.Y.onerror=function(a){c.e("WebSocket error.  Closing connection.");a.data&&c.e(a.data);c.Ja()}};yc.prototype.start=function(){};yc.isAvailable=function(){return!("undefined"!==typeof navigator&&"Opera"===navigator.appName)&&xc!==l&&!zc};function Bc(a,b){a.frames.push(b);if(a.frames.length==a.Tc){var c=a.frames.join("");a.frames=l;c="undefined"!==typeof JSON&&u(JSON.parse)?JSON.parse(c):la(c);a.Gd(c)}}
yc.prototype.send=function(a){Ac(this);a=y(a);rc(this.$,"bytes_sent",a.length);a=Vb(a,16384);1<a.length&&this.Y.send(String(a.length));for(var b=0;b<a.length;b++)this.Y.send(a[b])};yc.prototype.Ib=function(){this.Ha=k;this.ob&&(clearInterval(this.ob),this.ob=l);this.Y&&(this.Y.close(),this.Y=l)};yc.prototype.Ja=function(){this.Ha||(this.e("WebSocket is closing itself"),this.Ib(),this.ha&&(this.ha(this.jb),this.ha=l))};yc.prototype.close=function(){this.Ha||(this.e("WebSocket is being closed"),this.Ib())};
function Ac(a){clearInterval(a.ob);a.ob=setInterval(function(){a.Y.send("0");Ac(a)},45E3)};function Cc(){this.set={}}t=Cc.prototype;t.add=function(a,b){this.set[a]=b!==l?b:k};t.contains=function(a){return D(this.set,a)};t.get=function(a){return this.contains(a)?this.set[a]:j};t.remove=function(a){delete this.set[a]};t.f=function(){var a;a:{for(a in this.set){a=o;break a}a=k}return a};t.count=function(){var a=0,b;for(b in this.set)a++;return a};function U(a,b){for(var c in a.set)D(a.set,c)&&b(c,a.set[c])}t.keys=function(){var a=[],b;for(b in this.set)D(this.set,b)&&a.push(b);return a};var Dc="pLPCommand",Ec="pRTLPCB";function Fc(a,b,c){this.rc=a;this.e=Ob(a);this.Vd=b;this.$=wc(b);this.gc=c;this.jb=o;this.Lb=function(a){b.host!==b.fa&&(a.ns=b.sb);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.ec?"https://":"http://")+b.fa+"/.lp?"+c.join("&")}}var Gc,Hc;
Fc.prototype.open=function(a,b){function c(){if(!d.Ha){d.ja=new Ic(function(a,b,c,e,f){rc(d.$,"bytes_received",y(arguments).length);if(d.ja)if(d.Fa&&(clearTimeout(d.Fa),d.Fa=l),d.jb=k,"start"==a)d.id=b,d.hd=c;else if("close"===a)if(b){d.ja.fc=o;var h=d.ed;h.qc=b;h.Ia=function(){d.Ja()};h.qc<h.Qa&&(h.Ia(),h.Ia=l)}else d.Ja();else g(Error("Unrecognized command received: "+a))},function(a,b){rc(d.$,"bytes_received",y(arguments).length);var c=d.ed;for(c.Yb[a]=b;c.Yb[c.Qa];){var e=c.Yb[c.Qa];delete c.Yb[c.Qa];
for(var f=0;f<e.length;++f)if(e[f]){var h=c;$b(function(){h.Hc(e[f])})}if(c.Qa===c.qc){c.Ia&&(clearTimeout(c.Ia),c.Ia(),c.Ia=l);break}c.Qa++}},function(){d.Ja()},d.Lb);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());d.ja.jc&&(a.cb=d.ja.jc);a.v="5";d.gc&&(a.s=d.gc);a=d.Lb(a);d.e("Connecting via long-poll to "+a);Jc(d.ja,a,function(){})}}this.Yc=0;this.Q=b;this.ed=new oc(a);this.Ha=o;var d=this;this.Fa=setTimeout(function(){d.e("Timed out trying to connect.");d.Ja();d.Fa=l},3E4);if("complete"===
document.readyState)c();else{var e=o,f=function(){document.body?e||(e=k,c()):setTimeout(f,10)};document.addEventListener?(document.addEventListener("DOMContentLoaded",f,o),window.addEventListener("load",f,o)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&f()},o),window.attachEvent("onload",f,o))}};
Fc.prototype.start=function(){var a=this.ja,b=this.hd;a.Ed=this.id;a.Fd=b;for(a.mc=k;Kc(a););a=this.id;b=this.hd;this.Xa=document.createElement("iframe");var c={dframe:"t"};c.id=a;c.pw=b;a=this.Lb(c);this.Xa.src=a;this.Xa.style.display="none";document.body.appendChild(this.Xa)};Fc.isAvailable=function(){return!Hc&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.Ud)&&(Gc||k)};
Fc.prototype.Ib=function(){this.Ha=k;this.ja&&(this.ja.close(),this.ja=l);this.Xa&&(document.body.removeChild(this.Xa),this.Xa=l);this.Fa&&(clearTimeout(this.Fa),this.Fa=l)};Fc.prototype.Ja=function(){this.Ha||(this.e("Longpoll is closing itself"),this.Ib(),this.Q&&(this.Q(this.jb),this.Q=l))};Fc.prototype.close=function(){this.Ha||(this.e("Longpoll is being closed."),this.Ib())};
Fc.prototype.send=function(a){a=y(a);rc(this.$,"bytes_sent",a.length);for(var a=ra(a),a=Gb(a,k),a=Vb(a,1840),b=0;b<a.length;b++){var c=this.ja;c.Bb.push({Od:this.Yc,Td:a.length,$c:a[b]});c.mc&&Kc(c);this.Yc++}};
function Ic(a,b,c,d){this.Lb=d;this.ha=c;this.Jc=new Cc;this.Bb=[];this.sc=Math.floor(1E8*Math.random());this.fc=k;this.jc=Hb();window[Dc+this.jc]=a;window[Ec+this.jc]=b;a=document.createElement("iframe");a.style.display="none";if(document.body){document.body.appendChild(a);try{a.contentWindow.document||N("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else g("Document body has not initialized. Wait to initialize Firebase until after the document is ready.");
a.contentDocument?a.ya=a.contentDocument:a.contentWindow?a.ya=a.contentWindow.document:a.document&&(a.ya=a.document);this.X=a;a="";this.X.src&&"javascript:"===this.X.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');a="<html><body>"+a+"</body></html>";try{this.X.ya.open(),this.X.ya.write(a),this.X.ya.close()}catch(f){N("frame writing exception"),f.stack&&N(f.stack),N(f)}}
Ic.prototype.close=function(){this.mc=o;if(this.X){this.X.ya.body.innerHTML="";var a=this;setTimeout(function(){a.X!==l&&(document.body.removeChild(a.X),a.X=l)},0)}var b=this.ha;b&&(this.ha=l,b())};
function Kc(a){if(a.mc&&a.fc&&a.Jc.count()<(0<a.Bb.length?2:1)){a.sc++;var b={};b.id=a.Ed;b.pw=a.Fd;b.ser=a.sc;for(var b=a.Lb(b),c="",d=0;0<a.Bb.length;)if(1870>=a.Bb[0].$c.length+30+c.length){var e=a.Bb.shift(),c=c+"&seg"+d+"="+e.Od+"&ts"+d+"="+e.Td+"&d"+d+"="+e.$c;d++}else break;var b=b+c,f=a.sc;a.Jc.add(f);var h=function(){a.Jc.remove(f);Kc(a)},i=setTimeout(h,25E3);Jc(a,b,function(){clearTimeout(i);h()});return k}return o}
function Jc(a,b,c){setTimeout(function(){try{if(a.fc){var d=a.X.ya.createElement("script");d.type="text/javascript";d.async=k;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;if(!a||"loaded"===a||"complete"===a)d.onload=d.onreadystatechange=l,d.parentNode&&d.parentNode.removeChild(d),c()};d.onerror=function(){N("Long-poll script failed to load: "+b);a.fc=o;a.close()};a.X.ya.body.appendChild(d)}}catch(e){}},1)};function Lc(){var a=[];Wb(Mc,function(b,c){c&&c.isAvailable()&&a.push(c)});this.ic=a}var Mc=[Fc,{isAvailable:r(o)},yc];function Nc(a,b,c,d,e,f){this.id=a;this.e=Ob("c:"+this.id+":");this.Hc=c;this.wb=d;this.Q=e;this.Gc=f;this.O=b;this.Xb=[];this.Xc=0;this.Vc=new Lc;this.va=0;this.e("Connection created");Oc(this)}function Oc(a){var b;var c=a.Vc;0<c.ic.length?b=c.ic[0]:g(Error("No transports available"));a.K=new b("c:"+a.id+":"+a.Xc++,a.O);var d=Pc(a,a.K),e=Qc(a,a.K);a.Jb=a.K;a.Hb=a.K;a.A=l;setTimeout(function(){a.K&&a.K.open(d,e)},0)}
function Qc(a,b){return function(c){b===a.K?(a.K=l,!c&&0===a.va?(a.e("Realtime connection failed."),"s-"===a.O.fa.substr(0,2)&&(ob.removeItem(a.O.sb),a.O.fa=a.O.host)):1===a.va&&a.e("Realtime connection lost."),a.close()):b===a.A?(c=a.A,a.A=l,(a.Jb===c||a.Hb===c)&&a.close()):a.e("closing an old connection")}}
function Pc(a,b){return function(c){if(2!=a.va)if(b===a.Hb){var d=Ub("t",c),c=Ub("d",c);if("c"==d){if(d=Ub("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.gc=c.s;rb(a.O,f);if(0==a.va&&(a.K.start(),c=a.K,a.e("Realtime connection established."),a.K=c,a.va=1,a.wb&&(a.wb(d),a.wb=l),"5"!==e&&P("Protocol version mismatch detected"),c=1<a.Vc.ic.length?a.Vc.ic[1]:l))a.A=new c("c:"+a.id+":"+a.Xc++,a.O,a.gc),a.A.open(Pc(a,a.A),Qc(a,a.A))}else if("n"===d){a.e("recvd end transmission on primary");a.Hb=
a.A;for(c=0;c<a.Xb.length;++c)a.Ub(a.Xb[c]);a.Xb=[];Rc(a)}else"s"===d?(a.e("Connection shutdown command received. Shutting down..."),a.Gc&&(a.Gc(c),a.Gc=l),a.Q=l,a.close()):"r"===d?(a.e("Reset packet received.  New host: "+c),rb(a.O,c),1===a.va?a.close():(Sc(a),Oc(a))):"e"===d?Pb("Server Error: "+c):Pb("Unknown control packet command: "+d)}else"d"==d&&a.Ub(c)}else b===a.A?(d=Ub("t",c),c=Ub("d",c),"c"==d?"t"in c&&(c=c.t,"a"===c?(a.A.start(),a.e("sending client ack on secondary"),a.A.send({t:"c",d:{t:"a",
d:{}}}),a.e("Ending transmission on primary"),a.K.send({t:"c",d:{t:"n",d:{}}}),a.Jb=a.A,Rc(a)):"r"===c&&(a.e("Got a reset on secondary, closing it"),a.A.close(),(a.Jb===a.A||a.Hb===a.A)&&a.close())):"d"==d?a.Xb.push(c):g(Error("Unknown protocol layer: "+d))):a.e("message on old connection")}}Nc.prototype.Nc=function(a){a={t:"d",d:a};1!==this.va&&g("Connection is not connected");this.Jb.send(a)};
function Rc(a){a.Jb===a.A&&a.Hb===a.A&&(a.e("cleaning up and promoting a connection: "+a.A.rc),a.K=a.A,a.A=l)}Nc.prototype.Ub=function(a){this.Hc(a)};Nc.prototype.close=function(){2!==this.va&&(this.e("Closing realtime connection."),this.va=2,Sc(this),this.Q&&(this.Q(),this.Q=l))};function Sc(a){a.e("Shutting down all connections");a.K&&(a.K.close(),a.K=l);a.A&&(a.A.close(),a.A=l)};function Tc(){kc.call(this,["online"]);this.xb=k;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.xb||a.Wc("online",k);a.xb=k},o);window.addEventListener("offline",function(){a.xb&&a.Wc("online",o);a.xb=o},o)}}ka(Tc,kc);da(Tc);Tc.prototype.xc=function(a){z("online"===a);return[this.xb]};function Vc(a,b,c,d,e,f){this.id=Wc++;this.e=Ob("p:"+this.id+":");this.Ma=k;this.ga={};this.T=[];this.yb=0;this.vb=[];this.V=o;this.pa=1E3;this.Vb=b||ca;this.Tb=c||ca;this.ub=d||ca;this.Ic=e||ca;this.zc=f||ca;this.O=a;this.Mc=l;this.Zb=[];this.Fb={};this.Nd=0;this.pb=this.Dc=l;Xc(this,0);nc.yc().Ya("visible",this.Id,this);-1===a.host.indexOf("fblocal")&&Tc.yc().Ya("online",this.Hd,this)}var Wc=0,Yc=0;t=Vc.prototype;
t.Da=function(a,b,c){var d=++this.Nd,a={r:d,a:a,b:b};this.e(y(a));this.V?this.ba.Nc(a):this.Zb.push(a);c&&(this.Fb[d]=c)};function Zc(a,b,c,d,e){a.e("Listen on "+b+" for "+c);var f={p:b},d=jb(d,function(a){return Ia(a)});"{}"!==c&&(f.q=d);d=((new Date).getTime()-13794912E5)/432E6;d=Math.min(1,Math.max(0,d));Math.random()<d&&(f.h=a.zc(b));a.Da("l",f,function(d){a.e("listen response",d);d=d.s;"ok"!==d&&$c(a,b,c);e&&e(d)})}
t.hb=function(a,b,c){this.Ga={wd:a,ad:o,W:b,Nb:c};this.e("Authenticating using credential: "+this.Ga);ad(this)};t.Kb=function(){delete this.Ga;this.ub(o);this.V&&this.Da("unauth",{})};function ad(a){var b=a.Ga;a.V&&b&&a.Da("auth",{cred:b.wd},function(c){var d=c.s,c=c.d||"error";"ok"!==d&&a.Ga===b&&delete a.Ga;a.ub("ok"===d);b.ad?"ok"!==d&&b.Nb&&b.Nb(d,c):(b.ad=k,b.W&&b.W(d,c))})}
function bd(a,b,c,d){b=b.toString();$c(a,b,c)&&a.V&&(a.e("Unlisten on "+b+" for "+c),b={p:b},d=jb(d,function(a){return Ia(a)}),"{}"!==c&&(b.q=d),a.Da("u",b))}function cd(a,b,c,d){a.V?dd(a,"o",b,c,d):a.vb.push({Kc:b,action:"o",data:c,C:d})}t.Fc=function(a,b){this.V?dd(this,"oc",a,l,b):this.vb.push({Kc:a,action:"oc",data:l,C:b})};function dd(a,b,c,d,e){c={p:c,d:d};a.e("onDisconnect "+b,c);a.Da(b,c,function(a){e&&setTimeout(function(){e(a.s)},0)})}t.put=function(a,b,c,d){ed(this,"p",a,b,c,d)};
function ed(a,b,c,d,e,f){c={p:c,d:d};u(f)&&(c.h=f);a.T.push({action:b,kd:c,C:e});a.yb++;b=a.T.length-1;a.V&&fd(a,b)}function fd(a,b){var c=a.T[b].action,d=a.T[b].kd,e=a.T[b].C;a.T[b].Kd=a.V;a.Da(c,d,function(d){a.e(c+" response",d);delete a.T[b];a.yb--;0===a.yb&&(a.T=[]);e&&e(d.s)})}
t.Ub=function(a){if("r"in a){this.e("from server: "+y(a));var b=a.r,c=this.Fb[b];c&&(delete this.Fb[b],c(a.b))}else"error"in a&&g("A server-side error has occurred: "+a.error),"a"in a&&(b=a.a,a=a.b,this.e("handleServerMessage",b,a),"d"===b?this.Vb(a.p,a.d):"m"===b?this.Vb(a.p,a.d,k):"c"===b?(b=a.p,a=(a=a.q)?jb(a,function(a){return Ja(a)}).join("$"):"{}",(a=$c(this,b,a))&&a.C&&a.C("permission_denied")):"ac"===b?(b=a.s,a=a.d,c=this.Ga,delete this.Ga,c&&c.Nb&&c.Nb(b,a),this.ub(o)):"sd"===b?this.Mc?this.Mc(a):
"msg"in a&&"undefined"!==typeof console&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: ")):Pb("Unrecognized action received from server: "+y(b)+"\nAre you using the latest client?"))};
t.wb=function(a){this.e("connection ready");this.V=k;this.pb=(new Date).getTime();this.Ic({serverTimeOffset:a-(new Date).getTime()});for(a=0;a<this.Zb.length;a++)this.ba.Nc(this.Zb[a]);this.Zb=[];ad(this);for(var b in this.ga)for(var c in this.ga[b])a=this.ga[b][c],Zc(this,b,c,a.$a,a.C);for(b=0;b<this.T.length;b++)this.T[b]&&fd(this,b);for(;this.vb.length;)b=this.vb.shift(),dd(this,b.action,b.Kc,b.data,b.C);this.Tb(k)};
function Xc(a,b){z(!a.ba,"Scheduling a connect when we're already connected/ing?");a.Sa&&clearTimeout(a.Sa);a.Sa=setTimeout(function(){a.Sa=l;if(a.Ma){a.e("Making a connection attempt");a.Dc=(new Date).getTime();a.pb=l;var b=w(a.Ub,a),d=w(a.wb,a),e=w(a.fd,a),f=a.id+":"+Yc++;a.ba=new Nc(f,a.O,b,d,e,function(b){a.Ma=o;g(Error(b))})}},b)}t.Id=function(a){a&&(!this.gb&&3E5===this.pa)&&(this.e("Window became visible.  Reducing delay."),this.pa=1E3,this.ba||Xc(this,0));this.gb=a};
t.Hd=function(a){a?(this.e("Browser went online.  Reconnecting."),this.pa=1E3,this.Ma=k,this.ba||Xc(this,0)):(this.e("Browser went offline.  Killing connection; don't reconnect."),this.Ma=o,this.ba&&this.ba.close())};
t.fd=function(){this.e("data client disconnected");this.V=o;this.ba=l;for(var a=0;a<this.T.length;a++){var b=this.T[a];b&&("h"in b.kd&&b.Kd)&&(b.C&&b.C("disconnect"),delete this.T[a],this.yb--)}0===this.yb&&(this.T=[]);if(this.Ma)this.gb?this.pb&&(3E4<(new Date).getTime()-this.pb&&(this.pa=1E3),this.pb=l):(this.e("Window isn't visible.  Delaying reconnect."),this.pa=3E5,this.Dc=(new Date).getTime()),a=Math.max(0,this.pa-((new Date).getTime()-this.Dc)),a*=Math.random(),this.e("Trying to reconnect in "+
a+"ms"),Xc(this,a),this.pa=Math.min(3E5,1.3*this.pa);else for(var c in this.Fb)delete this.Fb[c];this.Tb(o)};t.Va=function(){this.Ma=o;this.ba?this.ba.close():(this.Sa&&(clearTimeout(this.Sa),this.Sa=l),this.fd())};t.Gb=function(){this.Ma=k;this.pa=1E3;Xc(this,0)};function $c(a,b,c){b=(new K(b)).toString();c||(c="{}");var d=a.ga[b][c];delete a.ga[b][c];return d};function gd(){this.o=this.D=l}function hd(a,b,c){if(b.f())a.D=c,a.o=l;else if(a.D!==l)a.D=a.D.xa(b,c);else{a.o==l&&(a.o=new Cc);var d=F(b);a.o.contains(d)||a.o.add(d,new gd);a=a.o.get(d);b=Ka(b);hd(a,b,c)}}function id(a,b){if(b.f())return a.D=l,a.o=l,k;if(a.D!==l){if(a.D.M())return o;var c=a.D;a.D=l;c.w(function(b,c){hd(a,new K(b),c)});return id(a,b)}return a.o!==l?(c=F(b),b=Ka(b),a.o.contains(c)&&id(a.o.get(c),b)&&a.o.remove(c),a.o.f()?(a.o=l,k):o):k}
function jd(a,b,c){a.D!==l?c(b,a.D):a.w(function(a,e){var f=new K(b.toString()+"/"+a);jd(e,f,c)})}gd.prototype.w=function(a){this.o!==l&&U(this.o,function(b,c){a(b,c)})};function kd(){this.qa=Q}function V(a,b){return a.qa.P(b)}function W(a,b,c){a.qa=a.qa.xa(b,c)}kd.prototype.toString=function(){return this.qa.toString()};function ld(){this.ra=new kd;this.I=new kd;this.la=new kd;this.Ab=new Na}function md(a,b){for(var c=V(a.ra,b),d=V(a.I,b),e=L(a.Ab,b),f=o,h=e;h!==l;){if(h.k()!==l){f=k;break}h=h.parent()}if(f)return o;c=nd(c,d,e);return c!==d?(W(a.I,b,c),k):o}function nd(a,b,c){if(c.f())return a;if(c.k()!==l)return b;a=a||Q;c.w(function(d){var d=d.name(),e=a.L(d),f=b.L(d),h=L(c,d),e=nd(e,f,h);a=a.G(d,e)});return a}
ld.prototype.set=function(a,b){var c=this,d=[];ib(b,function(a){var b=a.path,a=a.oa,h=Hb();M(L(c.Ab,b),h);W(c.I,b,a);d.push({path:b,Pd:h})});return d};function od(a,b){ib(b,function(b){var d=b.Pd,b=L(a.Ab,b.path),e=b.k();z(e!==l,"pendingPut should not be null.");e===d&&M(b,l)})};function pd(){this.Ta=[]}function qd(a,b){if(0!==b.length)for(var c=0;c<b.length;c++)a.Ta.push(b[c])}pd.prototype.Db=function(){for(var a=0;a<this.Ta.length;a++)if(this.Ta[a]){var b=this.Ta[a];this.Ta[a]=l;rd(b)}this.Ta=[]};function rd(a){var b=a.W,c=a.nd,d=a.Cb;$b(function(){b(c,d)})};function X(a,b,c,d){this.type=a;this.sa=b;this.aa=c;this.Cb=d};function sd(a){this.J=a;this.ma=[];this.uc=new pd}function td(a,b,c,d,e){a.ma.push({type:b,W:c,cancel:d,S:e});var d=[],f=ud(a.i);a.nb&&f.push(new X("value",a.i));for(var h=0;h<f.length;h++)if(f[h].type===b){var i=new J(a.J.n,a.J.path);f[h].aa&&(i=i.F(f[h].aa));d.push({W:e?w(c,e):c,nd:new T(f[h].sa,i),Cb:f[h].Cb})}qd(a.uc,d)}sd.prototype.$b=function(a,b){b=this.ac(a,b);b!=l&&vd(this,b)};
function vd(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=e.type,h=new J(a.J.n,a.J.path);b[d].aa&&(h=h.F(b[d].aa));h=new T(b[d].sa,h);"value"===e.type&&!h.lb()?f+="("+h.U()+")":"value"!==e.type&&(f+=" "+h.name());N(a.J.n.u.id+": event:"+a.J.path+":"+a.J.Ka()+":"+f);for(f=0;f<a.ma.length;f++){var i=a.ma[f];b[d].type===i.type&&c.push({W:i.S?w(i.W,i.S):i.W,nd:h,Cb:e.Cb})}}qd(a.uc,c)}sd.prototype.Db=function(){this.uc.Db()};
function ud(a){var b=[];if(!a.M()){var c=l;a.w(function(a,e){b.push(new X("child_added",e,a,c));c=a})}return b}function wd(a){a.nb||(a.nb=k,vd(a,[new X("value",a.i)]))};function xd(a,b){sd.call(this,a);this.i=b}ka(xd,sd);xd.prototype.ac=function(a,b){this.i=a;this.nb&&b!=l&&b.push(new X("value",this.i));return b};xd.prototype.kb=function(){return{}};function zd(a,b){this.Ob=a;this.Ec=b}
function Ad(a,b,c,d,e){var f=a.P(c),h=b.P(c),d=new zd(d,e),e=Bd(d,c,f,h),h=!f.f()&&!h.f()&&f.j()!==h.j();if(e||h){f=c;for(c=e;f.parent()!==l;){var i=a.P(f),e=b.P(f),m=f.parent();if(!d.Ob||L(d.Ob,m).k()){var n=b.P(m),p=[],f=f.Z<f.m.length?f.m[f.m.length-1]:l;i.f()?(i=n.ea(f,e),p.push(new X("child_added",e,f,i))):e.f()?p.push(new X("child_removed",i,f)):(i=n.ea(f,e),h&&p.push(new X("child_moved",e,f,i)),c&&p.push(new X("child_changed",e,f,i)));d.Ec(m,n,p)}h&&(h=o,c=k);f=m}}}
function Bd(a,b,c,d){var e,f=[];c===d?e=o:c.M()&&d.M()?e=c.k()!==d.k():c.M()?(Cd(a,b,Q,d,f),e=k):d.M()?(Cd(a,b,c,Q,f),e=k):e=Cd(a,b,c,d,f);e?a.Ec(b,d,f):c.j()!==d.j()&&a.Ec(b,d,l);return e}
function Cd(a,b,c,d,e){var f=o,h=!a.Ob||!L(a.Ob,b).f(),i=[],m=[],n=[],p=[],q={},s={},x,O,I,G;x=c.Ua();I=Wa(x);O=d.Ua();for(G=Wa(O);I!==l||G!==l;){c=I===l?1:G===l?-1:I.key===G.key?0:cc({name:I.key,ia:I.value.j()},{name:G.key,ia:G.value.j()});if(0>c)f=ua(q,I.key),u(f)?(n.push({wc:I,Sc:i[f]}),i[f]=l):(s[I.key]=m.length,m.push(I)),f=k,I=Wa(x);else{if(0<c)f=ua(s,G.key),u(f)?(n.push({wc:m[f],Sc:G}),m[f]=l):(q[G.key]=i.length,i.push(G)),f=k;else{c=b.F(G.key);if(c=Bd(a,c,I.value,G.value))p.push(G),f=k;I.value.j()!==
G.value.j()&&(n.push({wc:I,Sc:G}),f=k);I=Wa(x)}G=Wa(O)}if(!h&&f)return k}for(h=0;h<m.length;h++)if(q=m[h])c=b.F(q.key),Bd(a,c,q.value,Q),e.push(new X("child_removed",q.value,q.key));for(h=0;h<i.length;h++)if(q=i[h])c=b.F(q.key),m=d.ea(q.key,q.value),Bd(a,c,Q,q.value),e.push(new X("child_added",q.value,q.key,m));for(h=0;h<n.length;h++)q=n[h].wc,i=n[h].Sc,c=b.F(i.key),m=d.ea(i.key,i.value),e.push(new X("child_moved",i.value,i.key,m)),(c=Bd(a,c,q.value,i.value))&&p.push(i);for(h=0;h<p.length;h++)a=p[h],
m=d.ea(a.key,a.value),e.push(new X("child_changed",a.value,a.key,m));return f};function Dd(){this.R=this.wa=l;this.set={}}ka(Dd,Cc);t=Dd.prototype;t.setActive=function(a){this.wa=a};function Ed(a){return a.contains("default")}function Fd(a){return a.wa!=l&&Ed(a)}t.defaultView=function(){return Ed(this)?this.get("default"):l};t.path=aa("R");t.toString=function(){return jb(this.keys(),function(a){return"default"===a?"{}":a}).join("$")};t.$a=function(){var a=[];U(this,function(b,c){a.push(c.J)});return a};function Gd(a,b){sd.call(this,a);this.i=Q;this.ac(b,ud(b))}ka(Gd,sd);
Gd.prototype.ac=function(a,b){if(b===l)return b;var c=[],d=this.J;u(d.da)&&(u(d.ua)&&d.ua!=l?c.push(function(a,b){var c=Rb(b,d.da);return 0<c||0===c&&0<=Sb(a,d.ua)}):c.push(function(a,b){return 0<=Rb(b,d.da)}));u(d.za)&&(u(d.Ra)?c.push(function(a,b){var c=Rb(b,d.za);return 0>c||0===c&&0>=Sb(a,d.Ra)}):c.push(function(a,b){return 0>=Rb(b,d.za)}));var e=l,f=l;if(u(this.J.Ba))if(u(this.J.da)){if(e=Hd(a,c,this.J.Ba,o)){var h=a.L(e).j();c.push(function(a,b){var c=Rb(b,h);return 0>c||0===c&&0>=Sb(a,e)})}}else if(f=
Hd(a,c,this.J.Ba,k)){var i=a.L(f).j();c.push(function(a,b){var c=Rb(b,i);return 0<c||0===c&&0<=Sb(a,f)})}for(var m=[],n=[],p=[],q=[],s=0;s<b.length;s++){var x=b[s].aa,O=b[s].sa;switch(b[s].type){case "child_added":Id(c,x,O)&&(this.i=this.i.G(x,O),n.push(b[s]));break;case "child_removed":this.i.L(x).f()||(this.i=this.i.G(x,l),m.push(b[s]));break;case "child_changed":!this.i.L(x).f()&&Id(c,x,O)&&(this.i=this.i.G(x,O),q.push(b[s]));break;case "child_moved":var I=!this.i.L(x).f(),G=Id(c,x,O);I?G?(this.i=
this.i.G(x,O),p.push(b[s])):(m.push(new X("child_removed",this.i.L(x),x)),this.i=this.i.G(x,l)):G&&(this.i=this.i.G(x,O),n.push(b[s]))}}var Uc=e||f;if(Uc){var yd=(s=f!==l)?this.i.bd():this.i.cd(),lc=o,ab=o,bb=this;(s?a.vc:a.w).call(a,function(a,b){!ab&&yd===l&&(ab=k);if(ab&&lc)return k;lc?(m.push(new X("child_removed",bb.i.L(a),a)),bb.i=bb.i.G(a,l)):ab&&(n.push(new X("child_added",b,a)),bb.i=bb.i.G(a,b));yd===a&&(ab=k);a===Uc&&(lc=k)})}for(s=0;s<n.length;s++)c=n[s],x=this.i.ea(c.aa,c.sa),m.push(new X("child_added",
c.sa,c.aa,x));for(s=0;s<p.length;s++)c=p[s],x=this.i.ea(c.aa,c.sa),m.push(new X("child_moved",c.sa,c.aa,x));for(s=0;s<q.length;s++)c=q[s],x=this.i.ea(c.aa,c.sa),m.push(new X("child_changed",c.sa,c.aa,x));this.nb&&0<m.length&&m.push(new X("value",this.i));return m};function Hd(a,b,c,d){if(a.M())return l;var e=l;(d?a.vc:a.w).call(a,function(a,d){if(Id(b,a,d)&&(e=a,c--,0===c))return k});return e}function Id(a,b,c){for(var d=0;d<a.length;d++)if(!a[d](b,c.j()))return o;return k}
Gd.prototype.Ac=function(a){return this.i.L(a)!==Q};Gd.prototype.kb=function(a,b,c){var d={};this.i.M()||this.i.w(function(a){d[a]=3});var e=this.i,c=V(c,new K("")),f=new Na;M(L(f,this.J.path),k);var b=Q.xa(a,b),h=this;Ad(c,b,a,f,function(a,b,c){c!==l&&a.toString()===h.J.path.toString()&&h.ac(b,c)});this.i.M()?Xb(d,function(a,b){d[b]=2}):(this.i.w(function(a){D(d,a)||(d[a]=1)}),Xb(d,function(a,b){h.i.L(b).f()&&(d[b]=2)}));this.i=e;return d};function Jd(a,b){this.u=a;this.g=b;this.Sb=b.qa;this.ka=new Na}
Jd.prototype.Mb=function(a,b,c,d,e){var f=a.path,h=L(this.ka,f),i=h.k();i===l?(i=new Dd,M(h,i)):z(!i.f(),"We shouldn't be storing empty QueryMaps");var m=a.Ka();if(i.contains(m))a=i.get(m),td(a,b,c,d,e);else{var n=this.g.qa.P(f),n=a="default"===a.Ka()?new xd(a,n):new Gd(a,n);if(Fd(i)||Kd(h))i.add(m,n),i.R||(i.R=n.J.path);else{var p,q;i.f()||(p=i.toString(),q=i.$a());i.add(m,n);i.R||(i.R=n.J.path);i.setActive(Ld(this,i));p&&q&&bd(this.u,i.path(),p,q)}Fd(i)&&Pa(h,function(a){if(a=a.k()){a.wa&&a.wa();
a.wa=l}});td(a,b,c,d,e);(b=(b=Qa(L(this.ka,f),function(a){var b;if(b=a.k())if(b=a.k().defaultView())b=a.k().defaultView().nb;if(b)return k},k))||this.u===l&&!V(this.g,f).f())&&wd(a)}a.Db()};function Md(a,b,c,d,e){var f=a.get(b),h;if(h=f){h=o;for(var i=f.ma.length-1;0<=i;i--){var m=f.ma[i];if((!c||m.type===c)&&(!d||m.W===d)&&(!e||m.S===e))if(f.ma.splice(i,1),h=k,c&&d)break}h=h&&!(0<f.ma.length)}(c=h)&&a.remove(b);return c}
Jd.prototype.cc=function(a,b,c,d){var e=L(this.ka,a.path).k();return e===l?l:Nd(this,e,a,b,c,d)};
function Nd(a,b,c,d,e,f){var h=b.path(),h=L(a.ka,h),c=c?c.Ka():l,i=[];c&&"default"!==c?Md(b,c,d,e,f)&&i.push(c):ib(b.keys(),function(a){Md(b,a,d,e,f)&&i.push(a)});b.f()&&M(h,l);c=Kd(h);if(0<i.length&&!c){for(var m=h,n=h.parent(),c=o;!c&&n;){var p=n.k();if(p){z(!Fd(p));var q=m.name(),s=o;U(p,function(a,b){s=b.Ac(q)||s});s&&(c=k)}m=n;n=n.parent()}m=l;if(!Fd(b)){n=b.wa;b.wa=l;var x=[],O=function(b){var c=b.k();if(c&&Ed(c))x.push(c.path()),c.wa==l&&c.setActive(Ld(a,c));else{if(c){c.wa!=l||c.setActive(Ld(a,
c));var d={};U(c,function(a,b){b.i.w(function(a){D(d,a)||(d[a]=k,a=c.path().F(a),x.push(a))})})}b.w(O)}};O(h);m=x;n&&n()}return c?l:m}return l}function Od(a,b,c){Pa(L(a.ka,b),function(a){(a=a.k())&&U(a,function(a,b){wd(b)})},c,k)}function Y(a,b,c){function d(a){for(var b=0;b<c.length;++b)if(c[b].contains(a))return k;return o}var e=a.Sb,f=a.g.qa;a.Sb=f;Ad(e,f,b,a.ka,function(c,e,f){if(b.contains(c)){var n=d(c);n&&Od(a,c,o);a.$b(c,e,f);n&&Od(a,c,k)}else a.$b(c,e,f)});d(b)&&Od(a,b,k);Pd(a,b)}
function Pd(a,b){var c=L(a.ka,b);Pa(c,function(a){(a=a.k())&&U(a,function(a,b){b.Db()})},k,k);Qa(c,function(a){(a=a.k())&&U(a,function(a,b){b.Db()})},o)}Jd.prototype.$b=function(a,b,c){a=L(this.ka,a).k();a!==l&&U(a,function(a,e){e.$b(b,c)})};function Kd(a){return Qa(a,function(a){return a.k()&&Fd(a.k())})}
function Ld(a,b){if(a.u){var c=a.u,d=b.path(),e=b.toString(),f=b.$a(),h,i=b.keys(),m=Ed(b),n=a.u,p=function(c){if("ok"!==c){var d="Unknown Error";"too_big"===c?d="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==c&&(d="Client doesn't have permission to access the desired data.");var e=Error(c+": "+d);e.code=c.toUpperCase();P("on() or once() for "+b.path().toString()+" failed: "+e.toString());b&&(U(b,function(a,b){for(var c=0;c<b.ma.length;c++){var d=
b.ma[c];d.cancel&&(d.S?w(d.cancel,d.S):d.cancel)(e)}}),Nd(a,b))}else h||(m?Od(a,b.path(),k):ib(i,function(a){(a=b.get(a))&&wd(a)}),Pd(a,b.path()))},q=b.toString(),s=b.path().toString();n.ga[s]=n.ga[s]||{};z(!n.ga[s][q],"listen() called twice for same path/queryId.");n.ga[s][q]={$a:b.$a(),C:p};n.V&&Zc(n,s,q,b.$a(),p);return function(){h=k;bd(c,d,e,f)}}return ca}
Jd.prototype.kb=function(a,b,c,d){var e={};U(b,function(b,h){var i=h.kb(a,c,d);Xb(i,function(a,b){e[b]=3===a?3:(ua(e,b)||a)===a?a:3})});c.M()||c.w(function(a){D(e,a)||(e[a]=4)});return e};function Qd(a,b,c,d,e){var f=b.path(),b=a.kb(f,b,d,e),h=Q,i=[];Xb(b,function(b,n){var p=new K(n);3===b||1===b?h=h.G(n,d.P(p)):(2===b&&i.push({path:f.F(n),oa:Q}),i=i.concat(Rd(a,d.P(p),L(c,p),e)))});return[{path:f,oa:h}].concat(i)}
function Sd(a,b,c,d){var e;a:{var f=L(a.ka,b);e=f.parent();for(var h=[];e!==l;){var i=e.k();if(i!==l){if(Ed(i)){e=[{path:b,oa:c}];break a}i=a.kb(b,i,c,d);f=f.name();f=ua(i,f);if(3===f||1===f){e=[{path:b,oa:c}];break a}2===f&&h.push({path:b,oa:Q})}f=e;e=e.parent()}e=h}if(1==e.length&&(!e[0].oa.f()||c.f()))return e;h=L(a.ka,b);f=h.k();f!==l?Ed(f)?e.push({path:b,oa:c}):e=e.concat(Qd(a,f,h,c,d)):e=e.concat(Rd(a,c,h,d));return e}
function Rd(a,b,c,d){var e=c.k();if(e!==l)return Ed(e)?[{path:c.path(),oa:b}]:Qd(a,e,c,b,d);var f=[];c.w(function(c){var e=b.M()?Q:b.L(c.name()),c=Rd(a,e,c,d);f=f.concat(c)});return f};function Td(a,b){if(!a||"object"!==typeof a)return a;z(".sv"in a,"Unexpected leaf node or priority contents");return b[a[".sv"]]}function Ud(a,b){var c=Td(a.j(),b),d;if(a.M()){var e=Td(a.k(),b);return e!==a.k()||c!==a.j()?new ac(e,c):a}d=a;c!==a.j()&&(d=d.Ea(c));a.w(function(a,c){var e=Ud(c,b);e!==c&&(d=d.G(a,e))});return d};function Vd(a){this.O=a;this.$=wc(a);this.u=new Vc(this.O,w(this.Vb,this),w(this.Tb,this),w(this.ub,this),w(this.Ic,this),w(this.zc,this));var b=w(function(){return new tc(this.$,this.u)},this),a=a.toString();vc[a]||(vc[a]=b());this.od=vc[a];this.eb=new Na;this.fb=new kd;this.g=new ld;this.H=new Jd(this.u,this.g.la);this.Bc=new kd;this.Cc=new Jd(l,this.Bc);Wd(this,"connected",o);Wd(this,"authenticated",o);this.Q=new gd;this.tc=0}t=Vd.prototype;
t.toString=function(){return(this.O.ec?"https://":"http://")+this.O.host};t.name=function(){return this.O.sb};function Xd(a){a=V(a.Bc,new K(".info/serverTimeOffset")).U()||0;return(new Date).getTime()+a}function Yd(a){a=a={timestamp:Xd(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
t.Vb=function(a,b,c){this.tc++;var d=[];if(9<=a.length&&a.lastIndexOf(".priority")===a.length-9)a=new K(a.substring(0,a.length-9)),c=V(this.g.ra,a).Ea(b),d.push(a);else if(c){var a=new K(a),c=V(this.g.ra,a),e;for(e in b){var f=new K(e),c=c.xa(f,S(b[e]));d.push(a.F(e))}}else a=new K(a),c=S(b),d.push(a);b=Sd(this.H,a,c,this.g.I);e=o;for(c=0;c<b.length;++c){var f=b[c],h=this.g,i=f.path;W(h.ra,i,f.oa);e=md(h,i)||e}e&&(a=Zd(this,a));Y(this.H,a,d)};
t.Tb=function(a){Wd(this,"connected",a);if(a===o){this.e("onDisconnectEvents");var b=this,c=[],d=Yd(this),a=jd,e=new gd;jd(this.Q,new K(""),function(a,b){hd(e,a,Ud(b,d))});a(e,new K(""),function(a,d){var e=Sd(b.H,a,d,b.g.I);c.push.apply(c,b.g.set(a,e));e=$d(b,a);Zd(b,e);Y(b.H,e,[a])});od(this.g,c);this.Q=new gd}};t.Ic=function(a){var b=this;Wb(a,function(a,d){Wd(b,d,a)})};t.zc=function(a){a=new K(a);return V(this.g.ra,a).hash()};t.ub=function(a){Wd(this,"authenticated",a)};
function Wd(a,b,c){b=new K("/.info/"+b);W(a.Bc,b,S(c));Y(a.Cc,b,[b])}t.hb=function(a,b,c){"firebaseio-demo.com"===this.O.domain&&P("FirebaseRef.auth() not supported on demo (*.firebaseio-demo.com) Firebases. Please use on production (*.firebaseio.com) Firebases only.");this.u.hb(a,function(a,c){ae(b,a,c)},function(a,b){P("auth() was canceled: "+b);if(c){var f=Error(b);f.code=a.toUpperCase();c(f)}})};t.Kb=function(){this.u.Kb()};
t.bb=function(a,b,c,d){this.e("set",{path:a.toString(),value:b,ia:c});var e=Yd(this),b=S(b,c),e=Ud(b,e),e=Sd(this.H,a,e,this.g.I),f=this.g.set(a,e),h=this;this.u.put(a.toString(),b.U(k),function(b){"ok"!==b&&P("set at "+a+" failed: "+b);od(h.g,f);md(h.g,a);var c=Zd(h,a);Y(h.H,c,[]);ae(d,b)});e=$d(this,a);Zd(this,e);Y(this.H,e,[a])};
t.update=function(a,b,c){this.e("update",{path:a.toString(),value:b});var d=V(this.g.la,a),e=k,f=[],h=Yd(this),i=[],m;for(m in b){var e=o,n=S(b[m]),n=Ud(n,h),d=d.G(m,n),p=a.F(m);f.push(p);n=Sd(this.H,p,n,this.g.I);i=i.concat(this.g.set(a,n))}if(e)N("update() called with empty data.  Don't do anything."),ae(c,"ok");else{var q=this;ed(this.u,"m",a.toString(),b,function(b){z("ok"===b||"permission_denied"===b,"merge at "+a+" failed.");"ok"!==b&&P("update at "+a+" failed: "+b);od(q.g,i);md(q.g,a);var d=
Zd(q,a);Y(q.H,d,[]);ae(c,b)},j);b=$d(this,a);Zd(this,b);Y(q.H,b,f)}};t.Oc=function(a,b,c){this.e("setPriority",{path:a.toString(),ia:b});var d=Yd(this),d=Td(b,d),d=V(this.g.I,a).Ea(d),d=Sd(this.H,a,d,this.g.I),e=this.g.set(a,d),f=this;this.u.put(a.toString()+"/.priority",b,function(a){od(f.g,e);ae(c,a)});a=Zd(this,a);Y(f.H,a,[])};t.Fc=function(a,b){var c=this;this.u.Fc(a.toString(),function(d){"ok"===d&&id(c.Q,a);ae(b,d)})};
function be(a,b,c,d){var e=S(c);cd(a.u,b.toString(),e.U(k),function(c){"ok"===c&&hd(a.Q,b,e);ae(d,c)})}function ce(a){rc(a.$,"deprecated_on_disconnect");a.od.Rc.deprecated_on_disconnect=k}t.Mb=function(a,b,c,d,e){".info"===F(a.path)?this.Cc.Mb(a,b,c,d,e):this.H.Mb(a,b,c,d,e)};
t.cc=function(a,b,c,d){if(".info"===F(a.path))this.Cc.cc(a,b,c,d);else{b=this.H.cc(a,b,c,d);if(c=b!==l){for(var c=this.g,d=a.path,e=[],f=0;f<b.length;++f)e[f]=V(c.ra,b[f]);W(c.ra,d,Q);for(f=0;f<b.length;++f)W(c.ra,b[f],e[f]);c=md(c,d)}c&&(z(this.g.la.qa===this.H.Sb,"We should have raised any outstanding events by now.  Else, we'll blow them away."),W(this.g.la,a.path,V(this.g.I,a.path)),this.H.Sb=this.g.la.qa)}};t.Va=function(){this.u.Va()};t.Gb=function(){this.u.Gb()};
t.Pc=function(a){if("undefined"!==typeof console){a?(this.hc||(this.hc=new sc(this.$)),a=this.hc.get()):a=this.$.get();var b=a,c=[],d=0,e;for(e in b)c[d++]=e;var f=function(a,b){return Math.max(b.length,a)};if(c.reduce)e=c.reduce(f,0);else{var h=0;ib(c,function(a){h=f.call(j,h,a)});e=h}for(var i in a){b=a[i];for(c=i.length;c<e+2;c++)i+=" ";console.log(i+b)}}};t.Qc=function(a){rc(this.$,a);this.od.Rc[a]=k};t.e=function(){N("r:"+this.u.id+":",arguments)};
function ae(a,b,c){a&&$b(function(){if("ok"==b)a(l,c);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function de(a,b){var c=b||a.eb;b||ee(a,c);if(c.k()!==l){var d=fe(a,c);z(0<d.length);if(2!==d[0].status&&4!==d[0].status){for(var e=c.path(),f=0;f<d.length;f++)z(1===d[f].status,"tryToSendTransactionQueue_: items in queue should all be run."),d[f].status=2,d[f].md++;c=V(a.g.I,e).hash();W(a.g.I,e,V(a.g.la,e));for(var h=V(a.fb,e).U(k),i=Hb(),m={},n=0;n<d.length;n++)d[n].nc&&(m[d[n].path.toString()]=d[n].path);var p=[],q;for(q in m)p.push(m[q]);for(f=0;f<p.length;f++)M(L(a.g.Ab,p[f]),i);a.u.put(e.toString(),
h,function(b){a.e("transaction put response",{path:e.toString(),status:b});for(f=0;f<p.length;f++){var c=L(a.g.Ab,p[f]),h=c.k();z(h!==l,"sendTransactionQueue_: pendingPut should not be null.");h===i&&(M(c,l),W(a.g.I,p[f],V(a.g.ra,p[f])))}if("ok"===b){b=[];for(f=0;f<d.length;f++)d[f].status=3,d[f].C&&(c=ge(a,d[f].path),b.push(w(d[f].C,l,l,k,c))),d[f].kc();ee(a,L(a.eb,e));de(a);for(f=0;f<b.length;f++)$b(b[f])}else{if("datastale"===b)for(f=0;f<d.length;f++)d[f].status=4===d[f].status?5:1;else{P("transaction at "+
e+" failed: "+b);for(f=0;f<d.length;f++)d[f].status=5,d[f].lc=b}b=Zd(a,e);Y(a.H,b,[e])}},c)}}else c.lb()&&c.w(function(b){de(a,b)})}
function Zd(a,b){var c=he(a,b),d=c.path(),e=fe(a,c);W(a.g.la,d,V(a.g.I,d));W(a.fb,d,V(a.g.I,d));if(0!==e.length){for(var f=c=V(a.g.la,d),h=[],i=0;i<e.length;i++){var m=La(d,e[i].path),n=o,p;z(m!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===e[i].status)n=k,p=e[i].lc;else if(1===e[i].status)if(25<=e[i].md)n=k,p="maxretry";else{var q=e[i].update(c.P(m).U());u(q)?(za("transaction failed: Data returned ",q),q=S(q),c=c.xa(m,q),e[i].nc&&(f=f.xa(m,q))):(n=k,p="nodata")}n&&(e[i].status=
3,setTimeout(e[i].kc,0),e[i].C&&(n=new J(a,e[i].path),m=new T(c.P(m),n),"nodata"===p?h.push(w(e[i].C,l,l,o,m)):h.push(w(e[i].C,l,Error(p),o,m))))}p=V(a.g.I,d).j();c=c.Ea(p);f=f.Ea(p);W(a.fb,d,c);W(a.g.la,d,f);ee(a,a.eb);for(i=0;i<h.length;i++)$b(h[i]);de(a)}return d}function he(a,b){for(var c,d=a.eb;(c=F(b))!==l&&d.k()===l;)d=L(d,c),b=Ka(b);return d}function fe(a,b){var c=[];ie(a,b,c);c.sort(function(a,b){return a.gd-b.gd});return c}
function ie(a,b,c){var d=b.k();if(d!==l)for(var e=0;e<d.length;e++)c.push(d[e]);b.w(function(b){ie(a,b,c)})}function ee(a,b){var c=b.k();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;M(b,0<c.length?c:l)}b.w(function(b){ee(a,b)})}function $d(a,b){var c=he(a,b).path(),d=L(a.eb,b);Qa(d,function(a){je(a)});je(d);Pa(d,function(a){je(a)});return c}
function je(a){var b=a.k();if(b!==l){for(var c=[],d=-1,e=0;e<b.length;e++)4!==b[e].status&&(2===b[e].status?(z(d===e-1,"All SENT items should be at beginning of queue."),d=e,b[e].status=4,b[e].lc="set"):(z(1===b[e].status),b[e].kc(),b[e].C&&c.push(w(b[e].C,l,Error("set"),o,l))));-1===d?M(a,l):b.length=d+1;for(e=0;e<c.length;e++)$b(c[e])}}function ge(a,b){var c=new J(a,b);return new T(V(a.fb,b),c)};function ke(){this.ab={}}da(ke);ke.prototype.Va=function(){for(var a in this.ab)this.ab[a].Va()};ke.prototype.interrupt=ke.prototype.Va;ke.prototype.Gb=function(){for(var a in this.ab)this.ab[a].Gb()};ke.prototype.resume=ke.prototype.Gb;var Z={Bd:function(a){var b=R.prototype.hash;R.prototype.hash=a;var c=ac.prototype.hash;ac.prototype.hash=a;return function(){R.prototype.hash=b;ac.prototype.hash=c}}};Z.hijackHash=Z.Bd;Z.Ka=function(a){return a.Ka()};Z.queryIdentifier=Z.Ka;Z.Dd=function(a){return a.n.u.ga};Z.listens=Z.Dd;Z.Ld=function(a){return a.n.u.ba};Z.refConnection=Z.Ld;Z.qd=Vc;Z.DataConnection=Z.qd;Vc.prototype.sendRequest=Vc.prototype.Da;Vc.prototype.interrupt=Vc.prototype.Va;Z.rd=Nc;Z.RealTimeConnection=Z.rd;
Nc.prototype.sendRequest=Nc.prototype.Nc;Nc.prototype.close=Nc.prototype.close;Z.pd=qb;Z.ConnectionTarget=Z.pd;Z.zd=function(){Gc=zc=k};Z.forceLongPolling=Z.zd;Z.Ad=function(){Hc=k};Z.forceWebSockets=Z.Ad;Z.Rd=function(a,b){a.n.u.Mc=b};Z.setSecurityDebugCallback=Z.Rd;Z.Pc=function(a,b){a.n.Pc(b)};Z.stats=Z.Pc;Z.Qc=function(a,b){a.n.Qc(b)};Z.statsIncrementCounter=Z.Qc;Z.tc=function(a){return a.n.tc};function $(a,b,c){this.Eb=a;this.R=b;this.Ca=c}$.prototype.cancel=function(a){A("Firebase.onDisconnect().cancel",0,1,arguments.length);C("Firebase.onDisconnect().cancel",1,a,k);this.Eb.Fc(this.R,a)};$.prototype.cancel=$.prototype.cancel;$.prototype.remove=function(a){A("Firebase.onDisconnect().remove",0,1,arguments.length);E("Firebase.onDisconnect().remove",this.R);C("Firebase.onDisconnect().remove",1,a,k);be(this.Eb,this.R,l,a)};$.prototype.remove=$.prototype.remove;
$.prototype.set=function(a,b){A("Firebase.onDisconnect().set",1,2,arguments.length);E("Firebase.onDisconnect().set",this.R);ya("Firebase.onDisconnect().set",a,o);C("Firebase.onDisconnect().set",2,b,k);be(this.Eb,this.R,a,b)};$.prototype.set=$.prototype.set;
$.prototype.bb=function(a,b,c){A("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);E("Firebase.onDisconnect().setWithPriority",this.R);ya("Firebase.onDisconnect().setWithPriority",a,o);Da("Firebase.onDisconnect().setWithPriority",2,b,o);C("Firebase.onDisconnect().setWithPriority",3,c,k);(".length"===this.Ca||".keys"===this.Ca)&&g("Firebase.onDisconnect().setWithPriority failed: "+this.Ca+" is a read-only object.");var d=this.Eb,e=this.R,f=S(a,b);cd(d.u,e.toString(),f.U(k),function(a){"ok"===
a&&hd(d.Q,e,f);ae(c,a)})};$.prototype.setWithPriority=$.prototype.bb;
$.prototype.update=function(a,b){A("Firebase.onDisconnect().update",1,2,arguments.length);E("Firebase.onDisconnect().update",this.R);Ca("Firebase.onDisconnect().update",a);C("Firebase.onDisconnect().update",2,b,k);var c=this.Eb,d=this.R,e=k,f;for(f in a)e=o;if(e)N("onDisconnect().update() called with empty data.  Don't do anything."),ae(b,k);else{e=c.u;f=d.toString();var h=function(e){if("ok"===e)for(var f in a){var h=S(a[f]);hd(c.Q,d.F(f),h)}ae(b,e)};e.V?dd(e,"om",f,a,h):e.vb.push({Kc:f,action:"om",
data:a,C:h})}};$.prototype.update=$.prototype.update;var le,me=0,ne=[];le=function(a){var b=a===me;me=a;for(var c=Array(8),d=7;0<=d;d--)c[d]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(a%64),a=Math.floor(a/64);z(0===a);a=c.join("");if(b){for(d=11;0<=d&&63===ne[d];d--)ne[d]=0;ne[d]++}else for(d=0;12>d;d++)ne[d]=Math.floor(64*Math.random());for(d=0;12>d;d++)a+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(ne[d]);z(20===a.length,"NextPushId: Length should be 20.");return a};function J(){var a,b,c;if(arguments[0]instanceof Vd)c=arguments[0],a=arguments[1];else{A("new Firebase",1,2,arguments.length);var d=arguments[0];b=a="";var e=k,f="";if(v(d)){var h=d.indexOf("//");if(0<=h)var i=d.substring(0,h-1),d=d.substring(h+2);h=d.indexOf("/");-1===h&&(h=d.length);a=d.substring(0,h);var d=d.substring(h+1),m=a.split(".");if(3==m.length){h=m[2].indexOf(":");e=0<=h?"https"===i:k;if("firebase"===m[1])Qb(a+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");
else{b=m[0];f="";d=("/"+d).split("/");for(i=0;i<d.length;i++)if(0<d[i].length){h=d[i];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch(n){}f+="/"+h}}b=b.toLowerCase()}else b=l}e||"undefined"!==typeof window&&(window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:"))&&P("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");a=new qb(a,e,b);b=new K(f);e=b.toString();if(!(d=!v(a.host)))if(!(d=0===a.host.length))if(!(d=!xa(a.sb)))if(d=
0!==e.length)e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),d=!(v(e)&&0!==e.length&&!wa.test(e));d&&g(Error(B("new Firebase",1,o)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".'));arguments[1]?arguments[1]instanceof ke?c=arguments[1]:g(Error("Expected a valid Firebase.Context for second argument to new Firebase()")):c=ke.yc();e=a.toString();d=ua(c.ab,e);d||(d=new Vd(a),c.ab[e]=d);c=d;a=b}H.call(this,c,a)}ka(J,H);var oe=J,pe=["Firebase"],qe=ba;
!(pe[0]in qe)&&qe.execScript&&qe.execScript("var "+pe[0]);for(var re;pe.length&&(re=pe.shift());)!pe.length&&u(oe)?qe[re]=oe:qe=qe[re]?qe[re]:qe[re]={};J.prototype.name=function(){A("Firebase.name",0,0,arguments.length);return this.path.f()?l:this.path.Z<this.path.m.length?this.path.m[this.path.m.length-1]:l};J.prototype.name=J.prototype.name;
J.prototype.F=function(a){A("Firebase.child",1,1,arguments.length);if(ga(a))a=String(a);else if(!(a instanceof K))if(F(this.path)===l){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Ga("Firebase.child",b)}else Ga("Firebase.child",a);return new J(this.n,this.path.F(a))};J.prototype.child=J.prototype.F;J.prototype.parent=function(){A("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return a===l?l:new J(this.n,a)};J.prototype.parent=J.prototype.parent;
J.prototype.root=function(){A("Firebase.ref",0,0,arguments.length);for(var a=this;a.parent()!==l;)a=a.parent();return a};J.prototype.root=J.prototype.root;J.prototype.toString=function(){A("Firebase.toString",0,0,arguments.length);var a;if(this.parent()===l)a=this.n.toString();else{a=this.parent().toString()+"/";var b=this.name();a+=encodeURIComponent(String(b))}return a};J.prototype.toString=J.prototype.toString;
J.prototype.set=function(a,b){A("Firebase.set",1,2,arguments.length);E("Firebase.set",this.path);ya("Firebase.set",a,o);C("Firebase.set",2,b,k);return this.n.bb(this.path,a,l,b)};J.prototype.set=J.prototype.set;J.prototype.update=function(a,b){A("Firebase.update",1,2,arguments.length);E("Firebase.update",this.path);Ca("Firebase.update",a);C("Firebase.update",2,b,k);return this.n.update(this.path,a,b)};J.prototype.update=J.prototype.update;
J.prototype.bb=function(a,b,c){A("Firebase.setWithPriority",2,3,arguments.length);E("Firebase.setWithPriority",this.path);ya("Firebase.setWithPriority",a,o);Da("Firebase.setWithPriority",2,b,o);C("Firebase.setWithPriority",3,c,k);(".length"===this.name()||".keys"===this.name())&&g("Firebase.setWithPriority failed: "+this.name()+" is a read-only object.");return this.n.bb(this.path,a,b,c)};J.prototype.setWithPriority=J.prototype.bb;
J.prototype.remove=function(a){A("Firebase.remove",0,1,arguments.length);E("Firebase.remove",this.path);C("Firebase.remove",1,a,k);this.set(l,a)};J.prototype.remove=J.prototype.remove;
J.prototype.transaction=function(a,b,c){function d(){}A("Firebase.transaction",1,3,arguments.length);E("Firebase.transaction",this.path);C("Firebase.transaction",1,a,o);C("Firebase.transaction",2,b,k);u(c)&&"boolean"!=typeof c&&g(Error(B("Firebase.transaction",3,k)+"must be a boolean."));(".length"===this.name()||".keys"===this.name())&&g("Firebase.transaction failed: "+this.name()+" is a read-only object.");"undefined"===typeof c&&(c=k);var e=this.n,f=this.path,h=c;e.e("transaction on "+f);var i=
new J(e,f);i.Ya("value",d);var h={path:f,update:a,C:b,status:l,gd:Hb(),nc:h,md:0,kc:function(){i.tb("value",d)},lc:l},m=h.update(V(e.fb,f).U());if(u(m)){za("transaction failed: Data returned ",m);h.status=1;var n=L(e.eb,f),p=n.k()||[];p.push(h);M(n,p);n="object"===typeof m&&D(m,".priority")?m[".priority"]:V(e.g.I,f).j();W(e.fb,f,S(m,n));h.nc&&(W(e.g.la,f,S(m,n)),Y(e.H,f,[f]));de(e)}else h.kc(),h.C&&(e=ge(e,f),h.C(l,o,e))};J.prototype.transaction=J.prototype.transaction;
J.prototype.Oc=function(a,b){A("Firebase.setPriority",1,2,arguments.length);E("Firebase.setPriority",this.path);Da("Firebase.setPriority",1,a,o);C("Firebase.setPriority",2,b,k);this.n.Oc(this.path,a,b)};J.prototype.setPriority=J.prototype.Oc;J.prototype.push=function(a,b){A("Firebase.push",0,2,arguments.length);E("Firebase.push",this.path);ya("Firebase.push",a,k);C("Firebase.push",2,b,k);var c=Xd(this.n),c=le(c),c=this.F(c);"undefined"!==typeof a&&a!==l&&c.set(a,b);return c};J.prototype.push=J.prototype.push;
J.prototype.ha=function(){return new $(this.n,this.path,this.name())};J.prototype.onDisconnect=J.prototype.ha;J.prototype.Md=function(){P("FirebaseRef.removeOnDisconnect() being deprecated. Please use FirebaseRef.onDisconnect().remove() instead.");this.ha().remove();ce(this.n)};J.prototype.removeOnDisconnect=J.prototype.Md;J.prototype.Qd=function(a){P("FirebaseRef.setOnDisconnect(value) being deprecated. Please use FirebaseRef.onDisconnect().set(value) instead.");this.ha().set(a);ce(this.n)};
J.prototype.setOnDisconnect=J.prototype.Qd;J.prototype.hb=function(a,b,c){A("Firebase.auth",1,3,arguments.length);v(a)||g(Error(B("Firebase.auth",1,o)+"must be a valid credential (a string)."));C("Firebase.auth",2,b,k);C("Firebase.auth",3,b,k);this.n.hb(a,b,c)};J.prototype.auth=J.prototype.hb;J.prototype.Kb=function(){this.n.Kb()};J.prototype.unauth=J.prototype.Kb;
function Nb(a,b){z(!b||a===k||a===o,"Can't turn on custom loggers persistently.");a===k?("undefined"!==typeof console&&("function"===typeof console.log?Lb=w(console.log,console):"object"===typeof console.log&&(Lb=function(a){console.log(a)})),b&&ob.setItem("logging_enabled","true")):a?Lb=a:(Lb=l,ob.removeItem("logging_enabled"))}J.enableLogging=Nb;J.ServerValue={TIMESTAMP:{".sv":"timestamp"}};J.INTERNAL=Z;J.Context=ke;})();
module.exports = Firebase;

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlcyI6WyIvVXNlcnMvcnRzYW8vRGV2ZWxvcG1lbnQvYXBwaWNlbnRlci9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiL1VzZXJzL3J0c2FvL0RldmVsb3BtZW50L2FwcGljZW50ZXIvZGFzaGJvYXJkL3NyYy9hcHAuanMiLCIvVXNlcnMvcnRzYW8vRGV2ZWxvcG1lbnQvYXBwaWNlbnRlci9ub2RlX21vZHVsZXMvYW5ndWxhci9pbmRleC1icm93c2VyaWZ5LmpzIiwiL1VzZXJzL3J0c2FvL0RldmVsb3BtZW50L2FwcGljZW50ZXIvbm9kZV9tb2R1bGVzL2FuZ3VsYXIvbGliL2FuZ3VsYXIubWluLmpzIiwiL1VzZXJzL3J0c2FvL0RldmVsb3BtZW50L2FwcGljZW50ZXIvbm9kZV9tb2R1bGVzL2FuZ3VsYXJmaXJlLWJyb3dzZXJpZnkvaW5kZXguanMiLCIvVXNlcnMvcnRzYW8vRGV2ZWxvcG1lbnQvYXBwaWNlbnRlci9ub2RlX21vZHVsZXMvY2xpZW50LWZpcmViYXNlL2ZpcmViYXNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25nQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBhbmd1bGFyID0gcmVxdWlyZSgnYW5ndWxhcicpO1xudmFyIGZpcmViYXNlID0gcmVxdWlyZSgnY2xpZW50LWZpcmViYXNlJyk7XG52YXIgYW5ndWxhcmZpcmUgPSByZXF1aXJlKCdhbmd1bGFyZmlyZS1icm93c2VyaWZ5Jyk7XG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWydmaXJlYmFzZScsJ25nQW5pbWF0ZSddKVxuXG5jb25zb2xlLmxvZygnaGVsbG8nKTtcblxuIiwicmVxdWlyZSgnLi9saWIvYW5ndWxhci5taW4uanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBhbmd1bGFyO1xuIiwiLypcbiBBbmd1bGFySlMgdjEuMi4xNlxuIChjKSAyMDEwLTIwMTQgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gTGljZW5zZTogTUlUXG4qL1xuKGZ1bmN0aW9uKE8sVSxzKXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gdChiKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHNbMF0sYyxhPVwiW1wiKyhiP2IrXCI6XCI6XCJcIikrYStcIl0gaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuMi4xNi9cIisoYj9iK1wiL1wiOlwiXCIpK2E7Zm9yKGM9MTtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWE9YSsoMT09Yz9cIj9cIjpcIiZcIikrXCJwXCIrKGMtMSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1tjXT9hcmd1bWVudHNbY10udG9TdHJpbmcoKS5yZXBsYWNlKC8gXFx7W1xcc1xcU10qJC8sXCJcIik6XCJ1bmRlZmluZWRcIj09dHlwZW9mIGFyZ3VtZW50c1tjXT9cInVuZGVmaW5lZFwiOlwic3RyaW5nXCIhPXR5cGVvZiBhcmd1bWVudHNbY10/SlNPTi5zdHJpbmdpZnkoYXJndW1lbnRzW2NdKTphcmd1bWVudHNbY10pO3JldHVybiBFcnJvcihhKX19ZnVuY3Rpb24gYWIoYil7aWYobnVsbD09Ynx8Q2EoYikpcmV0dXJuITE7XG52YXIgYT1iLmxlbmd0aDtyZXR1cm4gMT09PWIubm9kZVR5cGUmJmE/ITA6dyhiKXx8TShiKXx8MD09PWF8fFwibnVtYmVyXCI9PT10eXBlb2YgYSYmMDxhJiZhLTEgaW4gYn1mdW5jdGlvbiBxKGIsYSxjKXt2YXIgZDtpZihiKWlmKFAoYikpZm9yKGQgaW4gYilcInByb3RvdHlwZVwiPT1kfHwoXCJsZW5ndGhcIj09ZHx8XCJuYW1lXCI9PWR8fGIuaGFzT3duUHJvcGVydHkmJiFiLmhhc093blByb3BlcnR5KGQpKXx8YS5jYWxsKGMsYltkXSxkKTtlbHNlIGlmKGIuZm9yRWFjaCYmYi5mb3JFYWNoIT09cSliLmZvckVhY2goYSxjKTtlbHNlIGlmKGFiKGIpKWZvcihkPTA7ZDxiLmxlbmd0aDtkKyspYS5jYWxsKGMsYltkXSxkKTtlbHNlIGZvcihkIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShkKSYmYS5jYWxsKGMsYltkXSxkKTtyZXR1cm4gYn1mdW5jdGlvbiBRYihiKXt2YXIgYT1bXSxjO2ZvcihjIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShjKSYmYS5wdXNoKGMpO3JldHVybiBhLnNvcnQoKX1mdW5jdGlvbiBTYyhiLFxuYSxjKXtmb3IodmFyIGQ9UWIoYiksZT0wO2U8ZC5sZW5ndGg7ZSsrKWEuY2FsbChjLGJbZFtlXV0sZFtlXSk7cmV0dXJuIGR9ZnVuY3Rpb24gUmIoYil7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7YihjLGEpfX1mdW5jdGlvbiBiYigpe2Zvcih2YXIgYj1rYS5sZW5ndGgsYTtiOyl7Yi0tO2E9a2FbYl0uY2hhckNvZGVBdCgwKTtpZig1Nz09YSlyZXR1cm4ga2FbYl09XCJBXCIsa2Euam9pbihcIlwiKTtpZig5MD09YSlrYVtiXT1cIjBcIjtlbHNlIHJldHVybiBrYVtiXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGErMSksa2Euam9pbihcIlwiKX1rYS51bnNoaWZ0KFwiMFwiKTtyZXR1cm4ga2Euam9pbihcIlwiKX1mdW5jdGlvbiBTYihiLGEpe2E/Yi4kJGhhc2hLZXk9YTpkZWxldGUgYi4kJGhhc2hLZXl9ZnVuY3Rpb24gRChiKXt2YXIgYT1iLiQkaGFzaEtleTtxKGFyZ3VtZW50cyxmdW5jdGlvbihhKXthIT09YiYmcShhLGZ1bmN0aW9uKGEsYyl7YltjXT1hfSl9KTtTYihiLGEpO3JldHVybiBifWZ1bmN0aW9uIFkoYil7cmV0dXJuIHBhcnNlSW50KGIsXG4xMCl9ZnVuY3Rpb24gVGIoYixhKXtyZXR1cm4gRChuZXcgKEQoZnVuY3Rpb24oKXt9LHtwcm90b3R5cGU6Yn0pKSxhKX1mdW5jdGlvbiBDKCl7fWZ1bmN0aW9uIERhKGIpe3JldHVybiBifWZ1bmN0aW9uIGFhKGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBifX1mdW5jdGlvbiBFKGIpe3JldHVyblwidW5kZWZpbmVkXCI9PT10eXBlb2YgYn1mdW5jdGlvbiBCKGIpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgYn1mdW5jdGlvbiBYKGIpe3JldHVybiBudWxsIT1iJiZcIm9iamVjdFwiPT09dHlwZW9mIGJ9ZnVuY3Rpb24gdyhiKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGJ9ZnVuY3Rpb24gdmIoYil7cmV0dXJuXCJudW1iZXJcIj09PXR5cGVvZiBifWZ1bmN0aW9uIE5hKGIpe3JldHVyblwiW29iamVjdCBEYXRlXVwiPT09d2EuY2FsbChiKX1mdW5jdGlvbiBNKGIpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PXdhLmNhbGwoYil9ZnVuY3Rpb24gUChiKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgYn1cbmZ1bmN0aW9uIGNiKGIpe3JldHVyblwiW29iamVjdCBSZWdFeHBdXCI9PT13YS5jYWxsKGIpfWZ1bmN0aW9uIENhKGIpe3JldHVybiBiJiZiLmRvY3VtZW50JiZiLmxvY2F0aW9uJiZiLmFsZXJ0JiZiLnNldEludGVydmFsfWZ1bmN0aW9uIFRjKGIpe3JldHVybiEoIWJ8fCEoYi5ub2RlTmFtZXx8Yi5wcm9wJiZiLmF0dHImJmIuZmluZCkpfWZ1bmN0aW9uIFVjKGIsYSxjKXt2YXIgZD1bXTtxKGIsZnVuY3Rpb24oYixnLGYpe2QucHVzaChhLmNhbGwoYyxiLGcsZikpfSk7cmV0dXJuIGR9ZnVuY3Rpb24gZGIoYixhKXtpZihiLmluZGV4T2YpcmV0dXJuIGIuaW5kZXhPZihhKTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKylpZihhPT09YltjXSlyZXR1cm4gYztyZXR1cm4tMX1mdW5jdGlvbiBPYShiLGEpe3ZhciBjPWRiKGIsYSk7MDw9YyYmYi5zcGxpY2UoYywxKTtyZXR1cm4gYX1mdW5jdGlvbiBiYShiLGEpe2lmKENhKGIpfHxiJiZiLiRldmFsQXN5bmMmJmIuJHdhdGNoKXRocm93IFBhKFwiY3B3c1wiKTtcbmlmKGEpe2lmKGI9PT1hKXRocm93IFBhKFwiY3BpXCIpO2lmKE0oYikpZm9yKHZhciBjPWEubGVuZ3RoPTA7YzxiLmxlbmd0aDtjKyspYS5wdXNoKGJhKGJbY10pKTtlbHNle2M9YS4kJGhhc2hLZXk7cShhLGZ1bmN0aW9uKGIsYyl7ZGVsZXRlIGFbY119KTtmb3IodmFyIGQgaW4gYilhW2RdPWJhKGJbZF0pO1NiKGEsYyl9fWVsc2UoYT1iKSYmKE0oYik/YT1iYShiLFtdKTpOYShiKT9hPW5ldyBEYXRlKGIuZ2V0VGltZSgpKTpjYihiKT9hPVJlZ0V4cChiLnNvdXJjZSk6WChiKSYmKGE9YmEoYix7fSkpKTtyZXR1cm4gYX1mdW5jdGlvbiBVYihiLGEpe2E9YXx8e307Zm9yKHZhciBjIGluIGIpIWIuaGFzT3duUHJvcGVydHkoYyl8fFwiJFwiPT09Yy5jaGFyQXQoMCkmJlwiJFwiPT09Yy5jaGFyQXQoMSl8fChhW2NdPWJbY10pO3JldHVybiBhfWZ1bmN0aW9uIHhhKGIsYSl7aWYoYj09PWEpcmV0dXJuITA7aWYobnVsbD09PWJ8fG51bGw9PT1hKXJldHVybiExO2lmKGIhPT1iJiZhIT09YSlyZXR1cm4hMDtcbnZhciBjPXR5cGVvZiBiLGQ7aWYoYz09dHlwZW9mIGEmJlwib2JqZWN0XCI9PWMpaWYoTShiKSl7aWYoIU0oYSkpcmV0dXJuITE7aWYoKGM9Yi5sZW5ndGgpPT1hLmxlbmd0aCl7Zm9yKGQ9MDtkPGM7ZCsrKWlmKCF4YShiW2RdLGFbZF0pKXJldHVybiExO3JldHVybiEwfX1lbHNle2lmKE5hKGIpKXJldHVybiBOYShhKSYmYi5nZXRUaW1lKCk9PWEuZ2V0VGltZSgpO2lmKGNiKGIpJiZjYihhKSlyZXR1cm4gYi50b1N0cmluZygpPT1hLnRvU3RyaW5nKCk7aWYoYiYmYi4kZXZhbEFzeW5jJiZiLiR3YXRjaHx8YSYmYS4kZXZhbEFzeW5jJiZhLiR3YXRjaHx8Q2EoYil8fENhKGEpfHxNKGEpKXJldHVybiExO2M9e307Zm9yKGQgaW4gYilpZihcIiRcIiE9PWQuY2hhckF0KDApJiYhUChiW2RdKSl7aWYoIXhhKGJbZF0sYVtkXSkpcmV0dXJuITE7Y1tkXT0hMH1mb3IoZCBpbiBhKWlmKCFjLmhhc093blByb3BlcnR5KGQpJiZcIiRcIiE9PWQuY2hhckF0KDApJiZhW2RdIT09cyYmIVAoYVtkXSkpcmV0dXJuITE7XG5yZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBWYigpe3JldHVybiBVLnNlY3VyaXR5UG9saWN5JiZVLnNlY3VyaXR5UG9saWN5LmlzQWN0aXZlfHxVLnF1ZXJ5U2VsZWN0b3ImJiEoIVUucXVlcnlTZWxlY3RvcihcIltuZy1jc3BdXCIpJiYhVS5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtbmctY3NwXVwiKSl9ZnVuY3Rpb24gZWIoYixhKXt2YXIgYz0yPGFyZ3VtZW50cy5sZW5ndGg/eWEuY2FsbChhcmd1bWVudHMsMik6W107cmV0dXJuIVAoYSl8fGEgaW5zdGFuY2VvZiBSZWdFeHA/YTpjLmxlbmd0aD9mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2EuYXBwbHkoYixjLmNvbmNhdCh5YS5jYWxsKGFyZ3VtZW50cywwKSkpOmEuYXBwbHkoYixjKX06ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9hLmFwcGx5KGIsYXJndW1lbnRzKTphLmNhbGwoYil9fWZ1bmN0aW9uIFZjKGIsYSl7dmFyIGM9YTtcInN0cmluZ1wiPT09dHlwZW9mIGImJlwiJFwiPT09Yi5jaGFyQXQoMCk/Yz1cbnM6Q2EoYSk/Yz1cIiRXSU5ET1dcIjphJiZVPT09YT9jPVwiJERPQ1VNRU5UXCI6YSYmKGEuJGV2YWxBc3luYyYmYS4kd2F0Y2gpJiYoYz1cIiRTQ09QRVwiKTtyZXR1cm4gY31mdW5jdGlvbiBxYShiLGEpe3JldHVyblwidW5kZWZpbmVkXCI9PT10eXBlb2YgYj9zOkpTT04uc3RyaW5naWZ5KGIsVmMsYT9cIiAgXCI6bnVsbCl9ZnVuY3Rpb24gV2IoYil7cmV0dXJuIHcoYik/SlNPTi5wYXJzZShiKTpifWZ1bmN0aW9uIFFhKGIpe1wiZnVuY3Rpb25cIj09PXR5cGVvZiBiP2I9ITA6YiYmMCE9PWIubGVuZ3RoPyhiPUsoXCJcIitiKSxiPSEoXCJmXCI9PWJ8fFwiMFwiPT1ifHxcImZhbHNlXCI9PWJ8fFwibm9cIj09Ynx8XCJuXCI9PWJ8fFwiW11cIj09YikpOmI9ITE7cmV0dXJuIGJ9ZnVuY3Rpb24gaGEoYil7Yj15KGIpLmNsb25lKCk7dHJ5e2IuZW1wdHkoKX1jYXRjaChhKXt9dmFyIGM9eShcIjxkaXY+XCIpLmFwcGVuZChiKS5odG1sKCk7dHJ5e3JldHVybiAzPT09YlswXS5ub2RlVHlwZT9LKGMpOmMubWF0Y2goL14oPFtePl0rPikvKVsxXS5yZXBsYWNlKC9ePChbXFx3XFwtXSspLyxcbmZ1bmN0aW9uKGEsYil7cmV0dXJuXCI8XCIrSyhiKX0pfWNhdGNoKGQpe3JldHVybiBLKGMpfX1mdW5jdGlvbiBYYihiKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChiKX1jYXRjaChhKXt9fWZ1bmN0aW9uIFliKGIpe3ZhciBhPXt9LGMsZDtxKChifHxcIlwiKS5zcGxpdChcIiZcIiksZnVuY3Rpb24oYil7YiYmKGM9Yi5zcGxpdChcIj1cIiksZD1YYihjWzBdKSxCKGQpJiYoYj1CKGNbMV0pP1hiKGNbMV0pOiEwLGFbZF0/TShhW2RdKT9hW2RdLnB1c2goYik6YVtkXT1bYVtkXSxiXTphW2RdPWIpKX0pO3JldHVybiBhfWZ1bmN0aW9uIFpiKGIpe3ZhciBhPVtdO3EoYixmdW5jdGlvbihiLGQpe00oYik/cShiLGZ1bmN0aW9uKGIpe2EucHVzaCh6YShkLCEwKSsoITA9PT1iP1wiXCI6XCI9XCIremEoYiwhMCkpKX0pOmEucHVzaCh6YShkLCEwKSsoITA9PT1iP1wiXCI6XCI9XCIremEoYiwhMCkpKX0pO3JldHVybiBhLmxlbmd0aD9hLmpvaW4oXCImXCIpOlwiXCJ9ZnVuY3Rpb24gd2IoYil7cmV0dXJuIHphKGIsXG4hMCkucmVwbGFjZSgvJTI2L2dpLFwiJlwiKS5yZXBsYWNlKC8lM0QvZ2ksXCI9XCIpLnJlcGxhY2UoLyUyQi9naSxcIitcIil9ZnVuY3Rpb24gemEoYixhKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGIpLnJlcGxhY2UoLyU0MC9naSxcIkBcIikucmVwbGFjZSgvJTNBL2dpLFwiOlwiKS5yZXBsYWNlKC8lMjQvZyxcIiRcIikucmVwbGFjZSgvJTJDL2dpLFwiLFwiKS5yZXBsYWNlKC8lMjAvZyxhP1wiJTIwXCI6XCIrXCIpfWZ1bmN0aW9uIFdjKGIsYSl7ZnVuY3Rpb24gYyhhKXthJiZkLnB1c2goYSl9dmFyIGQ9W2JdLGUsZyxmPVtcIm5nOmFwcFwiLFwibmctYXBwXCIsXCJ4LW5nLWFwcFwiLFwiZGF0YS1uZy1hcHBcIl0saD0vXFxzbmdbOlxcLV1hcHAoOlxccyooW1xcd1xcZF9dKyk7Pyk/XFxzLztxKGYsZnVuY3Rpb24oYSl7ZlthXT0hMDtjKFUuZ2V0RWxlbWVudEJ5SWQoYSkpO2E9YS5yZXBsYWNlKFwiOlwiLFwiXFxcXDpcIik7Yi5xdWVyeVNlbGVjdG9yQWxsJiYocShiLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIrYSksYykscShiLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIrXG5hK1wiXFxcXDpcIiksYykscShiLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIrYStcIl1cIiksYykpfSk7cShkLGZ1bmN0aW9uKGEpe2lmKCFlKXt2YXIgYj1oLmV4ZWMoXCIgXCIrYS5jbGFzc05hbWUrXCIgXCIpO2I/KGU9YSxnPShiWzJdfHxcIlwiKS5yZXBsYWNlKC9cXHMrL2csXCIsXCIpKTpxKGEuYXR0cmlidXRlcyxmdW5jdGlvbihiKXshZSYmZltiLm5hbWVdJiYoZT1hLGc9Yi52YWx1ZSl9KX19KTtlJiZhKGUsZz9bZ106W10pfWZ1bmN0aW9uICRiKGIsYSl7dmFyIGM9ZnVuY3Rpb24oKXtiPXkoYik7aWYoYi5pbmplY3RvcigpKXt2YXIgYz1iWzBdPT09VT9cImRvY3VtZW50XCI6aGEoYik7dGhyb3cgUGEoXCJidHN0cnBkXCIsYyk7fWE9YXx8W107YS51bnNoaWZ0KFtcIiRwcm92aWRlXCIsZnVuY3Rpb24oYSl7YS52YWx1ZShcIiRyb290RWxlbWVudFwiLGIpfV0pO2EudW5zaGlmdChcIm5nXCIpO2M9YWMoYSk7Yy5pbnZva2UoW1wiJHJvb3RTY29wZVwiLFwiJHJvb3RFbGVtZW50XCIsXCIkY29tcGlsZVwiLFwiJGluamVjdG9yXCIsXCIkYW5pbWF0ZVwiLFxuZnVuY3Rpb24oYSxiLGMsZCxlKXthLiRhcHBseShmdW5jdGlvbigpe2IuZGF0YShcIiRpbmplY3RvclwiLGQpO2MoYikoYSl9KX1dKTtyZXR1cm4gY30sZD0vXk5HX0RFRkVSX0JPT1RTVFJBUCEvO2lmKE8mJiFkLnRlc3QoTy5uYW1lKSlyZXR1cm4gYygpO08ubmFtZT1PLm5hbWUucmVwbGFjZShkLFwiXCIpO0VhLnJlc3VtZUJvb3RzdHJhcD1mdW5jdGlvbihiKXtxKGIsZnVuY3Rpb24oYil7YS5wdXNoKGIpfSk7YygpfX1mdW5jdGlvbiBmYihiLGEpe2E9YXx8XCJfXCI7cmV0dXJuIGIucmVwbGFjZShYYyxmdW5jdGlvbihiLGQpe3JldHVybihkP2E6XCJcIikrYi50b0xvd2VyQ2FzZSgpfSl9ZnVuY3Rpb24geGIoYixhLGMpe2lmKCFiKXRocm93IFBhKFwiYXJlcVwiLGF8fFwiP1wiLGN8fFwicmVxdWlyZWRcIik7cmV0dXJuIGJ9ZnVuY3Rpb24gUmEoYixhLGMpe2MmJk0oYikmJihiPWJbYi5sZW5ndGgtMV0pO3hiKFAoYiksYSxcIm5vdCBhIGZ1bmN0aW9uLCBnb3QgXCIrKGImJlwib2JqZWN0XCI9PXR5cGVvZiBiP1xuYi5jb25zdHJ1Y3Rvci5uYW1lfHxcIk9iamVjdFwiOnR5cGVvZiBiKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQWEoYixhKXtpZihcImhhc093blByb3BlcnR5XCI9PT1iKXRocm93IFBhKFwiYmFkbmFtZVwiLGEpO31mdW5jdGlvbiBiYyhiLGEsYyl7aWYoIWEpcmV0dXJuIGI7YT1hLnNwbGl0KFwiLlwiKTtmb3IodmFyIGQsZT1iLGc9YS5sZW5ndGgsZj0wO2Y8ZztmKyspZD1hW2ZdLGImJihiPShlPWIpW2RdKTtyZXR1cm4hYyYmUChiKT9lYihlLGIpOmJ9ZnVuY3Rpb24geWIoYil7dmFyIGE9YlswXTtiPWJbYi5sZW5ndGgtMV07aWYoYT09PWIpcmV0dXJuIHkoYSk7dmFyIGM9W2FdO2Rve2E9YS5uZXh0U2libGluZztpZighYSlicmVhaztjLnB1c2goYSl9d2hpbGUoYSE9PWIpO3JldHVybiB5KGMpfWZ1bmN0aW9uIFljKGIpe3ZhciBhPXQoXCIkaW5qZWN0b3JcIiksYz10KFwibmdcIik7Yj1iLmFuZ3VsYXJ8fChiLmFuZ3VsYXI9e30pO2IuJCRtaW5FcnI9Yi4kJG1pbkVycnx8dDtyZXR1cm4gYi5tb2R1bGV8fFxuKGIubW9kdWxlPWZ1bmN0aW9uKCl7dmFyIGI9e307cmV0dXJuIGZ1bmN0aW9uKGUsZyxmKXtpZihcImhhc093blByb3BlcnR5XCI9PT1lKXRocm93IGMoXCJiYWRuYW1lXCIsXCJtb2R1bGVcIik7ZyYmYi5oYXNPd25Qcm9wZXJ0eShlKSYmKGJbZV09bnVsbCk7cmV0dXJuIGJbZV18fChiW2VdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Y1tlfHxcInB1c2hcIl0oW2EsZCxhcmd1bWVudHNdKTtyZXR1cm4gbn19aWYoIWcpdGhyb3cgYShcIm5vbW9kXCIsZSk7dmFyIGM9W10sZD1bXSxtPWIoXCIkaW5qZWN0b3JcIixcImludm9rZVwiKSxuPXtfaW52b2tlUXVldWU6YyxfcnVuQmxvY2tzOmQscmVxdWlyZXM6ZyxuYW1lOmUscHJvdmlkZXI6YihcIiRwcm92aWRlXCIsXCJwcm92aWRlclwiKSxmYWN0b3J5OmIoXCIkcHJvdmlkZVwiLFwiZmFjdG9yeVwiKSxzZXJ2aWNlOmIoXCIkcHJvdmlkZVwiLFwic2VydmljZVwiKSx2YWx1ZTpiKFwiJHByb3ZpZGVcIixcInZhbHVlXCIpLGNvbnN0YW50OmIoXCIkcHJvdmlkZVwiLFxuXCJjb25zdGFudFwiLFwidW5zaGlmdFwiKSxhbmltYXRpb246YihcIiRhbmltYXRlUHJvdmlkZXJcIixcInJlZ2lzdGVyXCIpLGZpbHRlcjpiKFwiJGZpbHRlclByb3ZpZGVyXCIsXCJyZWdpc3RlclwiKSxjb250cm9sbGVyOmIoXCIkY29udHJvbGxlclByb3ZpZGVyXCIsXCJyZWdpc3RlclwiKSxkaXJlY3RpdmU6YihcIiRjb21waWxlUHJvdmlkZXJcIixcImRpcmVjdGl2ZVwiKSxjb25maWc6bSxydW46ZnVuY3Rpb24oYSl7ZC5wdXNoKGEpO3JldHVybiB0aGlzfX07ZiYmbShmKTtyZXR1cm4gbn0oKSl9fSgpKX1mdW5jdGlvbiBaYyhiKXtEKGIse2Jvb3RzdHJhcDokYixjb3B5OmJhLGV4dGVuZDpELGVxdWFsczp4YSxlbGVtZW50OnksZm9yRWFjaDpxLGluamVjdG9yOmFjLG5vb3A6QyxiaW5kOmViLHRvSnNvbjpxYSxmcm9tSnNvbjpXYixpZGVudGl0eTpEYSxpc1VuZGVmaW5lZDpFLGlzRGVmaW5lZDpCLGlzU3RyaW5nOncsaXNGdW5jdGlvbjpQLGlzT2JqZWN0OlgsaXNOdW1iZXI6dmIsaXNFbGVtZW50OlRjLGlzQXJyYXk6TSxcbnZlcnNpb246JGMsaXNEYXRlOk5hLGxvd2VyY2FzZTpLLHVwcGVyY2FzZTpGYSxjYWxsYmFja3M6e2NvdW50ZXI6MH0sJCRtaW5FcnI6dCwkJGNzcDpWYn0pO1NhPVljKE8pO3RyeXtTYShcIm5nTG9jYWxlXCIpfWNhdGNoKGEpe1NhKFwibmdMb2NhbGVcIixbXSkucHJvdmlkZXIoXCIkbG9jYWxlXCIsYWQpfVNhKFwibmdcIixbXCJuZ0xvY2FsZVwiXSxbXCIkcHJvdmlkZVwiLGZ1bmN0aW9uKGEpe2EucHJvdmlkZXIoeyQkc2FuaXRpemVVcmk6YmR9KTthLnByb3ZpZGVyKFwiJGNvbXBpbGVcIixjYykuZGlyZWN0aXZlKHthOmNkLGlucHV0OmRjLHRleHRhcmVhOmRjLGZvcm06ZGQsc2NyaXB0OmVkLHNlbGVjdDpmZCxzdHlsZTpnZCxvcHRpb246aGQsbmdCaW5kOmlkLG5nQmluZEh0bWw6amQsbmdCaW5kVGVtcGxhdGU6a2QsbmdDbGFzczpsZCxuZ0NsYXNzRXZlbjptZCxuZ0NsYXNzT2RkOm5kLG5nQ2xvYWs6b2QsbmdDb250cm9sbGVyOnBkLG5nRm9ybTpxZCxuZ0hpZGU6cmQsbmdJZjpzZCxuZ0luY2x1ZGU6dGQsXG5uZ0luaXQ6dWQsbmdOb25CaW5kYWJsZTp2ZCxuZ1BsdXJhbGl6ZTp3ZCxuZ1JlcGVhdDp4ZCxuZ1Nob3c6eWQsbmdTdHlsZTp6ZCxuZ1N3aXRjaDpBZCxuZ1N3aXRjaFdoZW46QmQsbmdTd2l0Y2hEZWZhdWx0OkNkLG5nT3B0aW9uczpEZCxuZ1RyYW5zY2x1ZGU6RWQsbmdNb2RlbDpGZCxuZ0xpc3Q6R2QsbmdDaGFuZ2U6SGQscmVxdWlyZWQ6ZWMsbmdSZXF1aXJlZDplYyxuZ1ZhbHVlOklkfSkuZGlyZWN0aXZlKHtuZ0luY2x1ZGU6SmR9KS5kaXJlY3RpdmUoemIpLmRpcmVjdGl2ZShmYyk7YS5wcm92aWRlcih7JGFuY2hvclNjcm9sbDpLZCwkYW5pbWF0ZTpMZCwkYnJvd3NlcjpNZCwkY2FjaGVGYWN0b3J5Ok5kLCRjb250cm9sbGVyOk9kLCRkb2N1bWVudDpQZCwkZXhjZXB0aW9uSGFuZGxlcjpRZCwkZmlsdGVyOmdjLCRpbnRlcnBvbGF0ZTpSZCwkaW50ZXJ2YWw6U2QsJGh0dHA6VGQsJGh0dHBCYWNrZW5kOlVkLCRsb2NhdGlvbjpWZCwkbG9nOldkLCRwYXJzZTpYZCwkcm9vdFNjb3BlOllkLFxuJHE6WmQsJHNjZTokZCwkc2NlRGVsZWdhdGU6YWUsJHNuaWZmZXI6YmUsJHRlbXBsYXRlQ2FjaGU6Y2UsJHRpbWVvdXQ6ZGUsJHdpbmRvdzplZSwkJHJBRjpmZSwkJGFzeW5jQ2FsbGJhY2s6Z2V9KX1dKX1mdW5jdGlvbiBUYShiKXtyZXR1cm4gYi5yZXBsYWNlKGhlLGZ1bmN0aW9uKGEsYixkLGUpe3JldHVybiBlP2QudG9VcHBlckNhc2UoKTpkfSkucmVwbGFjZShpZSxcIk1veiQxXCIpfWZ1bmN0aW9uIEFiKGIsYSxjLGQpe2Z1bmN0aW9uIGUoYil7dmFyIGU9YyYmYj9bdGhpcy5maWx0ZXIoYildOlt0aGlzXSxsPWEsayxtLG4scCxyLHo7aWYoIWR8fG51bGwhPWIpZm9yKDtlLmxlbmd0aDspZm9yKGs9ZS5zaGlmdCgpLG09MCxuPWsubGVuZ3RoO208bjttKyspZm9yKHA9eShrW21dKSxsP3AudHJpZ2dlckhhbmRsZXIoXCIkZGVzdHJveVwiKTpsPSFsLHI9MCxwPSh6PXAuY2hpbGRyZW4oKSkubGVuZ3RoO3I8cDtyKyspZS5wdXNoKEdhKHpbcl0pKTtyZXR1cm4gZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9XG52YXIgZz1HYS5mbltiXSxnPWcuJG9yaWdpbmFsfHxnO2UuJG9yaWdpbmFsPWc7R2EuZm5bYl09ZX1mdW5jdGlvbiBOKGIpe2lmKGIgaW5zdGFuY2VvZiBOKXJldHVybiBiO3coYikmJihiPWNhKGIpKTtpZighKHRoaXMgaW5zdGFuY2VvZiBOKSl7aWYodyhiKSYmXCI8XCIhPWIuY2hhckF0KDApKXRocm93IEJiKFwibm9zZWxcIik7cmV0dXJuIG5ldyBOKGIpfWlmKHcoYikpe3ZhciBhPWI7Yj1VO3ZhciBjO2lmKGM9amUuZXhlYyhhKSliPVtiLmNyZWF0ZUVsZW1lbnQoY1sxXSldO2Vsc2V7dmFyIGQ9YixlO2I9ZC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Yz1bXTtpZihDYi50ZXN0KGEpKXtkPWIuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtlPShrZS5leGVjKGEpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKTtlPWVhW2VdfHxlYS5fZGVmYXVsdDtkLmlubmVySFRNTD1cIjxkaXY+JiMxNjA7PC9kaXY+XCIrZVsxXSthLnJlcGxhY2UobGUsXCI8JDE+PC8kMj5cIikrZVsyXTtcbmQucmVtb3ZlQ2hpbGQoZC5maXJzdENoaWxkKTtmb3IoYT1lWzBdO2EtLTspZD1kLmxhc3RDaGlsZDthPTA7Zm9yKGU9ZC5jaGlsZE5vZGVzLmxlbmd0aDthPGU7KythKWMucHVzaChkLmNoaWxkTm9kZXNbYV0pO2Q9Yi5maXJzdENoaWxkO2QudGV4dENvbnRlbnQ9XCJcIn1lbHNlIGMucHVzaChkLmNyZWF0ZVRleHROb2RlKGEpKTtiLnRleHRDb250ZW50PVwiXCI7Yi5pbm5lckhUTUw9XCJcIjtiPWN9RGIodGhpcyxiKTt5KFUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKS5hcHBlbmQodGhpcyl9ZWxzZSBEYih0aGlzLGIpfWZ1bmN0aW9uIEViKGIpe3JldHVybiBiLmNsb25lTm9kZSghMCl9ZnVuY3Rpb24gSGEoYil7aGMoYik7dmFyIGE9MDtmb3IoYj1iLmNoaWxkTm9kZXN8fFtdO2E8Yi5sZW5ndGg7YSsrKUhhKGJbYV0pfWZ1bmN0aW9uIGljKGIsYSxjLGQpe2lmKEIoZCkpdGhyb3cgQmIoXCJvZmZhcmdzXCIpO3ZhciBlPWxhKGIsXCJldmVudHNcIik7bGEoYixcImhhbmRsZVwiKSYmKEUoYSk/cShlLFxuZnVuY3Rpb24oYSxjKXtGYihiLGMsYSk7ZGVsZXRlIGVbY119KTpxKGEuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe0UoYyk/KEZiKGIsYSxlW2FdKSxkZWxldGUgZVthXSk6T2EoZVthXXx8W10sYyl9KSl9ZnVuY3Rpb24gaGMoYixhKXt2YXIgYz1iW2diXSxkPVVhW2NdO2QmJihhP2RlbGV0ZSBVYVtjXS5kYXRhW2FdOihkLmhhbmRsZSYmKGQuZXZlbnRzLiRkZXN0cm95JiZkLmhhbmRsZSh7fSxcIiRkZXN0cm95XCIpLGljKGIpKSxkZWxldGUgVWFbY10sYltnYl09cykpfWZ1bmN0aW9uIGxhKGIsYSxjKXt2YXIgZD1iW2diXSxkPVVhW2R8fC0xXTtpZihCKGMpKWR8fChiW2diXT1kPSsrbWUsZD1VYVtkXT17fSksZFthXT1jO2Vsc2UgcmV0dXJuIGQmJmRbYV19ZnVuY3Rpb24gamMoYixhLGMpe3ZhciBkPWxhKGIsXCJkYXRhXCIpLGU9QihjKSxnPSFlJiZCKGEpLGY9ZyYmIVgoYSk7ZHx8Znx8bGEoYixcImRhdGFcIixkPXt9KTtpZihlKWRbYV09YztlbHNlIGlmKGcpe2lmKGYpcmV0dXJuIGQmJmRbYV07XG5EKGQsYSl9ZWxzZSByZXR1cm4gZH1mdW5jdGlvbiBHYihiLGEpe3JldHVybiBiLmdldEF0dHJpYnV0ZT8tMTwoXCIgXCIrKGIuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpK1wiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLFwiIFwiKS5pbmRleE9mKFwiIFwiK2ErXCIgXCIpOiExfWZ1bmN0aW9uIGhiKGIsYSl7YSYmYi5zZXRBdHRyaWJ1dGUmJnEoYS5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSl7Yi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGNhKChcIiBcIisoYi5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIikrXCIgXCIpLnJlcGxhY2UoL1tcXG5cXHRdL2csXCIgXCIpLnJlcGxhY2UoXCIgXCIrY2EoYSkrXCIgXCIsXCIgXCIpKSl9KX1mdW5jdGlvbiBpYihiLGEpe2lmKGEmJmIuc2V0QXR0cmlidXRlKXt2YXIgYz0oXCIgXCIrKGIuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpK1wiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLFwiIFwiKTtxKGEuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2E9Y2EoYSk7LTE9PT1jLmluZGV4T2YoXCIgXCIrYStcIiBcIikmJlxuKGMrPWErXCIgXCIpfSk7Yi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGNhKGMpKX19ZnVuY3Rpb24gRGIoYixhKXtpZihhKXthPWEubm9kZU5hbWV8fCFCKGEubGVuZ3RoKXx8Q2EoYSk/W2FdOmE7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYi5wdXNoKGFbY10pfX1mdW5jdGlvbiBrYyhiLGEpe3JldHVybiBqYihiLFwiJFwiKyhhfHxcIm5nQ29udHJvbGxlclwiKStcIkNvbnRyb2xsZXJcIil9ZnVuY3Rpb24gamIoYixhLGMpe2I9eShiKTs5PT1iWzBdLm5vZGVUeXBlJiYoYj1iLmZpbmQoXCJodG1sXCIpKTtmb3IoYT1NKGEpP2E6W2FdO2IubGVuZ3RoOyl7Zm9yKHZhciBkPWJbMF0sZT0wLGc9YS5sZW5ndGg7ZTxnO2UrKylpZigoYz1iLmRhdGEoYVtlXSkpIT09cylyZXR1cm4gYztiPXkoZC5wYXJlbnROb2RlfHwxMT09PWQubm9kZVR5cGUmJmQuaG9zdCl9fWZ1bmN0aW9uIGxjKGIpe2Zvcih2YXIgYT0wLGM9Yi5jaGlsZE5vZGVzO2E8Yy5sZW5ndGg7YSsrKUhhKGNbYV0pO2Zvcig7Yi5maXJzdENoaWxkOyliLnJlbW92ZUNoaWxkKGIuZmlyc3RDaGlsZCl9XG5mdW5jdGlvbiBtYyhiLGEpe3ZhciBjPWtiW2EudG9Mb3dlckNhc2UoKV07cmV0dXJuIGMmJm5jW2Iubm9kZU5hbWVdJiZjfWZ1bmN0aW9uIG5lKGIsYSl7dmFyIGM9ZnVuY3Rpb24oYyxlKXtjLnByZXZlbnREZWZhdWx0fHwoYy5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2MucmV0dXJuVmFsdWU9ITF9KTtjLnN0b3BQcm9wYWdhdGlvbnx8KGMuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7Yy5jYW5jZWxCdWJibGU9ITB9KTtjLnRhcmdldHx8KGMudGFyZ2V0PWMuc3JjRWxlbWVudHx8VSk7aWYoRShjLmRlZmF1bHRQcmV2ZW50ZWQpKXt2YXIgZz1jLnByZXZlbnREZWZhdWx0O2MucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtjLmRlZmF1bHRQcmV2ZW50ZWQ9ITA7Zy5jYWxsKGMpfTtjLmRlZmF1bHRQcmV2ZW50ZWQ9ITF9Yy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYy5kZWZhdWx0UHJldmVudGVkfHwhMT09PWMucmV0dXJuVmFsdWV9O3ZhciBmPVViKGFbZXx8XG5jLnR5cGVdfHxbXSk7cShmLGZ1bmN0aW9uKGEpe2EuY2FsbChiLGMpfSk7OD49Uz8oYy5wcmV2ZW50RGVmYXVsdD1udWxsLGMuc3RvcFByb3BhZ2F0aW9uPW51bGwsYy5pc0RlZmF1bHRQcmV2ZW50ZWQ9bnVsbCk6KGRlbGV0ZSBjLnByZXZlbnREZWZhdWx0LGRlbGV0ZSBjLnN0b3BQcm9wYWdhdGlvbixkZWxldGUgYy5pc0RlZmF1bHRQcmV2ZW50ZWQpfTtjLmVsZW09YjtyZXR1cm4gY31mdW5jdGlvbiBJYShiKXt2YXIgYT10eXBlb2YgYixjO1wib2JqZWN0XCI9PWEmJm51bGwhPT1iP1wiZnVuY3Rpb25cIj09dHlwZW9mKGM9Yi4kJGhhc2hLZXkpP2M9Yi4kJGhhc2hLZXkoKTpjPT09cyYmKGM9Yi4kJGhhc2hLZXk9YmIoKSk6Yz1iO3JldHVybiBhK1wiOlwiK2N9ZnVuY3Rpb24gVmEoYil7cShiLHRoaXMucHV0LHRoaXMpfWZ1bmN0aW9uIG9jKGIpe3ZhciBhLGM7XCJmdW5jdGlvblwiPT10eXBlb2YgYj8oYT1iLiRpbmplY3QpfHwoYT1bXSxiLmxlbmd0aCYmKGM9Yi50b1N0cmluZygpLnJlcGxhY2Uob2UsXG5cIlwiKSxjPWMubWF0Y2gocGUpLHEoY1sxXS5zcGxpdChxZSksZnVuY3Rpb24oYil7Yi5yZXBsYWNlKHJlLGZ1bmN0aW9uKGIsYyxkKXthLnB1c2goZCl9KX0pKSxiLiRpbmplY3Q9YSk6TShiKT8oYz1iLmxlbmd0aC0xLFJhKGJbY10sXCJmblwiKSxhPWIuc2xpY2UoMCxjKSk6UmEoYixcImZuXCIsITApO3JldHVybiBhfWZ1bmN0aW9uIGFjKGIpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7aWYoWChiKSlxKGIsUmIoYSkpO2Vsc2UgcmV0dXJuIGEoYixjKX19ZnVuY3Rpb24gYyhhLGIpe0FhKGEsXCJzZXJ2aWNlXCIpO2lmKFAoYil8fE0oYikpYj1uLmluc3RhbnRpYXRlKGIpO2lmKCFiLiRnZXQpdGhyb3cgV2EoXCJwZ2V0XCIsYSk7cmV0dXJuIG1bYStoXT1ifWZ1bmN0aW9uIGQoYSxiKXtyZXR1cm4gYyhhLHskZ2V0OmJ9KX1mdW5jdGlvbiBlKGEpe3ZhciBiPVtdLGMsZCxnLGg7cShhLGZ1bmN0aW9uKGEpe2lmKCFrLmdldChhKSl7ay5wdXQoYSwhMCk7dHJ5e2lmKHcoYSkpZm9yKGM9XG5TYShhKSxiPWIuY29uY2F0KGUoYy5yZXF1aXJlcykpLmNvbmNhdChjLl9ydW5CbG9ja3MpLGQ9Yy5faW52b2tlUXVldWUsZz0wLGg9ZC5sZW5ndGg7ZzxoO2crKyl7dmFyIGY9ZFtnXSxsPW4uZ2V0KGZbMF0pO2xbZlsxXV0uYXBwbHkobCxmWzJdKX1lbHNlIFAoYSk/Yi5wdXNoKG4uaW52b2tlKGEpKTpNKGEpP2IucHVzaChuLmludm9rZShhKSk6UmEoYSxcIm1vZHVsZVwiKX1jYXRjaChtKXt0aHJvdyBNKGEpJiYoYT1hW2EubGVuZ3RoLTFdKSxtLm1lc3NhZ2UmJihtLnN0YWNrJiYtMT09bS5zdGFjay5pbmRleE9mKG0ubWVzc2FnZSkpJiYobT1tLm1lc3NhZ2UrXCJcXG5cIittLnN0YWNrKSxXYShcIm1vZHVsZXJyXCIsYSxtLnN0YWNrfHxtLm1lc3NhZ2V8fG0pO319fSk7cmV0dXJuIGJ9ZnVuY3Rpb24gZyhhLGIpe2Z1bmN0aW9uIGMoZCl7aWYoYS5oYXNPd25Qcm9wZXJ0eShkKSl7aWYoYVtkXT09PWYpdGhyb3cgV2EoXCJjZGVwXCIsbC5qb2luKFwiIDwtIFwiKSk7cmV0dXJuIGFbZF19dHJ5e3JldHVybiBsLnVuc2hpZnQoZCksXG5hW2RdPWYsYVtkXT1iKGQpfWNhdGNoKGUpe3Rocm93IGFbZF09PT1mJiZkZWxldGUgYVtkXSxlO31maW5hbGx5e2wuc2hpZnQoKX19ZnVuY3Rpb24gZChhLGIsZSl7dmFyIGc9W10saD1vYyhhKSxmLGwsaztsPTA7Zm9yKGY9aC5sZW5ndGg7bDxmO2wrKyl7az1oW2xdO2lmKFwic3RyaW5nXCIhPT10eXBlb2Ygayl0aHJvdyBXYShcIml0a25cIixrKTtnLnB1c2goZSYmZS5oYXNPd25Qcm9wZXJ0eShrKT9lW2tdOmMoaykpfWEuJGluamVjdHx8KGE9YVtmXSk7cmV0dXJuIGEuYXBwbHkoYixnKX1yZXR1cm57aW52b2tlOmQsaW5zdGFudGlhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbigpe30sZTtjLnByb3RvdHlwZT0oTShhKT9hW2EubGVuZ3RoLTFdOmEpLnByb3RvdHlwZTtjPW5ldyBjO2U9ZChhLGMsYik7cmV0dXJuIFgoZSl8fFAoZSk/ZTpjfSxnZXQ6Yyxhbm5vdGF0ZTpvYyxoYXM6ZnVuY3Rpb24oYil7cmV0dXJuIG0uaGFzT3duUHJvcGVydHkoYitoKXx8YS5oYXNPd25Qcm9wZXJ0eShiKX19fVxudmFyIGY9e30saD1cIlByb3ZpZGVyXCIsbD1bXSxrPW5ldyBWYSxtPXskcHJvdmlkZTp7cHJvdmlkZXI6YShjKSxmYWN0b3J5OmEoZCksc2VydmljZTphKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGQoYSxbXCIkaW5qZWN0b3JcIixmdW5jdGlvbihhKXtyZXR1cm4gYS5pbnN0YW50aWF0ZShiKX1dKX0pLHZhbHVlOmEoZnVuY3Rpb24oYSxiKXtyZXR1cm4gZChhLGFhKGIpKX0pLGNvbnN0YW50OmEoZnVuY3Rpb24oYSxiKXtBYShhLFwiY29uc3RhbnRcIik7bVthXT1iO3BbYV09Yn0pLGRlY29yYXRvcjpmdW5jdGlvbihhLGIpe3ZhciBjPW4uZ2V0KGEraCksZD1jLiRnZXQ7Yy4kZ2V0PWZ1bmN0aW9uKCl7dmFyIGE9ci5pbnZva2UoZCxjKTtyZXR1cm4gci5pbnZva2UoYixudWxsLHskZGVsZWdhdGU6YX0pfX19fSxuPW0uJGluamVjdG9yPWcobSxmdW5jdGlvbigpe3Rocm93IFdhKFwidW5wclwiLGwuam9pbihcIiA8LSBcIikpO30pLHA9e30scj1wLiRpbmplY3Rvcj1nKHAsZnVuY3Rpb24oYSl7YT1uLmdldChhK1xuaCk7cmV0dXJuIHIuaW52b2tlKGEuJGdldCxhKX0pO3EoZShiKSxmdW5jdGlvbihhKXtyLmludm9rZShhfHxDKX0pO3JldHVybiByfWZ1bmN0aW9uIEtkKCl7dmFyIGI9ITA7dGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZz1mdW5jdGlvbigpe2I9ITF9O3RoaXMuJGdldD1bXCIkd2luZG93XCIsXCIkbG9jYXRpb25cIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihhLGMsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj1udWxsO3EoYSxmdW5jdGlvbihhKXtifHxcImFcIiE9PUsoYS5ub2RlTmFtZSl8fChiPWEpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gZygpe3ZhciBiPWMuaGFzaCgpLGQ7Yj8oZD1mLmdldEVsZW1lbnRCeUlkKGIpKT9kLnNjcm9sbEludG9WaWV3KCk6KGQ9ZShmLmdldEVsZW1lbnRzQnlOYW1lKGIpKSk/ZC5zY3JvbGxJbnRvVmlldygpOlwidG9wXCI9PT1iJiZhLnNjcm9sbFRvKDAsMCk6YS5zY3JvbGxUbygwLDApfXZhciBmPWEuZG9jdW1lbnQ7YiYmZC4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gYy5oYXNoKCl9LFxuZnVuY3Rpb24oKXtkLiRldmFsQXN5bmMoZyl9KTtyZXR1cm4gZ31dfWZ1bmN0aW9uIGdlKCl7dGhpcy4kZ2V0PVtcIiQkckFGXCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGIsYSl7cmV0dXJuIGIuc3VwcG9ydGVkP2Z1bmN0aW9uKGEpe3JldHVybiBiKGEpfTpmdW5jdGlvbihiKXtyZXR1cm4gYShiLDAsITEpfX1dfWZ1bmN0aW9uIHNlKGIsYSxjLGQpe2Z1bmN0aW9uIGUoYSl7dHJ5e2EuYXBwbHkobnVsbCx5YS5jYWxsKGFyZ3VtZW50cywxKSl9ZmluYWxseXtpZih6LS0sMD09PXopZm9yKDt1Lmxlbmd0aDspdHJ5e3UucG9wKCkoKX1jYXRjaChiKXtjLmVycm9yKGIpfX19ZnVuY3Rpb24gZyhhLGIpeyhmdW5jdGlvbiBUKCl7cShGLGZ1bmN0aW9uKGEpe2EoKX0pO3Y9YihULGEpfSkoKX1mdW5jdGlvbiBmKCl7eD1udWxsO0ohPWgudXJsKCkmJihKPWgudXJsKCkscShtYSxmdW5jdGlvbihhKXthKGgudXJsKCkpfSkpfXZhciBoPXRoaXMsbD1hWzBdLGs9Yi5sb2NhdGlvbixtPWIuaGlzdG9yeSxcbm49Yi5zZXRUaW1lb3V0LHA9Yi5jbGVhclRpbWVvdXQscj17fTtoLmlzTW9jaz0hMTt2YXIgej0wLHU9W107aC4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0PWU7aC4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50PWZ1bmN0aW9uKCl7eisrfTtoLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHM9ZnVuY3Rpb24oYSl7cShGLGZ1bmN0aW9uKGEpe2EoKX0pOzA9PT16P2EoKTp1LnB1c2goYSl9O3ZhciBGPVtdLHY7aC5hZGRQb2xsRm49ZnVuY3Rpb24oYSl7RSh2KSYmZygxMDAsbik7Ri5wdXNoKGEpO3JldHVybiBhfTt2YXIgSj1rLmhyZWYsQT1hLmZpbmQoXCJiYXNlXCIpLHg9bnVsbDtoLnVybD1mdW5jdGlvbihhLGMpe2shPT1iLmxvY2F0aW9uJiYoaz1iLmxvY2F0aW9uKTttIT09Yi5oaXN0b3J5JiYobT1iLmhpc3RvcnkpO2lmKGEpe2lmKEohPWEpcmV0dXJuIEo9YSxkLmhpc3Rvcnk/Yz9tLnJlcGxhY2VTdGF0ZShudWxsLFwiXCIsYSk6KG0ucHVzaFN0YXRlKG51bGwsXCJcIixcbmEpLEEuYXR0cihcImhyZWZcIixBLmF0dHIoXCJocmVmXCIpKSk6KHg9YSxjP2sucmVwbGFjZShhKTprLmhyZWY9YSksaH1lbHNlIHJldHVybiB4fHxrLmhyZWYucmVwbGFjZSgvJTI3L2csXCInXCIpfTt2YXIgbWE9W10sTD0hMTtoLm9uVXJsQ2hhbmdlPWZ1bmN0aW9uKGEpe2lmKCFMKXtpZihkLmhpc3RvcnkpeShiKS5vbihcInBvcHN0YXRlXCIsZik7aWYoZC5oYXNoY2hhbmdlKXkoYikub24oXCJoYXNoY2hhbmdlXCIsZik7ZWxzZSBoLmFkZFBvbGxGbihmKTtMPSEwfW1hLnB1c2goYSk7cmV0dXJuIGF9O2guYmFzZUhyZWY9ZnVuY3Rpb24oKXt2YXIgYT1BLmF0dHIoXCJocmVmXCIpO3JldHVybiBhP2EucmVwbGFjZSgvXihodHRwcz9cXDopP1xcL1xcL1teXFwvXSovLFwiXCIpOlwiXCJ9O3ZhciBRPXt9LGRhPVwiXCIsSD1oLmJhc2VIcmVmKCk7aC5jb29raWVzPWZ1bmN0aW9uKGEsYil7dmFyIGQsZSxnLGg7aWYoYSliPT09cz9sLmNvb2tpZT1lc2NhcGUoYSkrXCI9O3BhdGg9XCIrSCtcIjtleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgR01UXCI6XG53KGIpJiYoZD0obC5jb29raWU9ZXNjYXBlKGEpK1wiPVwiK2VzY2FwZShiKStcIjtwYXRoPVwiK0gpLmxlbmd0aCsxLDQwOTY8ZCYmYy53YXJuKFwiQ29va2llICdcIithK1wiJyBwb3NzaWJseSBub3Qgc2V0IG9yIG92ZXJmbG93ZWQgYmVjYXVzZSBpdCB3YXMgdG9vIGxhcmdlIChcIitkK1wiID4gNDA5NiBieXRlcykhXCIpKTtlbHNle2lmKGwuY29va2llIT09ZGEpZm9yKGRhPWwuY29va2llLGQ9ZGEuc3BsaXQoXCI7IFwiKSxRPXt9LGc9MDtnPGQubGVuZ3RoO2crKyllPWRbZ10saD1lLmluZGV4T2YoXCI9XCIpLDA8aCYmKGE9dW5lc2NhcGUoZS5zdWJzdHJpbmcoMCxoKSksUVthXT09PXMmJihRW2FdPXVuZXNjYXBlKGUuc3Vic3RyaW5nKGgrMSkpKSk7cmV0dXJuIFF9fTtoLmRlZmVyPWZ1bmN0aW9uKGEsYil7dmFyIGM7eisrO2M9bihmdW5jdGlvbigpe2RlbGV0ZSByW2NdO2UoYSl9LGJ8fDApO3JbY109ITA7cmV0dXJuIGN9O2guZGVmZXIuY2FuY2VsPWZ1bmN0aW9uKGEpe3JldHVybiByW2FdPyhkZWxldGUgclthXSxcbnAoYSksZShDKSwhMCk6ITF9fWZ1bmN0aW9uIE1kKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiRsb2dcIixcIiRzbmlmZmVyXCIsXCIkZG9jdW1lbnRcIixmdW5jdGlvbihiLGEsYyxkKXtyZXR1cm4gbmV3IHNlKGIsZCxhLGMpfV19ZnVuY3Rpb24gTmQoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZCl7ZnVuY3Rpb24gZShhKXthIT1uJiYocD9wPT1hJiYocD1hLm4pOnA9YSxnKGEubixhLnApLGcoYSxuKSxuPWEsbi5uPW51bGwpfWZ1bmN0aW9uIGcoYSxiKXthIT1iJiYoYSYmKGEucD1iKSxiJiYoYi5uPWEpKX1pZihiIGluIGEpdGhyb3cgdChcIiRjYWNoZUZhY3RvcnlcIikoXCJpaWRcIixiKTt2YXIgZj0wLGg9RCh7fSxkLHtpZDpifSksbD17fSxrPWQmJmQuY2FwYWNpdHl8fE51bWJlci5NQVhfVkFMVUUsbT17fSxuPW51bGwscD1udWxsO3JldHVybiBhW2JdPXtwdXQ6ZnVuY3Rpb24oYSxiKXtpZihrPE51bWJlci5NQVhfVkFMVUUpe3ZhciBjPW1bYV18fChtW2FdPXtrZXk6YX0pO1xuZShjKX1pZighRShiKSlyZXR1cm4gYSBpbiBsfHxmKyssbFthXT1iLGY+ayYmdGhpcy5yZW1vdmUocC5rZXkpLGJ9LGdldDpmdW5jdGlvbihhKXtpZihrPE51bWJlci5NQVhfVkFMVUUpe3ZhciBiPW1bYV07aWYoIWIpcmV0dXJuO2UoYil9cmV0dXJuIGxbYV19LHJlbW92ZTpmdW5jdGlvbihhKXtpZihrPE51bWJlci5NQVhfVkFMVUUpe3ZhciBiPW1bYV07aWYoIWIpcmV0dXJuO2I9PW4mJihuPWIucCk7Yj09cCYmKHA9Yi5uKTtnKGIubixiLnApO2RlbGV0ZSBtW2FdfWRlbGV0ZSBsW2FdO2YtLX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7bD17fTtmPTA7bT17fTtuPXA9bnVsbH0sZGVzdHJveTpmdW5jdGlvbigpe209aD1sPW51bGw7ZGVsZXRlIGFbYl19LGluZm86ZnVuY3Rpb24oKXtyZXR1cm4gRCh7fSxoLHtzaXplOmZ9KX19fXZhciBhPXt9O2IuaW5mbz1mdW5jdGlvbigpe3ZhciBiPXt9O3EoYSxmdW5jdGlvbihhLGUpe2JbZV09YS5pbmZvKCl9KTtyZXR1cm4gYn07Yi5nZXQ9ZnVuY3Rpb24oYil7cmV0dXJuIGFbYl19O1xucmV0dXJuIGJ9fWZ1bmN0aW9uIGNlKCl7dGhpcy4kZ2V0PVtcIiRjYWNoZUZhY3RvcnlcIixmdW5jdGlvbihiKXtyZXR1cm4gYihcInRlbXBsYXRlc1wiKX1dfWZ1bmN0aW9uIGNjKGIsYSl7dmFyIGM9e30sZD1cIkRpcmVjdGl2ZVwiLGU9L15cXHMqZGlyZWN0aXZlXFw6XFxzKihbXFxkXFx3XFwtX10rKVxccysoLiopJC8sZz0vKChbXFxkXFx3XFwtX10rKSg/OlxcOihbXjtdKykpPzs/KS8sZj0vXihvblthLXpdK3xmb3JtYWN0aW9uKSQvO3RoaXMuZGlyZWN0aXZlPWZ1bmN0aW9uIGwoYSxlKXtBYShhLFwiZGlyZWN0aXZlXCIpO3coYSk/KHhiKGUsXCJkaXJlY3RpdmVGYWN0b3J5XCIpLGMuaGFzT3duUHJvcGVydHkoYSl8fChjW2FdPVtdLGIuZmFjdG9yeShhK2QsW1wiJGluamVjdG9yXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLGZ1bmN0aW9uKGIsZCl7dmFyIGU9W107cShjW2FdLGZ1bmN0aW9uKGMsZyl7dHJ5e3ZhciBmPWIuaW52b2tlKGMpO1AoZik/Zj17Y29tcGlsZTphYShmKX06IWYuY29tcGlsZSYmZi5saW5rJiYoZi5jb21waWxlPVxuYWEoZi5saW5rKSk7Zi5wcmlvcml0eT1mLnByaW9yaXR5fHwwO2YuaW5kZXg9ZztmLm5hbWU9Zi5uYW1lfHxhO2YucmVxdWlyZT1mLnJlcXVpcmV8fGYuY29udHJvbGxlciYmZi5uYW1lO2YucmVzdHJpY3Q9Zi5yZXN0cmljdHx8XCJBXCI7ZS5wdXNoKGYpfWNhdGNoKGwpe2QobCl9fSk7cmV0dXJuIGV9XSkpLGNbYV0ucHVzaChlKSk6cShhLFJiKGwpKTtyZXR1cm4gdGhpc307dGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihiKXtyZXR1cm4gQihiKT8oYS5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdChiKSx0aGlzKTphLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KCl9O3RoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGIpe3JldHVybiBCKGIpPyhhLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdChiKSx0aGlzKTphLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCgpfTt0aGlzLiRnZXQ9W1wiJGluamVjdG9yXCIsXCIkaW50ZXJwb2xhdGVcIixcblwiJGV4Y2VwdGlvbkhhbmRsZXJcIixcIiRodHRwXCIsXCIkdGVtcGxhdGVDYWNoZVwiLFwiJHBhcnNlXCIsXCIkY29udHJvbGxlclwiLFwiJHJvb3RTY29wZVwiLFwiJGRvY3VtZW50XCIsXCIkc2NlXCIsXCIkYW5pbWF0ZVwiLFwiJCRzYW5pdGl6ZVVyaVwiLGZ1bmN0aW9uKGEsYixtLG4scCxyLHosdSxGLHYsSixBKXtmdW5jdGlvbiB4KGEsYixjLGQsZSl7YSBpbnN0YW5jZW9mIHl8fChhPXkoYSkpO3EoYSxmdW5jdGlvbihiLGMpezM9PWIubm9kZVR5cGUmJmIubm9kZVZhbHVlLm1hdGNoKC9cXFMrLykmJihhW2NdPXkoYikud3JhcChcIjxzcGFuPjwvc3Bhbj5cIikucGFyZW50KClbMF0pfSk7dmFyIGc9TChhLGIsYSxjLGQsZSk7bWEoYSxcIm5nLXNjb3BlXCIpO3JldHVybiBmdW5jdGlvbihiLGMsZCl7eGIoYixcInNjb3BlXCIpO3ZhciBlPWM/SmEuY2xvbmUuY2FsbChhKTphO3EoZCxmdW5jdGlvbihhLGIpe2UuZGF0YShcIiRcIitiK1wiQ29udHJvbGxlclwiLGEpfSk7ZD0wO2Zvcih2YXIgZj1lLmxlbmd0aDtkPGY7ZCsrKXt2YXIgbD1cbmVbZF0ubm9kZVR5cGU7MSE9PWwmJjkhPT1sfHxlLmVxKGQpLmRhdGEoXCIkc2NvcGVcIixiKX1jJiZjKGUsYik7ZyYmZyhiLGUsZSk7cmV0dXJuIGV9fWZ1bmN0aW9uIG1hKGEsYil7dHJ5e2EuYWRkQ2xhc3MoYil9Y2F0Y2goYyl7fX1mdW5jdGlvbiBMKGEsYixjLGQsZSxnKXtmdW5jdGlvbiBmKGEsYyxkLGUpe3ZhciBnLGssbSxyLG4scCx6O2c9Yy5sZW5ndGg7dmFyIEk9QXJyYXkoZyk7Zm9yKG49MDtuPGc7bisrKUlbbl09Y1tuXTt6PW49MDtmb3IocD1sLmxlbmd0aDtuPHA7eisrKWs9SVt6XSxjPWxbbisrXSxnPWxbbisrXSxtPXkoayksYz8oYy5zY29wZT8ocj1hLiRuZXcoKSxtLmRhdGEoXCIkc2NvcGVcIixyKSk6cj1hLChtPWMudHJhbnNjbHVkZSl8fCFlJiZiP2MoZyxyLGssZCxRKGEsbXx8YikpOmMoZyxyLGssZCxlKSk6ZyYmZyhhLGsuY2hpbGROb2RlcyxzLGUpfWZvcih2YXIgbD1bXSxrLG0scixuLHA9MDtwPGEubGVuZ3RoO3ArKylrPW5ldyBIYixtPWRhKGFbcF0sW10sayxcbjA9PT1wP2Q6cyxlKSwoZz1tLmxlbmd0aD9pYShtLGFbcF0sayxiLGMsbnVsbCxbXSxbXSxnKTpudWxsKSYmZy5zY29wZSYmbWEoeShhW3BdKSxcIm5nLXNjb3BlXCIpLGs9ZyYmZy50ZXJtaW5hbHx8IShyPWFbcF0uY2hpbGROb2Rlcyl8fCFyLmxlbmd0aD9udWxsOkwocixnP2cudHJhbnNjbHVkZTpiKSxsLnB1c2goZyxrKSxuPW58fGd8fGssZz1udWxsO3JldHVybiBuP2Y6bnVsbH1mdW5jdGlvbiBRKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCxlKXt2YXIgZz0hMTtjfHwoYz1hLiRuZXcoKSxnPWMuJCR0cmFuc2NsdWRlZD0hMCk7ZD1iKGMsZCxlKTtpZihnKWQub24oXCIkZGVzdHJveVwiLGViKGMsYy4kZGVzdHJveSkpO3JldHVybiBkfX1mdW5jdGlvbiBkYShhLGIsYyxkLGYpe3ZhciBrPWMuJGF0dHIsbDtzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSAxOlQoYixuYShLYShhKS50b0xvd2VyQ2FzZSgpKSxcIkVcIixkLGYpO3ZhciBtLHIsbjtsPWEuYXR0cmlidXRlcztmb3IodmFyIHA9MCx6PVxubCYmbC5sZW5ndGg7cDx6O3ArKyl7dmFyIHU9ITEsRj0hMTttPWxbcF07aWYoIVN8fDg8PVN8fG0uc3BlY2lmaWVkKXtyPW0ubmFtZTtuPW5hKHIpO1cudGVzdChuKSYmKHI9ZmIobi5zdWJzdHIoNiksXCItXCIpKTt2YXIgSj1uLnJlcGxhY2UoLyhTdGFydHxFbmQpJC8sXCJcIik7bj09PUorXCJTdGFydFwiJiYodT1yLEY9ci5zdWJzdHIoMCxyLmxlbmd0aC01KStcImVuZFwiLHI9ci5zdWJzdHIoMCxyLmxlbmd0aC02KSk7bj1uYShyLnRvTG93ZXJDYXNlKCkpO2tbbl09cjtjW25dPW09Y2EobS52YWx1ZSk7bWMoYSxuKSYmKGNbbl09ITApO04oYSxiLG0sbik7VChiLG4sXCJBXCIsZCxmLHUsRil9fWE9YS5jbGFzc05hbWU7aWYodyhhKSYmXCJcIiE9PWEpZm9yKDtsPWcuZXhlYyhhKTspbj1uYShsWzJdKSxUKGIsbixcIkNcIixkLGYpJiYoY1tuXT1jYShsWzNdKSksYT1hLnN1YnN0cihsLmluZGV4K2xbMF0ubGVuZ3RoKTticmVhaztjYXNlIDM6dChiLGEubm9kZVZhbHVlKTticmVhaztjYXNlIDg6dHJ5e2lmKGw9XG5lLmV4ZWMoYS5ub2RlVmFsdWUpKW49bmEobFsxXSksVChiLG4sXCJNXCIsZCxmKSYmKGNbbl09Y2EobFsyXSkpfWNhdGNoKHgpe319Yi5zb3J0KEUpO3JldHVybiBifWZ1bmN0aW9uIEgoYSxiLGMpe3ZhciBkPVtdLGU9MDtpZihiJiZhLmhhc0F0dHJpYnV0ZSYmYS5oYXNBdHRyaWJ1dGUoYikpe2Rve2lmKCFhKXRocm93IGphKFwidXRlcmRpclwiLGIsYyk7MT09YS5ub2RlVHlwZSYmKGEuaGFzQXR0cmlidXRlKGIpJiZlKyssYS5oYXNBdHRyaWJ1dGUoYykmJmUtLSk7ZC5wdXNoKGEpO2E9YS5uZXh0U2libGluZ313aGlsZSgwPGUpfWVsc2UgZC5wdXNoKGEpO3JldHVybiB5KGQpfWZ1bmN0aW9uIFIoYSxiLGMpe3JldHVybiBmdW5jdGlvbihkLGUsZyxmLGwpe2U9SChlWzBdLGIsYyk7cmV0dXJuIGEoZCxlLGcsZixsKX19ZnVuY3Rpb24gaWEoYSxjLGQsZSxnLGYsbCxuLHApe2Z1bmN0aW9uIHUoYSxiLGMsZCl7aWYoYSl7YyYmKGE9UihhLGMsZCkpO2EucmVxdWlyZT1HLnJlcXVpcmU7aWYoUT09PVxuR3x8Ry4kJGlzb2xhdGVTY29wZSlhPXFjKGEse2lzb2xhdGVTY29wZTohMH0pO2wucHVzaChhKX1pZihiKXtjJiYoYj1SKGIsYyxkKSk7Yi5yZXF1aXJlPUcucmVxdWlyZTtpZihRPT09R3x8Ry4kJGlzb2xhdGVTY29wZSliPXFjKGIse2lzb2xhdGVTY29wZTohMH0pO24ucHVzaChiKX19ZnVuY3Rpb24gRihhLGIsYyl7dmFyIGQsZT1cImRhdGFcIixnPSExO2lmKHcoYSkpe2Zvcig7XCJeXCI9PShkPWEuY2hhckF0KDApKXx8XCI/XCI9PWQ7KWE9YS5zdWJzdHIoMSksXCJeXCI9PWQmJihlPVwiaW5oZXJpdGVkRGF0YVwiKSxnPWd8fFwiP1wiPT1kO2Q9bnVsbDtjJiZcImRhdGFcIj09PWUmJihkPWNbYV0pO2Q9ZHx8YltlXShcIiRcIithK1wiQ29udHJvbGxlclwiKTtpZighZCYmIWcpdGhyb3cgamEoXCJjdHJlcVwiLGEsdCk7fWVsc2UgTShhKSYmKGQ9W10scShhLGZ1bmN0aW9uKGEpe2QucHVzaChGKGEsYixjKSl9KSk7cmV0dXJuIGR9ZnVuY3Rpb24gSihhLGUsZyxmLHApe2Z1bmN0aW9uIHUoYSxiKXt2YXIgYzsyPmFyZ3VtZW50cy5sZW5ndGgmJlxuKGI9YSxhPXMpO0QmJihjPWxiKTtyZXR1cm4gcChhLGIsYyl9dmFyIEkseCx2LEEsUixILGxiPXt9LGRhO0k9Yz09PWc/ZDpVYihkLG5ldyBIYih5KGcpLGQuJGF0dHIpKTt4PUkuJCRlbGVtZW50O2lmKFEpe3ZhciBUPS9eXFxzKihbQD0mXSkoXFw/PylcXHMqKFxcdyopXFxzKiQvO2Y9eShnKTtIPWUuJG5ldyghMCk7aWEmJmlhPT09US4kJG9yaWdpbmFsRGlyZWN0aXZlP2YuZGF0YShcIiRpc29sYXRlU2NvcGVcIixIKTpmLmRhdGEoXCIkaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZVwiLEgpO21hKGYsXCJuZy1pc29sYXRlLXNjb3BlXCIpO3EoUS5zY29wZSxmdW5jdGlvbihhLGMpe3ZhciBkPWEubWF0Y2goVCl8fFtdLGc9ZFszXXx8YyxmPVwiP1wiPT1kWzJdLGQ9ZFsxXSxsLG0sbixwO0guJCRpc29sYXRlQmluZGluZ3NbY109ZCtnO3N3aXRjaChkKXtjYXNlIFwiQFwiOkkuJG9ic2VydmUoZyxmdW5jdGlvbihhKXtIW2NdPWF9KTtJLiQkb2JzZXJ2ZXJzW2ddLiQkc2NvcGU9ZTtJW2ddJiYoSFtjXT1iKElbZ10pKGUpKTtcbmJyZWFrO2Nhc2UgXCI9XCI6aWYoZiYmIUlbZ10pYnJlYWs7bT1yKElbZ10pO3A9bS5saXRlcmFsP3hhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1ifTtuPW0uYXNzaWdufHxmdW5jdGlvbigpe2w9SFtjXT1tKGUpO3Rocm93IGphKFwibm9uYXNzaWduXCIsSVtnXSxRLm5hbWUpO307bD1IW2NdPW0oZSk7SC4kd2F0Y2goZnVuY3Rpb24oKXt2YXIgYT1tKGUpO3AoYSxIW2NdKXx8KHAoYSxsKT9uKGUsYT1IW2NdKTpIW2NdPWEpO3JldHVybiBsPWF9LG51bGwsbS5saXRlcmFsKTticmVhaztjYXNlIFwiJlwiOm09cihJW2ddKTtIW2NdPWZ1bmN0aW9uKGEpe3JldHVybiBtKGUsYSl9O2JyZWFrO2RlZmF1bHQ6dGhyb3cgamEoXCJpc2NwXCIsUS5uYW1lLGMsYSk7fX0pfWRhPXAmJnU7TCYmcShMLGZ1bmN0aW9uKGEpe3ZhciBiPXskc2NvcGU6YT09PVF8fGEuJCRpc29sYXRlU2NvcGU/SDplLCRlbGVtZW50OngsJGF0dHJzOkksJHRyYW5zY2x1ZGU6ZGF9LGM7Uj1hLmNvbnRyb2xsZXI7XCJAXCI9PVImJihSPVxuSVthLm5hbWVdKTtjPXooUixiKTtsYlthLm5hbWVdPWM7RHx8eC5kYXRhKFwiJFwiK2EubmFtZStcIkNvbnRyb2xsZXJcIixjKTthLmNvbnRyb2xsZXJBcyYmKGIuJHNjb3BlW2EuY29udHJvbGxlckFzXT1jKX0pO2Y9MDtmb3Iodj1sLmxlbmd0aDtmPHY7ZisrKXRyeXtBPWxbZl0sQShBLmlzb2xhdGVTY29wZT9IOmUseCxJLEEucmVxdWlyZSYmRihBLnJlcXVpcmUseCxsYiksZGEpfWNhdGNoKEcpe20oRyxoYSh4KSl9Zj1lO1EmJihRLnRlbXBsYXRlfHxudWxsPT09US50ZW1wbGF0ZVVybCkmJihmPUgpO2EmJmEoZixnLmNoaWxkTm9kZXMscyxwKTtmb3IoZj1uLmxlbmd0aC0xOzA8PWY7Zi0tKXRyeXtBPW5bZl0sQShBLmlzb2xhdGVTY29wZT9IOmUseCxJLEEucmVxdWlyZSYmRihBLnJlcXVpcmUseCxsYiksZGEpfWNhdGNoKEIpe20oQixoYSh4KSl9fXA9cHx8e307Zm9yKHZhciB2PS1OdW1iZXIuTUFYX1ZBTFVFLEEsTD1wLmNvbnRyb2xsZXJEaXJlY3RpdmVzLFE9cC5uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsXG5pYT1wLnRlbXBsYXRlRGlyZWN0aXZlLFQ9cC5ub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlLEU9ITEsRD1wLmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlLFo9ZC4kJGVsZW1lbnQ9eShjKSxHLHQsVixYYT1lLE8sTj0wLFM9YS5sZW5ndGg7TjxTO04rKyl7Rz1hW05dO3ZhciByYT1HLiQkc3RhcnQsVz1HLiQkZW5kO3JhJiYoWj1IKGMscmEsVykpO1Y9cztpZih2PkcucHJpb3JpdHkpYnJlYWs7aWYoVj1HLnNjb3BlKUE9QXx8RyxHLnRlbXBsYXRlVXJsfHwoSyhcIm5ldy9pc29sYXRlZCBzY29wZVwiLFEsRyxaKSxYKFYpJiYoUT1HKSk7dD1HLm5hbWU7IUcudGVtcGxhdGVVcmwmJkcuY29udHJvbGxlciYmKFY9Ry5jb250cm9sbGVyLEw9THx8e30sSyhcIidcIit0K1wiJyBjb250cm9sbGVyXCIsTFt0XSxHLFopLExbdF09Ryk7aWYoVj1HLnRyYW5zY2x1ZGUpRT0hMCxHLiQkdGxifHwoSyhcInRyYW5zY2x1c2lvblwiLFQsRyxaKSxUPUcpLFwiZWxlbWVudFwiPT1WPyhEPSEwLHY9Ry5wcmlvcml0eSxcblY9SChjLHJhLFcpLFo9ZC4kJGVsZW1lbnQ9eShVLmNyZWF0ZUNvbW1lbnQoXCIgXCIrdCtcIjogXCIrZFt0XStcIiBcIikpLGM9WlswXSxtYihnLHkoeWEuY2FsbChWLDApKSxjKSxYYT14KFYsZSx2LGYmJmYubmFtZSx7bm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTpUfSkpOihWPXkoRWIoYykpLmNvbnRlbnRzKCksWi5lbXB0eSgpLFhhPXgoVixlKSk7aWYoRy50ZW1wbGF0ZSlpZihLKFwidGVtcGxhdGVcIixpYSxHLFopLGlhPUcsVj1QKEcudGVtcGxhdGUpP0cudGVtcGxhdGUoWixkKTpHLnRlbXBsYXRlLFY9WShWKSxHLnJlcGxhY2Upe2Y9RztWPUNiLnRlc3QoVik/eShWKTpbXTtjPVZbMF07aWYoMSE9Vi5sZW5ndGh8fDEhPT1jLm5vZGVUeXBlKXRocm93IGphKFwidHBscnRcIix0LFwiXCIpO21iKGcsWixjKTtTPXskYXR0cjp7fX07Vj1kYShjLFtdLFMpO3ZhciAkPWEuc3BsaWNlKE4rMSxhLmxlbmd0aC0oTisxKSk7USYmcGMoVik7YT1hLmNvbmNhdChWKS5jb25jYXQoJCk7QihkLFMpO1M9YS5sZW5ndGh9ZWxzZSBaLmh0bWwoVik7XG5pZihHLnRlbXBsYXRlVXJsKUsoXCJ0ZW1wbGF0ZVwiLGlhLEcsWiksaWE9RyxHLnJlcGxhY2UmJihmPUcpLEo9QyhhLnNwbGljZShOLGEubGVuZ3RoLU4pLFosZCxnLFhhLGwsbix7Y29udHJvbGxlckRpcmVjdGl2ZXM6TCxuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6USx0ZW1wbGF0ZURpcmVjdGl2ZTppYSxub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOlR9KSxTPWEubGVuZ3RoO2Vsc2UgaWYoRy5jb21waWxlKXRyeXtPPUcuY29tcGlsZShaLGQsWGEpLFAoTyk/dShudWxsLE8scmEsVyk6TyYmdShPLnByZSxPLnBvc3QscmEsVyl9Y2F0Y2goYWEpe20oYWEsaGEoWikpfUcudGVybWluYWwmJihKLnRlcm1pbmFsPSEwLHY9TWF0aC5tYXgodixHLnByaW9yaXR5KSl9Si5zY29wZT1BJiYhMD09PUEuc2NvcGU7Si50cmFuc2NsdWRlPUUmJlhhO3AuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU9RDtyZXR1cm4gSn1mdW5jdGlvbiBwYyhhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoO2I8YztiKyspYVtiXT1cblRiKGFbYl0seyQkaXNvbGF0ZVNjb3BlOiEwfSl9ZnVuY3Rpb24gVChiLGUsZyxmLGssbixyKXtpZihlPT09aylyZXR1cm4gbnVsbDtrPW51bGw7aWYoYy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHA7ZT1hLmdldChlK2QpO2Zvcih2YXIgej0wLHU9ZS5sZW5ndGg7ejx1O3orKyl0cnl7cD1lW3pdLChmPT09c3x8Zj5wLnByaW9yaXR5KSYmLTEhPXAucmVzdHJpY3QuaW5kZXhPZihnKSYmKG4mJihwPVRiKHAseyQkc3RhcnQ6biwkJGVuZDpyfSkpLGIucHVzaChwKSxrPXApfWNhdGNoKEYpe20oRil9fXJldHVybiBrfWZ1bmN0aW9uIEIoYSxiKXt2YXIgYz1iLiRhdHRyLGQ9YS4kYXR0cixlPWEuJCRlbGVtZW50O3EoYSxmdW5jdGlvbihkLGUpe1wiJFwiIT1lLmNoYXJBdCgwKSYmKGJbZV0mJihkKz0oXCJzdHlsZVwiPT09ZT9cIjtcIjpcIiBcIikrYltlXSksYS4kc2V0KGUsZCwhMCxjW2VdKSl9KTtxKGIsZnVuY3Rpb24oYixnKXtcImNsYXNzXCI9PWc/KG1hKGUsYiksYVtcImNsYXNzXCJdPShhW1wiY2xhc3NcIl0/XG5hW1wiY2xhc3NcIl0rXCIgXCI6XCJcIikrYik6XCJzdHlsZVwiPT1nPyhlLmF0dHIoXCJzdHlsZVwiLGUuYXR0cihcInN0eWxlXCIpK1wiO1wiK2IpLGEuc3R5bGU9KGEuc3R5bGU/YS5zdHlsZStcIjtcIjpcIlwiKStiKTpcIiRcIj09Zy5jaGFyQXQoMCl8fGEuaGFzT3duUHJvcGVydHkoZyl8fChhW2ddPWIsZFtnXT1jW2ddKX0pfWZ1bmN0aW9uIEMoYSxiLGMsZCxlLGcsZixsKXt2YXIgaz1bXSxtLHIsej1iWzBdLHU9YS5zaGlmdCgpLEY9RCh7fSx1LHt0ZW1wbGF0ZVVybDpudWxsLHRyYW5zY2x1ZGU6bnVsbCxyZXBsYWNlOm51bGwsJCRvcmlnaW5hbERpcmVjdGl2ZTp1fSkseD1QKHUudGVtcGxhdGVVcmwpP3UudGVtcGxhdGVVcmwoYixjKTp1LnRlbXBsYXRlVXJsO2IuZW1wdHkoKTtuLmdldCh2LmdldFRydXN0ZWRSZXNvdXJjZVVybCh4KSx7Y2FjaGU6cH0pLnN1Y2Nlc3MoZnVuY3Rpb24obil7dmFyIHAsSjtuPVkobik7aWYodS5yZXBsYWNlKXtuPUNiLnRlc3Qobik/eShuKTpbXTtwPW5bMF07aWYoMSE9bi5sZW5ndGh8fFxuMSE9PXAubm9kZVR5cGUpdGhyb3cgamEoXCJ0cGxydFwiLHUubmFtZSx4KTtuPXskYXR0cjp7fX07bWIoZCxiLHApO3ZhciB2PWRhKHAsW10sbik7WCh1LnNjb3BlKSYmcGModik7YT12LmNvbmNhdChhKTtCKGMsbil9ZWxzZSBwPXosYi5odG1sKG4pO2EudW5zaGlmdChGKTttPWlhKGEscCxjLGUsYix1LGcsZixsKTtxKGQsZnVuY3Rpb24oYSxjKXthPT1wJiYoZFtjXT1iWzBdKX0pO2ZvcihyPUwoYlswXS5jaGlsZE5vZGVzLGUpO2subGVuZ3RoOyl7bj1rLnNoaWZ0KCk7Sj1rLnNoaWZ0KCk7dmFyIEE9ay5zaGlmdCgpLFI9ay5zaGlmdCgpLHY9YlswXTtpZihKIT09eil7dmFyIEg9Si5jbGFzc05hbWU7bC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSYmdS5yZXBsYWNlfHwodj1FYihwKSk7bWIoQSx5KEopLHYpO21hKHkodiksSCl9Sj1tLnRyYW5zY2x1ZGU/UShuLG0udHJhbnNjbHVkZSk6UjttKHIsbix2LGQsSil9az1udWxsfSkuZXJyb3IoZnVuY3Rpb24oYSxiLGMsZCl7dGhyb3cgamEoXCJ0cGxvYWRcIixcbmQudXJsKTt9KTtyZXR1cm4gZnVuY3Rpb24oYSxiLGMsZCxlKXtrPyhrLnB1c2goYiksay5wdXNoKGMpLGsucHVzaChkKSxrLnB1c2goZSkpOm0ocixiLGMsZCxlKX19ZnVuY3Rpb24gRShhLGIpe3ZhciBjPWIucHJpb3JpdHktYS5wcmlvcml0eTtyZXR1cm4gMCE9PWM/YzphLm5hbWUhPT1iLm5hbWU/YS5uYW1lPGIubmFtZT8tMToxOmEuaW5kZXgtYi5pbmRleH1mdW5jdGlvbiBLKGEsYixjLGQpe2lmKGIpdGhyb3cgamEoXCJtdWx0aWRpclwiLGIubmFtZSxjLm5hbWUsYSxoYShkKSk7fWZ1bmN0aW9uIHQoYSxjKXt2YXIgZD1iKGMsITApO2QmJmEucHVzaCh7cHJpb3JpdHk6MCxjb21waWxlOmFhKGZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5wYXJlbnQoKSxlPWMuZGF0YShcIiRiaW5kaW5nXCIpfHxbXTtlLnB1c2goZCk7bWEoYy5kYXRhKFwiJGJpbmRpbmdcIixlKSxcIm5nLWJpbmRpbmdcIik7YS4kd2F0Y2goZCxmdW5jdGlvbihhKXtiWzBdLm5vZGVWYWx1ZT1hfSl9KX0pfWZ1bmN0aW9uIE8oYSxiKXtpZihcInNyY2RvY1wiPT1cbmIpcmV0dXJuIHYuSFRNTDt2YXIgYz1LYShhKTtpZihcInhsaW5rSHJlZlwiPT1ifHxcIkZPUk1cIj09YyYmXCJhY3Rpb25cIj09Ynx8XCJJTUdcIiE9YyYmKFwic3JjXCI9PWJ8fFwibmdTcmNcIj09YikpcmV0dXJuIHYuUkVTT1VSQ0VfVVJMfWZ1bmN0aW9uIE4oYSxjLGQsZSl7dmFyIGc9YihkLCEwKTtpZihnKXtpZihcIm11bHRpcGxlXCI9PT1lJiZcIlNFTEVDVFwiPT09S2EoYSkpdGhyb3cgamEoXCJzZWxtdWx0aVwiLGhhKGEpKTtjLnB1c2goe3ByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihjLGQsbCl7ZD1sLiQkb2JzZXJ2ZXJzfHwobC4kJG9ic2VydmVycz17fSk7aWYoZi50ZXN0KGUpKXRocm93IGphKFwibm9kb21ldmVudHNcIik7aWYoZz1iKGxbZV0sITAsTyhhLGUpKSlsW2VdPWcoYyksKGRbZV18fChkW2VdPVtdKSkuJCRpbnRlcj0hMCwobC4kJG9ic2VydmVycyYmbC4kJG9ic2VydmVyc1tlXS4kJHNjb3BlfHxjKS4kd2F0Y2goZyxmdW5jdGlvbihhLGIpe1wiY2xhc3NcIj09PVxuZSYmYSE9Yj9sLiR1cGRhdGVDbGFzcyhhLGIpOmwuJHNldChlLGEpfSl9fX19KX19ZnVuY3Rpb24gbWIoYSxiLGMpe3ZhciBkPWJbMF0sZT1iLmxlbmd0aCxnPWQucGFyZW50Tm9kZSxmLGw7aWYoYSlmb3IoZj0wLGw9YS5sZW5ndGg7ZjxsO2YrKylpZihhW2ZdPT1kKXthW2YrK109YztsPWYrZS0xO2Zvcih2YXIgaz1hLmxlbmd0aDtmPGs7ZisrLGwrKylsPGs/YVtmXT1hW2xdOmRlbGV0ZSBhW2ZdO2EubGVuZ3RoLT1lLTE7YnJlYWt9ZyYmZy5yZXBsYWNlQ2hpbGQoYyxkKTthPVUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2EuYXBwZW5kQ2hpbGQoZCk7Y1t5LmV4cGFuZG9dPWRbeS5leHBhbmRvXTtkPTE7Zm9yKGU9Yi5sZW5ndGg7ZDxlO2QrKylnPWJbZF0seShnKS5yZW1vdmUoKSxhLmFwcGVuZENoaWxkKGcpLGRlbGV0ZSBiW2RdO2JbMF09YztiLmxlbmd0aD0xfWZ1bmN0aW9uIHFjKGEsYil7cmV0dXJuIEQoZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFxuYSxiKX12YXIgSGI9ZnVuY3Rpb24oYSxiKXt0aGlzLiQkZWxlbWVudD1hO3RoaXMuJGF0dHI9Ynx8e319O0hiLnByb3RvdHlwZT17JG5vcm1hbGl6ZTpuYSwkYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7YSYmMDxhLmxlbmd0aCYmSi5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCxhKX0sJHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe2EmJjA8YS5sZW5ndGgmJkoucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsYSl9LCR1cGRhdGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPXJjKGEsYiksZD1yYyhiLGEpOzA9PT1jLmxlbmd0aD9KLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LGQpOjA9PT1kLmxlbmd0aD9KLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LGMpOkouc2V0Q2xhc3ModGhpcy4kJGVsZW1lbnQsYyxkKX0sJHNldDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1tYyh0aGlzLiQkZWxlbWVudFswXSxhKTtlJiYodGhpcy4kJGVsZW1lbnQucHJvcChhLGIpLGQ9ZSk7dGhpc1thXT1iO2Q/dGhpcy4kYXR0clthXT1cbmQ6KGQ9dGhpcy4kYXR0clthXSl8fCh0aGlzLiRhdHRyW2FdPWQ9ZmIoYSxcIi1cIikpO2U9S2EodGhpcy4kJGVsZW1lbnQpO2lmKFwiQVwiPT09ZSYmXCJocmVmXCI9PT1hfHxcIklNR1wiPT09ZSYmXCJzcmNcIj09PWEpdGhpc1thXT1iPUEoYixcInNyY1wiPT09YSk7ITEhPT1jJiYobnVsbD09PWJ8fGI9PT1zP3RoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoZCk6dGhpcy4kJGVsZW1lbnQuYXR0cihkLGIpKTsoYz10aGlzLiQkb2JzZXJ2ZXJzKSYmcShjW2FdLGZ1bmN0aW9uKGEpe3RyeXthKGIpfWNhdGNoKGMpe20oYyl9fSl9LCRvYnNlcnZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuJCRvYnNlcnZlcnN8fChjLiQkb2JzZXJ2ZXJzPXt9KSxlPWRbYV18fChkW2FdPVtdKTtlLnB1c2goYik7dS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7ZS4kJGludGVyfHxiKGNbYV0pfSk7cmV0dXJuIGJ9fTt2YXIgWj1iLnN0YXJ0U3ltYm9sKCkscmE9Yi5lbmRTeW1ib2woKSxZPVwie3tcIj09Wnx8XCJ9fVwiPT1yYT9cbkRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1xce1xcey9nLFopLnJlcGxhY2UoL319L2cscmEpfSxXPS9ebmdBdHRyW0EtWl0vO3JldHVybiB4fV19ZnVuY3Rpb24gbmEoYil7cmV0dXJuIFRhKGIucmVwbGFjZSh0ZSxcIlwiKSl9ZnVuY3Rpb24gcmMoYixhKXt2YXIgYz1cIlwiLGQ9Yi5zcGxpdCgvXFxzKy8pLGU9YS5zcGxpdCgvXFxzKy8pLGc9MDthOmZvcig7ZzxkLmxlbmd0aDtnKyspe2Zvcih2YXIgZj1kW2ddLGg9MDtoPGUubGVuZ3RoO2grKylpZihmPT1lW2hdKWNvbnRpbnVlIGE7Yys9KDA8Yy5sZW5ndGg/XCIgXCI6XCJcIikrZn1yZXR1cm4gY31mdW5jdGlvbiBPZCgpe3ZhciBiPXt9LGE9L14oXFxTKykoXFxzK2FzXFxzKyhcXHcrKSk/JC87dGhpcy5yZWdpc3Rlcj1mdW5jdGlvbihhLGQpe0FhKGEsXCJjb250cm9sbGVyXCIpO1goYSk/RChiLGEpOmJbYV09ZH07dGhpcy4kZ2V0PVtcIiRpbmplY3RvclwiLFwiJHdpbmRvd1wiLGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGZ1bmN0aW9uKGUsZyl7dmFyIGYsXG5oLGw7dyhlKSYmKGY9ZS5tYXRjaChhKSxoPWZbMV0sbD1mWzNdLGU9Yi5oYXNPd25Qcm9wZXJ0eShoKT9iW2hdOmJjKGcuJHNjb3BlLGgsITApfHxiYyhkLGgsITApLFJhKGUsaCwhMCkpO2Y9Yy5pbnN0YW50aWF0ZShlLGcpO2lmKGwpe2lmKCFnfHxcIm9iamVjdFwiIT10eXBlb2YgZy4kc2NvcGUpdGhyb3cgdChcIiRjb250cm9sbGVyXCIpKFwibm9zY3BcIixofHxlLm5hbWUsbCk7Zy4kc2NvcGVbbF09Zn1yZXR1cm4gZn19XX1mdW5jdGlvbiBQZCgpe3RoaXMuJGdldD1bXCIkd2luZG93XCIsZnVuY3Rpb24oYil7cmV0dXJuIHkoYi5kb2N1bWVudCl9XX1mdW5jdGlvbiBRZCgpe3RoaXMuJGdldD1bXCIkbG9nXCIsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7Yi5lcnJvci5hcHBseShiLGFyZ3VtZW50cyl9fV19ZnVuY3Rpb24gc2MoYil7dmFyIGE9e30sYyxkLGU7aWYoIWIpcmV0dXJuIGE7cShiLnNwbGl0KFwiXFxuXCIpLGZ1bmN0aW9uKGIpe2U9Yi5pbmRleE9mKFwiOlwiKTtjPUsoY2EoYi5zdWJzdHIoMCxcbmUpKSk7ZD1jYShiLnN1YnN0cihlKzEpKTtjJiYoYVtjXT1hW2NdP2FbY10rKFwiLCBcIitkKTpkKX0pO3JldHVybiBhfWZ1bmN0aW9uIHRjKGIpe3ZhciBhPVgoYik/YjpzO3JldHVybiBmdW5jdGlvbihjKXthfHwoYT1zYyhiKSk7cmV0dXJuIGM/YVtLKGMpXXx8bnVsbDphfX1mdW5jdGlvbiB1YyhiLGEsYyl7aWYoUChjKSlyZXR1cm4gYyhiLGEpO3EoYyxmdW5jdGlvbihjKXtiPWMoYixhKX0pO3JldHVybiBifWZ1bmN0aW9uIFRkKCl7dmFyIGI9L15cXHMqKFxcW3xcXHtbXlxce10pLyxhPS9bXFx9XFxdXVxccyokLyxjPS9eXFwpXFxdXFx9Jyw/XFxuLyxkPXtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04XCJ9LGU9dGhpcy5kZWZhdWx0cz17dHJhbnNmb3JtUmVzcG9uc2U6W2Z1bmN0aW9uKGQpe3coZCkmJihkPWQucmVwbGFjZShjLFwiXCIpLGIudGVzdChkKSYmYS50ZXN0KGQpJiYoZD1XYihkKSkpO3JldHVybiBkfV0sdHJhbnNmb3JtUmVxdWVzdDpbZnVuY3Rpb24oYSl7cmV0dXJuIFgoYSkmJlxuXCJbb2JqZWN0IEZpbGVdXCIhPT13YS5jYWxsKGEpJiZcIltvYmplY3QgQmxvYl1cIiE9PXdhLmNhbGwoYSk/cWEoYSk6YX1dLGhlYWRlcnM6e2NvbW1vbjp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qXCJ9LHBvc3Q6YmEoZCkscHV0OmJhKGQpLHBhdGNoOmJhKGQpfSx4c3JmQ29va2llTmFtZTpcIlhTUkYtVE9LRU5cIix4c3JmSGVhZGVyTmFtZTpcIlgtWFNSRi1UT0tFTlwifSxnPXRoaXMuaW50ZXJjZXB0b3JzPVtdLGY9dGhpcy5yZXNwb25zZUludGVyY2VwdG9ycz1bXTt0aGlzLiRnZXQ9W1wiJGh0dHBCYWNrZW5kXCIsXCIkYnJvd3NlclwiLFwiJGNhY2hlRmFjdG9yeVwiLFwiJHJvb3RTY29wZVwiLFwiJHFcIixcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGEsYixjLGQsbixwKXtmdW5jdGlvbiByKGEpe2Z1bmN0aW9uIGMoYSl7dmFyIGI9RCh7fSxhLHtkYXRhOnVjKGEuZGF0YSxhLmhlYWRlcnMsZC50cmFuc2Zvcm1SZXNwb25zZSl9KTtyZXR1cm4gMjAwPD1hLnN0YXR1cyYmMzAwPmEuc3RhdHVzP1xuYjpuLnJlamVjdChiKX12YXIgZD17bWV0aG9kOlwiZ2V0XCIsdHJhbnNmb3JtUmVxdWVzdDplLnRyYW5zZm9ybVJlcXVlc3QsdHJhbnNmb3JtUmVzcG9uc2U6ZS50cmFuc2Zvcm1SZXNwb25zZX0sZz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBjO3EoYSxmdW5jdGlvbihiLGQpe1AoYikmJihjPWIoKSxudWxsIT1jP2FbZF09YzpkZWxldGUgYVtkXSl9KX12YXIgYz1lLmhlYWRlcnMsZD1EKHt9LGEuaGVhZGVycyksZyxmLGM9RCh7fSxjLmNvbW1vbixjW0soYS5tZXRob2QpXSk7YihjKTtiKGQpO2E6Zm9yKGcgaW4gYyl7YT1LKGcpO2ZvcihmIGluIGQpaWYoSyhmKT09PWEpY29udGludWUgYTtkW2ddPWNbZ119cmV0dXJuIGR9KGEpO0QoZCxhKTtkLmhlYWRlcnM9ZztkLm1ldGhvZD1GYShkLm1ldGhvZCk7KGE9SWIoZC51cmwpP2IuY29va2llcygpW2QueHNyZkNvb2tpZU5hbWV8fGUueHNyZkNvb2tpZU5hbWVdOnMpJiYoZ1tkLnhzcmZIZWFkZXJOYW1lfHxlLnhzcmZIZWFkZXJOYW1lXT1cbmEpO3ZhciBmPVtmdW5jdGlvbihhKXtnPWEuaGVhZGVyczt2YXIgYj11YyhhLmRhdGEsdGMoZyksYS50cmFuc2Zvcm1SZXF1ZXN0KTtFKGEuZGF0YSkmJnEoZyxmdW5jdGlvbihhLGIpe1wiY29udGVudC10eXBlXCI9PT1LKGIpJiZkZWxldGUgZ1tiXX0pO0UoYS53aXRoQ3JlZGVudGlhbHMpJiYhRShlLndpdGhDcmVkZW50aWFscykmJihhLndpdGhDcmVkZW50aWFscz1lLndpdGhDcmVkZW50aWFscyk7cmV0dXJuIHooYSxiLGcpLnRoZW4oYyxjKX0sc10saD1uLndoZW4oZCk7Zm9yKHEodixmdW5jdGlvbihhKXsoYS5yZXF1ZXN0fHxhLnJlcXVlc3RFcnJvcikmJmYudW5zaGlmdChhLnJlcXVlc3QsYS5yZXF1ZXN0RXJyb3IpOyhhLnJlc3BvbnNlfHxhLnJlc3BvbnNlRXJyb3IpJiZmLnB1c2goYS5yZXNwb25zZSxhLnJlc3BvbnNlRXJyb3IpfSk7Zi5sZW5ndGg7KXthPWYuc2hpZnQoKTt2YXIgaz1mLnNoaWZ0KCksaD1oLnRoZW4oYSxrKX1oLnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7aC50aGVuKGZ1bmN0aW9uKGIpe2EoYi5kYXRhLFxuYi5zdGF0dXMsYi5oZWFkZXJzLGQpfSk7cmV0dXJuIGh9O2guZXJyb3I9ZnVuY3Rpb24oYSl7aC50aGVuKG51bGwsZnVuY3Rpb24oYil7YShiLmRhdGEsYi5zdGF0dXMsYi5oZWFkZXJzLGQpfSk7cmV0dXJuIGh9O3JldHVybiBofWZ1bmN0aW9uIHooYixjLGcpe2Z1bmN0aW9uIGYoYSxiLGMsZSl7diYmKDIwMDw9YSYmMzAwPmE/di5wdXQocyxbYSxiLHNjKGMpLGVdKTp2LnJlbW92ZShzKSk7bChiLGEsYyxlKTtkLiQkcGhhc2V8fGQuJGFwcGx5KCl9ZnVuY3Rpb24gbChhLGMsZCxlKXtjPU1hdGgubWF4KGMsMCk7KDIwMDw9YyYmMzAwPmM/cC5yZXNvbHZlOnAucmVqZWN0KSh7ZGF0YTphLHN0YXR1czpjLGhlYWRlcnM6dGMoZCksY29uZmlnOmIsc3RhdHVzVGV4dDplfSl9ZnVuY3Rpb24gaygpe3ZhciBhPWRiKHIucGVuZGluZ1JlcXVlc3RzLGIpOy0xIT09YSYmci5wZW5kaW5nUmVxdWVzdHMuc3BsaWNlKGEsMSl9dmFyIHA9bi5kZWZlcigpLHo9cC5wcm9taXNlLHYscSxzPXUoYi51cmwsXG5iLnBhcmFtcyk7ci5wZW5kaW5nUmVxdWVzdHMucHVzaChiKTt6LnRoZW4oayxrKTsoYi5jYWNoZXx8ZS5jYWNoZSkmJighMSE9PWIuY2FjaGUmJlwiR0VUXCI9PWIubWV0aG9kKSYmKHY9WChiLmNhY2hlKT9iLmNhY2hlOlgoZS5jYWNoZSk/ZS5jYWNoZTpGKTtpZih2KWlmKHE9di5nZXQocyksQihxKSl7aWYocS50aGVuKXJldHVybiBxLnRoZW4oayxrKSxxO00ocSk/bChxWzFdLHFbMF0sYmEocVsyXSkscVszXSk6bChxLDIwMCx7fSxcIk9LXCIpfWVsc2Ugdi5wdXQocyx6KTtFKHEpJiZhKGIubWV0aG9kLHMsYyxmLGcsYi50aW1lb3V0LGIud2l0aENyZWRlbnRpYWxzLGIucmVzcG9uc2VUeXBlKTtyZXR1cm4gen1mdW5jdGlvbiB1KGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9W107U2MoYixmdW5jdGlvbihhLGIpe251bGw9PT1hfHxFKGEpfHwoTShhKXx8KGE9W2FdKSxxKGEsZnVuY3Rpb24oYSl7WChhKSYmKGE9cWEoYSkpO2MucHVzaCh6YShiKStcIj1cIit6YShhKSl9KSl9KTswPGMubGVuZ3RoJiZcbihhKz0oLTE9PWEuaW5kZXhPZihcIj9cIik/XCI/XCI6XCImXCIpK2Muam9pbihcIiZcIikpO3JldHVybiBhfXZhciBGPWMoXCIkaHR0cFwiKSx2PVtdO3EoZyxmdW5jdGlvbihhKXt2LnVuc2hpZnQodyhhKT9wLmdldChhKTpwLmludm9rZShhKSl9KTtxKGYsZnVuY3Rpb24oYSxiKXt2YXIgYz13KGEpP3AuZ2V0KGEpOnAuaW52b2tlKGEpO3Yuc3BsaWNlKGIsMCx7cmVzcG9uc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGMobi53aGVuKGEpKX0scmVzcG9uc2VFcnJvcjpmdW5jdGlvbihhKXtyZXR1cm4gYyhuLnJlamVjdChhKSl9fSl9KTtyLnBlbmRpbmdSZXF1ZXN0cz1bXTsoZnVuY3Rpb24oYSl7cShhcmd1bWVudHMsZnVuY3Rpb24oYSl7clthXT1mdW5jdGlvbihiLGMpe3JldHVybiByKEQoY3x8e30se21ldGhvZDphLHVybDpifSkpfX0pfSkoXCJnZXRcIixcImRlbGV0ZVwiLFwiaGVhZFwiLFwianNvbnBcIik7KGZ1bmN0aW9uKGEpe3EoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3JbYV09ZnVuY3Rpb24oYixjLGQpe3JldHVybiByKEQoZHx8XG57fSx7bWV0aG9kOmEsdXJsOmIsZGF0YTpjfSkpfX0pfSkoXCJwb3N0XCIsXCJwdXRcIik7ci5kZWZhdWx0cz1lO3JldHVybiByfV19ZnVuY3Rpb24gdWUoYil7aWYoOD49UyYmKCFiLm1hdGNoKC9eKGdldHxwb3N0fGhlYWR8cHV0fGRlbGV0ZXxvcHRpb25zKSQvaSl8fCFPLlhNTEh0dHBSZXF1ZXN0KSlyZXR1cm4gbmV3IE8uQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpO2lmKE8uWE1MSHR0cFJlcXVlc3QpcmV0dXJuIG5ldyBPLlhNTEh0dHBSZXF1ZXN0O3Rocm93IHQoXCIkaHR0cEJhY2tlbmRcIikoXCJub3hoclwiKTt9ZnVuY3Rpb24gVWQoKXt0aGlzLiRnZXQ9W1wiJGJyb3dzZXJcIixcIiR3aW5kb3dcIixcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKGIsYSxjKXtyZXR1cm4gdmUoYix1ZSxiLmRlZmVyLGEuYW5ndWxhci5jYWxsYmFja3MsY1swXSl9XX1mdW5jdGlvbiB2ZShiLGEsYyxkLGUpe2Z1bmN0aW9uIGcoYSxiKXt2YXIgYz1lLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksZD1mdW5jdGlvbigpe2Mub25yZWFkeXN0YXRlY2hhbmdlPVxuYy5vbmxvYWQ9Yy5vbmVycm9yPW51bGw7ZS5ib2R5LnJlbW92ZUNoaWxkKGMpO2ImJmIoKX07Yy50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI7Yy5zcmM9YTtTJiY4Pj1TP2Mub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7L2xvYWRlZHxjb21wbGV0ZS8udGVzdChjLnJlYWR5U3RhdGUpJiZkKCl9OmMub25sb2FkPWMub25lcnJvcj1mdW5jdGlvbigpe2QoKX07ZS5ib2R5LmFwcGVuZENoaWxkKGMpO3JldHVybiBkfXZhciBmPS0xO3JldHVybiBmdW5jdGlvbihlLGwsayxtLG4scCxyLHope2Z1bmN0aW9uIHUoKXt2PWY7QSYmQSgpO3gmJnguYWJvcnQoKX1mdW5jdGlvbiBGKGEsZCxlLGcsZil7TCYmYy5jYW5jZWwoTCk7QT14PW51bGw7MD09PWQmJihkPWU/MjAwOlwiZmlsZVwiPT1zYShsKS5wcm90b2NvbD80MDQ6MCk7YSgxMjIzPT09ZD8yMDQ6ZCxlLGcsZnx8XCJcIik7Yi4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KEMpfXZhciB2O2IuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCgpO1xubD1sfHxiLnVybCgpO2lmKFwianNvbnBcIj09SyhlKSl7dmFyIEo9XCJfXCIrKGQuY291bnRlcisrKS50b1N0cmluZygzNik7ZFtKXT1mdW5jdGlvbihhKXtkW0pdLmRhdGE9YX07dmFyIEE9ZyhsLnJlcGxhY2UoXCJKU09OX0NBTExCQUNLXCIsXCJhbmd1bGFyLmNhbGxiYWNrcy5cIitKKSxmdW5jdGlvbigpe2RbSl0uZGF0YT9GKG0sMjAwLGRbSl0uZGF0YSk6RihtLHZ8fC0yKTtkW0pdPUVhLm5vb3B9KX1lbHNle3ZhciB4PWEoZSk7eC5vcGVuKGUsbCwhMCk7cShuLGZ1bmN0aW9uKGEsYil7QihhKSYmeC5zZXRSZXF1ZXN0SGVhZGVyKGIsYSl9KTt4Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKHgmJjQ9PXgucmVhZHlTdGF0ZSl7dmFyIGE9bnVsbCxiPW51bGw7diE9PWYmJihhPXguZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksYj1cInJlc3BvbnNlXCJpbiB4P3gucmVzcG9uc2U6eC5yZXNwb25zZVRleHQpO0YobSx2fHx4LnN0YXR1cyxiLGEseC5zdGF0dXNUZXh0fHxcIlwiKX19O3ImJih4LndpdGhDcmVkZW50aWFscz1cbiEwKTtpZih6KXRyeXt4LnJlc3BvbnNlVHlwZT16fWNhdGNoKHMpe2lmKFwianNvblwiIT09eil0aHJvdyBzO314LnNlbmQoa3x8bnVsbCl9aWYoMDxwKXZhciBMPWModSxwKTtlbHNlIHAmJnAudGhlbiYmcC50aGVuKHUpfX1mdW5jdGlvbiBSZCgpe3ZhciBiPVwie3tcIixhPVwifX1cIjt0aGlzLnN0YXJ0U3ltYm9sPWZ1bmN0aW9uKGEpe3JldHVybiBhPyhiPWEsdGhpcyk6Yn07dGhpcy5lbmRTeW1ib2w9ZnVuY3Rpb24oYil7cmV0dXJuIGI/KGE9Yix0aGlzKTphfTt0aGlzLiRnZXQ9W1wiJHBhcnNlXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLFwiJHNjZVwiLGZ1bmN0aW9uKGMsZCxlKXtmdW5jdGlvbiBnKGcsayxtKXtmb3IodmFyIG4scCxyPTAsej1bXSx1PWcubGVuZ3RoLEY9ITEsdj1bXTtyPHU7KS0xIT0obj1nLmluZGV4T2YoYixyKSkmJi0xIT0ocD1nLmluZGV4T2YoYSxuK2YpKT8ociE9biYmei5wdXNoKGcuc3Vic3RyaW5nKHIsbikpLHoucHVzaChyPWMoRj1nLnN1YnN0cmluZyhuK2YscCkpKSxcbnIuZXhwPUYscj1wK2gsRj0hMCk6KHIhPXUmJnoucHVzaChnLnN1YnN0cmluZyhyKSkscj11KTsodT16Lmxlbmd0aCl8fCh6LnB1c2goXCJcIiksdT0xKTtpZihtJiYxPHoubGVuZ3RoKXRocm93IHZjKFwibm9jb25jYXRcIixnKTtpZigha3x8RilyZXR1cm4gdi5sZW5ndGg9dSxyPWZ1bmN0aW9uKGEpe3RyeXtmb3IodmFyIGI9MCxjPXUsZjtiPGM7YisrKVwiZnVuY3Rpb25cIj09dHlwZW9mKGY9eltiXSkmJihmPWYoYSksZj1tP2UuZ2V0VHJ1c3RlZChtLGYpOmUudmFsdWVPZihmKSxudWxsPT09Znx8RShmKT9mPVwiXCI6XCJzdHJpbmdcIiE9dHlwZW9mIGYmJihmPXFhKGYpKSksdltiXT1mO3JldHVybiB2LmpvaW4oXCJcIil9Y2F0Y2goaCl7YT12YyhcImludGVyclwiLGcsaC50b1N0cmluZygpKSxkKGEpfX0sci5leHA9ZyxyLnBhcnRzPXoscn12YXIgZj1iLmxlbmd0aCxoPWEubGVuZ3RoO2cuc3RhcnRTeW1ib2w9ZnVuY3Rpb24oKXtyZXR1cm4gYn07Zy5lbmRTeW1ib2w9ZnVuY3Rpb24oKXtyZXR1cm4gYX07XG5yZXR1cm4gZ31dfWZ1bmN0aW9uIFNkKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiR3aW5kb3dcIixcIiRxXCIsZnVuY3Rpb24oYixhLGMpe2Z1bmN0aW9uIGQoZCxmLGgsbCl7dmFyIGs9YS5zZXRJbnRlcnZhbCxtPWEuY2xlYXJJbnRlcnZhbCxuPWMuZGVmZXIoKSxwPW4ucHJvbWlzZSxyPTAsej1CKGwpJiYhbDtoPUIoaCk/aDowO3AudGhlbihudWxsLG51bGwsZCk7cC4kJGludGVydmFsSWQ9ayhmdW5jdGlvbigpe24ubm90aWZ5KHIrKyk7MDxoJiZyPj1oJiYobi5yZXNvbHZlKHIpLG0ocC4kJGludGVydmFsSWQpLGRlbGV0ZSBlW3AuJCRpbnRlcnZhbElkXSk7enx8Yi4kYXBwbHkoKX0sZik7ZVtwLiQkaW50ZXJ2YWxJZF09bjtyZXR1cm4gcH12YXIgZT17fTtkLmNhbmNlbD1mdW5jdGlvbihhKXtyZXR1cm4gYSYmYS4kJGludGVydmFsSWQgaW4gZT8oZVthLiQkaW50ZXJ2YWxJZF0ucmVqZWN0KFwiY2FuY2VsZWRcIiksY2xlYXJJbnRlcnZhbChhLiQkaW50ZXJ2YWxJZCksZGVsZXRlIGVbYS4kJGludGVydmFsSWRdLFxuITApOiExfTtyZXR1cm4gZH1dfWZ1bmN0aW9uIGFkKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJue2lkOlwiZW4tdXNcIixOVU1CRVJfRk9STUFUUzp7REVDSU1BTF9TRVA6XCIuXCIsR1JPVVBfU0VQOlwiLFwiLFBBVFRFUk5TOlt7bWluSW50OjEsbWluRnJhYzowLG1heEZyYWM6Myxwb3NQcmU6XCJcIixwb3NTdWY6XCJcIixuZWdQcmU6XCItXCIsbmVnU3VmOlwiXCIsZ1NpemU6MyxsZ1NpemU6M30se21pbkludDoxLG1pbkZyYWM6MixtYXhGcmFjOjIscG9zUHJlOlwiXFx1MDBhNFwiLHBvc1N1ZjpcIlwiLG5lZ1ByZTpcIihcXHUwMGE0XCIsbmVnU3VmOlwiKVwiLGdTaXplOjMsbGdTaXplOjN9XSxDVVJSRU5DWV9TWU06XCIkXCJ9LERBVEVUSU1FX0ZPUk1BVFM6e01PTlRIOlwiSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlclwiLnNwbGl0KFwiIFwiKSxTSE9SVE1PTlRIOlwiSmFuIEZlYiBNYXIgQXByIE1heSBKdW4gSnVsIEF1ZyBTZXAgT2N0IE5vdiBEZWNcIi5zcGxpdChcIiBcIiksXG5EQVk6XCJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheVwiLnNwbGl0KFwiIFwiKSxTSE9SVERBWTpcIlN1biBNb24gVHVlIFdlZCBUaHUgRnJpIFNhdFwiLnNwbGl0KFwiIFwiKSxBTVBNUzpbXCJBTVwiLFwiUE1cIl0sbWVkaXVtOlwiTU1NIGQsIHkgaDptbTpzcyBhXCIsXCJzaG9ydFwiOlwiTS9kL3l5IGg6bW0gYVwiLGZ1bGxEYXRlOlwiRUVFRSwgTU1NTSBkLCB5XCIsbG9uZ0RhdGU6XCJNTU1NIGQsIHlcIixtZWRpdW1EYXRlOlwiTU1NIGQsIHlcIixzaG9ydERhdGU6XCJNL2QveXlcIixtZWRpdW1UaW1lOlwiaDptbTpzcyBhXCIsc2hvcnRUaW1lOlwiaDptbSBhXCJ9LHBsdXJhbENhdDpmdW5jdGlvbihiKXtyZXR1cm4gMT09PWI/XCJvbmVcIjpcIm90aGVyXCJ9fX19ZnVuY3Rpb24gd2MoYil7Yj1iLnNwbGl0KFwiL1wiKTtmb3IodmFyIGE9Yi5sZW5ndGg7YS0tOyliW2FdPXdiKGJbYV0pO3JldHVybiBiLmpvaW4oXCIvXCIpfWZ1bmN0aW9uIHhjKGIsYSxjKXtiPXNhKGIsYyk7YS4kJHByb3RvY29sPVxuYi5wcm90b2NvbDthLiQkaG9zdD1iLmhvc3RuYW1lO2EuJCRwb3J0PVkoYi5wb3J0KXx8d2VbYi5wcm90b2NvbF18fG51bGx9ZnVuY3Rpb24geWMoYixhLGMpe3ZhciBkPVwiL1wiIT09Yi5jaGFyQXQoMCk7ZCYmKGI9XCIvXCIrYik7Yj1zYShiLGMpO2EuJCRwYXRoPWRlY29kZVVSSUNvbXBvbmVudChkJiZcIi9cIj09PWIucGF0aG5hbWUuY2hhckF0KDApP2IucGF0aG5hbWUuc3Vic3RyaW5nKDEpOmIucGF0aG5hbWUpO2EuJCRzZWFyY2g9WWIoYi5zZWFyY2gpO2EuJCRoYXNoPWRlY29kZVVSSUNvbXBvbmVudChiLmhhc2gpO2EuJCRwYXRoJiZcIi9cIiE9YS4kJHBhdGguY2hhckF0KDApJiYoYS4kJHBhdGg9XCIvXCIrYS4kJHBhdGgpfWZ1bmN0aW9uIG9hKGIsYSl7aWYoMD09PWEuaW5kZXhPZihiKSlyZXR1cm4gYS5zdWJzdHIoYi5sZW5ndGgpfWZ1bmN0aW9uIFlhKGIpe3ZhciBhPWIuaW5kZXhPZihcIiNcIik7cmV0dXJuLTE9PWE/YjpiLnN1YnN0cigwLGEpfWZ1bmN0aW9uIEpiKGIpe3JldHVybiBiLnN1YnN0cigwLFxuWWEoYikubGFzdEluZGV4T2YoXCIvXCIpKzEpfWZ1bmN0aW9uIHpjKGIsYSl7dGhpcy4kJGh0bWw1PSEwO2E9YXx8XCJcIjt2YXIgYz1KYihiKTt4YyhiLHRoaXMsYik7dGhpcy4kJHBhcnNlPWZ1bmN0aW9uKGEpe3ZhciBlPW9hKGMsYSk7aWYoIXcoZSkpdGhyb3cgS2IoXCJpcHRocHJmeFwiLGEsYyk7eWMoZSx0aGlzLGIpO3RoaXMuJCRwYXRofHwodGhpcy4kJHBhdGg9XCIvXCIpO3RoaXMuJCRjb21wb3NlKCl9O3RoaXMuJCRjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIGE9WmIodGhpcy4kJHNlYXJjaCksYj10aGlzLiQkaGFzaD9cIiNcIit3Yih0aGlzLiQkaGFzaCk6XCJcIjt0aGlzLiQkdXJsPXdjKHRoaXMuJCRwYXRoKSsoYT9cIj9cIithOlwiXCIpK2I7dGhpcy4kJGFic1VybD1jK3RoaXMuJCR1cmwuc3Vic3RyKDEpfTt0aGlzLiQkcmV3cml0ZT1mdW5jdGlvbihkKXt2YXIgZTtpZigoZT1vYShiLGQpKSE9PXMpcmV0dXJuIGQ9ZSwoZT1vYShhLGUpKSE9PXM/Yysob2EoXCIvXCIsZSl8fGUpOmIrZDtpZigoZT1vYShjLFxuZCkpIT09cylyZXR1cm4gYytlO2lmKGM9PWQrXCIvXCIpcmV0dXJuIGN9fWZ1bmN0aW9uIExiKGIsYSl7dmFyIGM9SmIoYik7eGMoYix0aGlzLGIpO3RoaXMuJCRwYXJzZT1mdW5jdGlvbihkKXt2YXIgZT1vYShiLGQpfHxvYShjLGQpLGU9XCIjXCI9PWUuY2hhckF0KDApP29hKGEsZSk6dGhpcy4kJGh0bWw1P2U6XCJcIjtpZighdyhlKSl0aHJvdyBLYihcImloc2hwcmZ4XCIsZCxhKTt5YyhlLHRoaXMsYik7ZD10aGlzLiQkcGF0aDt2YXIgZz0vXlxcLz8uKj86KFxcLy4qKS87MD09PWUuaW5kZXhPZihiKSYmKGU9ZS5yZXBsYWNlKGIsXCJcIikpO2cuZXhlYyhlKXx8KGQ9KGU9Zy5leGVjKGQpKT9lWzFdOmQpO3RoaXMuJCRwYXRoPWQ7dGhpcy4kJGNvbXBvc2UoKX07dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYz1aYih0aGlzLiQkc2VhcmNoKSxlPXRoaXMuJCRoYXNoP1wiI1wiK3diKHRoaXMuJCRoYXNoKTpcIlwiO3RoaXMuJCR1cmw9d2ModGhpcy4kJHBhdGgpKyhjP1wiP1wiK2M6XCJcIikrZTt0aGlzLiQkYWJzVXJsPVxuYisodGhpcy4kJHVybD9hK3RoaXMuJCR1cmw6XCJcIil9O3RoaXMuJCRyZXdyaXRlPWZ1bmN0aW9uKGEpe2lmKFlhKGIpPT1ZYShhKSlyZXR1cm4gYX19ZnVuY3Rpb24gQWMoYixhKXt0aGlzLiQkaHRtbDU9ITA7TGIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBjPUpiKGIpO3RoaXMuJCRyZXdyaXRlPWZ1bmN0aW9uKGQpe3ZhciBlO2lmKGI9PVlhKGQpKXJldHVybiBkO2lmKGU9b2EoYyxkKSlyZXR1cm4gYithK2U7aWYoYz09PWQrXCIvXCIpcmV0dXJuIGN9fWZ1bmN0aW9uIG5iKGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzW2JdfX1mdW5jdGlvbiBCYyhiLGEpe3JldHVybiBmdW5jdGlvbihjKXtpZihFKGMpKXJldHVybiB0aGlzW2JdO3RoaXNbYl09YShjKTt0aGlzLiQkY29tcG9zZSgpO3JldHVybiB0aGlzfX1mdW5jdGlvbiBWZCgpe3ZhciBiPVwiXCIsYT0hMTt0aGlzLmhhc2hQcmVmaXg9ZnVuY3Rpb24oYSl7cmV0dXJuIEIoYSk/KGI9YSx0aGlzKTpifTt0aGlzLmh0bWw1TW9kZT1cbmZ1bmN0aW9uKGIpe3JldHVybiBCKGIpPyhhPWIsdGhpcyk6YX07dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiRicm93c2VyXCIsXCIkc25pZmZlclwiLFwiJHJvb3RFbGVtZW50XCIsZnVuY3Rpb24oYyxkLGUsZyl7ZnVuY3Rpb24gZihhKXtjLiRicm9hZGNhc3QoXCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXCIsaC5hYnNVcmwoKSxhKX12YXIgaCxsPWQuYmFzZUhyZWYoKSxrPWQudXJsKCk7YT8obD1rLnN1YnN0cmluZygwLGsuaW5kZXhPZihcIi9cIixrLmluZGV4T2YoXCIvL1wiKSsyKSkrKGx8fFwiL1wiKSxlPWUuaGlzdG9yeT96YzpBYyk6KGw9WWEoayksZT1MYik7aD1uZXcgZShsLFwiI1wiK2IpO2guJCRwYXJzZShoLiQkcmV3cml0ZShrKSk7Zy5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7aWYoIWEuY3RybEtleSYmIWEubWV0YUtleSYmMiE9YS53aGljaCl7Zm9yKHZhciBiPXkoYS50YXJnZXQpO1wiYVwiIT09SyhiWzBdLm5vZGVOYW1lKTspaWYoYlswXT09PWdbMF18fCEoYj1iLnBhcmVudCgpKVswXSlyZXR1cm47XG52YXIgZT1iLnByb3AoXCJocmVmXCIpO1goZSkmJlwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PWUudG9TdHJpbmcoKSYmKGU9c2EoZS5hbmltVmFsKS5ocmVmKTt2YXIgZj1oLiQkcmV3cml0ZShlKTtlJiYoIWIuYXR0cihcInRhcmdldFwiKSYmZiYmIWEuaXNEZWZhdWx0UHJldmVudGVkKCkpJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGYhPWQudXJsKCkmJihoLiQkcGFyc2UoZiksYy4kYXBwbHkoKSxPLmFuZ3VsYXJbXCJmZi02ODQyMDgtcHJldmVudERlZmF1bHRcIl09ITApKX19KTtoLmFic1VybCgpIT1rJiZkLnVybChoLmFic1VybCgpLCEwKTtkLm9uVXJsQ2hhbmdlKGZ1bmN0aW9uKGEpe2guYWJzVXJsKCkhPWEmJihjLiRldmFsQXN5bmMoZnVuY3Rpb24oKXt2YXIgYj1oLmFic1VybCgpO2guJCRwYXJzZShhKTtjLiRicm9hZGNhc3QoXCIkbG9jYXRpb25DaGFuZ2VTdGFydFwiLGEsYikuZGVmYXVsdFByZXZlbnRlZD8oaC4kJHBhcnNlKGIpLGQudXJsKGIpKTpmKGIpfSksYy4kJHBoYXNlfHxcbmMuJGRpZ2VzdCgpKX0pO3ZhciBtPTA7Yy4kd2F0Y2goZnVuY3Rpb24oKXt2YXIgYT1kLnVybCgpLGI9aC4kJHJlcGxhY2U7bSYmYT09aC5hYnNVcmwoKXx8KG0rKyxjLiRldmFsQXN5bmMoZnVuY3Rpb24oKXtjLiRicm9hZGNhc3QoXCIkbG9jYXRpb25DaGFuZ2VTdGFydFwiLGguYWJzVXJsKCksYSkuZGVmYXVsdFByZXZlbnRlZD9oLiQkcGFyc2UoYSk6KGQudXJsKGguYWJzVXJsKCksYiksZihhKSl9KSk7aC4kJHJlcGxhY2U9ITE7cmV0dXJuIG19KTtyZXR1cm4gaH1dfWZ1bmN0aW9uIFdkKCl7dmFyIGI9ITAsYT10aGlzO3RoaXMuZGVidWdFbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiBCKGEpPyhiPWEsdGhpcyk6Yn07dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixmdW5jdGlvbihjKXtmdW5jdGlvbiBkKGEpe2EgaW5zdGFuY2VvZiBFcnJvciYmKGEuc3RhY2s/YT1hLm1lc3NhZ2UmJi0xPT09YS5zdGFjay5pbmRleE9mKGEubWVzc2FnZSk/XCJFcnJvcjogXCIrYS5tZXNzYWdlK1wiXFxuXCIrYS5zdGFjazpcbmEuc3RhY2s6YS5zb3VyY2VVUkwmJihhPWEubWVzc2FnZStcIlxcblwiK2Euc291cmNlVVJMK1wiOlwiK2EubGluZSkpO3JldHVybiBhfWZ1bmN0aW9uIGUoYSl7dmFyIGI9Yy5jb25zb2xlfHx7fSxlPWJbYV18fGIubG9nfHxDO2E9ITE7dHJ5e2E9ISFlLmFwcGx5fWNhdGNoKGwpe31yZXR1cm4gYT9mdW5jdGlvbigpe3ZhciBhPVtdO3EoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2EucHVzaChkKGIpKX0pO3JldHVybiBlLmFwcGx5KGIsYSl9OmZ1bmN0aW9uKGEsYil7ZShhLG51bGw9PWI/XCJcIjpiKX19cmV0dXJue2xvZzplKFwibG9nXCIpLGluZm86ZShcImluZm9cIiksd2FybjplKFwid2FyblwiKSxlcnJvcjplKFwiZXJyb3JcIiksZGVidWc6ZnVuY3Rpb24oKXt2YXIgYz1lKFwiZGVidWdcIik7cmV0dXJuIGZ1bmN0aW9uKCl7YiYmYy5hcHBseShhLGFyZ3VtZW50cyl9fSgpfX1dfWZ1bmN0aW9uIGZhKGIsYSl7aWYoXCJjb25zdHJ1Y3RvclwiPT09Yil0aHJvdyBCYShcImlzZWNmbGRcIixhKTtyZXR1cm4gYn1mdW5jdGlvbiBaYShiLFxuYSl7aWYoYil7aWYoYi5jb25zdHJ1Y3Rvcj09PWIpdGhyb3cgQmEoXCJpc2VjZm5cIixhKTtpZihiLmRvY3VtZW50JiZiLmxvY2F0aW9uJiZiLmFsZXJ0JiZiLnNldEludGVydmFsKXRocm93IEJhKFwiaXNlY3dpbmRvd1wiLGEpO2lmKGIuY2hpbGRyZW4mJihiLm5vZGVOYW1lfHxiLnByb3AmJmIuYXR0ciYmYi5maW5kKSl0aHJvdyBCYShcImlzZWNkb21cIixhKTt9cmV0dXJuIGJ9ZnVuY3Rpb24gb2IoYixhLGMsZCxlKXtlPWV8fHt9O2E9YS5zcGxpdChcIi5cIik7Zm9yKHZhciBnLGY9MDsxPGEubGVuZ3RoO2YrKyl7Zz1mYShhLnNoaWZ0KCksZCk7dmFyIGg9YltnXTtofHwoaD17fSxiW2ddPWgpO2I9aDtiLnRoZW4mJmUudW53cmFwUHJvbWlzZXMmJih0YShkKSxcIiQkdlwiaW4gYnx8ZnVuY3Rpb24oYSl7YS50aGVuKGZ1bmN0aW9uKGIpe2EuJCR2PWJ9KX0oYiksYi4kJHY9PT1zJiYoYi4kJHY9e30pLGI9Yi4kJHYpfWc9ZmEoYS5zaGlmdCgpLGQpO3JldHVybiBiW2ddPWN9ZnVuY3Rpb24gQ2MoYixcbmEsYyxkLGUsZyxmKXtmYShiLGcpO2ZhKGEsZyk7ZmEoYyxnKTtmYShkLGcpO2ZhKGUsZyk7cmV0dXJuIGYudW53cmFwUHJvbWlzZXM/ZnVuY3Rpb24oZixsKXt2YXIgaz1sJiZsLmhhc093blByb3BlcnR5KGIpP2w6ZixtO2lmKG51bGw9PWspcmV0dXJuIGs7KGs9a1tiXSkmJmsudGhlbiYmKHRhKGcpLFwiJCR2XCJpbiBrfHwobT1rLG0uJCR2PXMsbS50aGVuKGZ1bmN0aW9uKGEpe20uJCR2PWF9KSksaz1rLiQkdik7aWYoIWEpcmV0dXJuIGs7aWYobnVsbD09aylyZXR1cm4gczsoaz1rW2FdKSYmay50aGVuJiYodGEoZyksXCIkJHZcImluIGt8fChtPWssbS4kJHY9cyxtLnRoZW4oZnVuY3Rpb24oYSl7bS4kJHY9YX0pKSxrPWsuJCR2KTtpZighYylyZXR1cm4gaztpZihudWxsPT1rKXJldHVybiBzOyhrPWtbY10pJiZrLnRoZW4mJih0YShnKSxcIiQkdlwiaW4ga3x8KG09ayxtLiQkdj1zLG0udGhlbihmdW5jdGlvbihhKXttLiQkdj1hfSkpLGs9ay4kJHYpO2lmKCFkKXJldHVybiBrO2lmKG51bGw9PVxuaylyZXR1cm4gczsoaz1rW2RdKSYmay50aGVuJiYodGEoZyksXCIkJHZcImluIGt8fChtPWssbS4kJHY9cyxtLnRoZW4oZnVuY3Rpb24oYSl7bS4kJHY9YX0pKSxrPWsuJCR2KTtpZighZSlyZXR1cm4gaztpZihudWxsPT1rKXJldHVybiBzOyhrPWtbZV0pJiZrLnRoZW4mJih0YShnKSxcIiQkdlwiaW4ga3x8KG09ayxtLiQkdj1zLG0udGhlbihmdW5jdGlvbihhKXttLiQkdj1hfSkpLGs9ay4kJHYpO3JldHVybiBrfTpmdW5jdGlvbihnLGYpe3ZhciBrPWYmJmYuaGFzT3duUHJvcGVydHkoYik/ZjpnO2lmKG51bGw9PWspcmV0dXJuIGs7az1rW2JdO2lmKCFhKXJldHVybiBrO2lmKG51bGw9PWspcmV0dXJuIHM7az1rW2FdO2lmKCFjKXJldHVybiBrO2lmKG51bGw9PWspcmV0dXJuIHM7az1rW2NdO2lmKCFkKXJldHVybiBrO2lmKG51bGw9PWspcmV0dXJuIHM7az1rW2RdO3JldHVybiBlP251bGw9PWs/czprPWtbZV06a319ZnVuY3Rpb24geGUoYixhKXtmYShiLGEpO3JldHVybiBmdW5jdGlvbihhLFxuZCl7cmV0dXJuIG51bGw9PWE/czooZCYmZC5oYXNPd25Qcm9wZXJ0eShiKT9kOmEpW2JdfX1mdW5jdGlvbiB5ZShiLGEsYyl7ZmEoYixjKTtmYShhLGMpO3JldHVybiBmdW5jdGlvbihjLGUpe2lmKG51bGw9PWMpcmV0dXJuIHM7Yz0oZSYmZS5oYXNPd25Qcm9wZXJ0eShiKT9lOmMpW2JdO3JldHVybiBudWxsPT1jP3M6Y1thXX19ZnVuY3Rpb24gRGMoYixhLGMpe2lmKE1iLmhhc093blByb3BlcnR5KGIpKXJldHVybiBNYltiXTt2YXIgZD1iLnNwbGl0KFwiLlwiKSxlPWQubGVuZ3RoLGc7aWYoYS51bndyYXBQcm9taXNlc3x8MSE9PWUpaWYoYS51bndyYXBQcm9taXNlc3x8MiE9PWUpaWYoYS5jc3ApZz02PmU/Q2MoZFswXSxkWzFdLGRbMl0sZFszXSxkWzRdLGMsYSk6ZnVuY3Rpb24oYixnKXt2YXIgZj0wLGg7ZG8gaD1DYyhkW2YrK10sZFtmKytdLGRbZisrXSxkW2YrK10sZFtmKytdLGMsYSkoYixnKSxnPXMsYj1oO3doaWxlKGY8ZSk7cmV0dXJuIGh9O2Vsc2V7dmFyIGY9XCJ2YXIgcDtcXG5cIjtcbnEoZCxmdW5jdGlvbihiLGQpe2ZhKGIsYyk7Zis9XCJpZihzID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XFxucz1cIisoZD9cInNcIjonKChrJiZrLmhhc093blByb3BlcnR5KFwiJytiKydcIikpP2s6cyknKSsnW1wiJytiKydcIl07XFxuJysoYS51bndyYXBQcm9taXNlcz8naWYgKHMgJiYgcy50aGVuKSB7XFxuIHB3KFwiJytjLnJlcGxhY2UoLyhbXCJcXHJcXG5dKS9nLFwiXFxcXCQxXCIpKydcIik7XFxuIGlmICghKFwiJCR2XCIgaW4gcykpIHtcXG4gcD1zO1xcbiBwLiQkdiA9IHVuZGVmaW5lZDtcXG4gcC50aGVuKGZ1bmN0aW9uKHYpIHtwLiQkdj12O30pO1xcbn1cXG4gcz1zLiQkdlxcbn1cXG4nOlwiXCIpfSk7dmFyIGY9ZitcInJldHVybiBzO1wiLGg9bmV3IEZ1bmN0aW9uKFwic1wiLFwia1wiLFwicHdcIixmKTtoLnRvU3RyaW5nPWFhKGYpO2c9YS51bndyYXBQcm9taXNlcz9mdW5jdGlvbihhLGIpe3JldHVybiBoKGEsYix0YSl9Omh9ZWxzZSBnPXllKGRbMF0sZFsxXSxjKTtlbHNlIGc9eGUoZFswXSxjKTtcImhhc093blByb3BlcnR5XCIhPT1cbmImJihNYltiXT1nKTtyZXR1cm4gZ31mdW5jdGlvbiBYZCgpe3ZhciBiPXt9LGE9e2NzcDohMSx1bndyYXBQcm9taXNlczohMSxsb2dQcm9taXNlV2FybmluZ3M6ITB9O3RoaXMudW53cmFwUHJvbWlzZXM9ZnVuY3Rpb24oYil7cmV0dXJuIEIoYik/KGEudW53cmFwUHJvbWlzZXM9ISFiLHRoaXMpOmEudW53cmFwUHJvbWlzZXN9O3RoaXMubG9nUHJvbWlzZVdhcm5pbmdzPWZ1bmN0aW9uKGIpe3JldHVybiBCKGIpPyhhLmxvZ1Byb21pc2VXYXJuaW5ncz1iLHRoaXMpOmEubG9nUHJvbWlzZVdhcm5pbmdzfTt0aGlzLiRnZXQ9W1wiJGZpbHRlclwiLFwiJHNuaWZmZXJcIixcIiRsb2dcIixmdW5jdGlvbihjLGQsZSl7YS5jc3A9ZC5jc3A7dGE9ZnVuY3Rpb24oYil7YS5sb2dQcm9taXNlV2FybmluZ3MmJiFFYy5oYXNPd25Qcm9wZXJ0eShiKSYmKEVjW2JdPSEwLGUud2FybihcIlskcGFyc2VdIFByb21pc2UgZm91bmQgaW4gdGhlIGV4cHJlc3Npb24gYFwiK2IrXCJgLiBBdXRvbWF0aWMgdW53cmFwcGluZyBvZiBwcm9taXNlcyBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRlcHJlY2F0ZWQuXCIpKX07XG5yZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU7c3dpdGNoKHR5cGVvZiBkKXtjYXNlIFwic3RyaW5nXCI6aWYoYi5oYXNPd25Qcm9wZXJ0eShkKSlyZXR1cm4gYltkXTtlPW5ldyBOYihhKTtlPShuZXcgJGEoZSxjLGEpKS5wYXJzZShkLCExKTtcImhhc093blByb3BlcnR5XCIhPT1kJiYoYltkXT1lKTtyZXR1cm4gZTtjYXNlIFwiZnVuY3Rpb25cIjpyZXR1cm4gZDtkZWZhdWx0OnJldHVybiBDfX19XX1mdW5jdGlvbiBaZCgpe3RoaXMuJGdldD1bXCIkcm9vdFNjb3BlXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLGZ1bmN0aW9uKGIsYSl7cmV0dXJuIHplKGZ1bmN0aW9uKGEpe2IuJGV2YWxBc3luYyhhKX0sYSl9XX1mdW5jdGlvbiB6ZShiLGEpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuIGF9ZnVuY3Rpb24gZChhKXtyZXR1cm4gZihhKX12YXIgZT1mdW5jdGlvbigpe3ZhciBmPVtdLGssbTtyZXR1cm4gbT17cmVzb2x2ZTpmdW5jdGlvbihhKXtpZihmKXt2YXIgYz1mO2Y9cztrPWcoYSk7Yy5sZW5ndGgmJmIoZnVuY3Rpb24oKXtmb3IodmFyIGEsXG5iPTAsZD1jLmxlbmd0aDtiPGQ7YisrKWE9Y1tiXSxrLnRoZW4oYVswXSxhWzFdLGFbMl0pfSl9fSxyZWplY3Q6ZnVuY3Rpb24oYSl7bS5yZXNvbHZlKGgoYSkpfSxub3RpZnk6ZnVuY3Rpb24oYSl7aWYoZil7dmFyIGM9ZjtmLmxlbmd0aCYmYihmdW5jdGlvbigpe2Zvcih2YXIgYixkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKWI9Y1tkXSxiWzJdKGEpfSl9fSxwcm9taXNlOnt0aGVuOmZ1bmN0aW9uKGIsZyxoKXt2YXIgbT1lKCksdT1mdW5jdGlvbihkKXt0cnl7bS5yZXNvbHZlKChQKGIpP2I6YykoZCkpfWNhdGNoKGUpe20ucmVqZWN0KGUpLGEoZSl9fSxGPWZ1bmN0aW9uKGIpe3RyeXttLnJlc29sdmUoKFAoZyk/ZzpkKShiKSl9Y2F0Y2goYyl7bS5yZWplY3QoYyksYShjKX19LHY9ZnVuY3Rpb24oYil7dHJ5e20ubm90aWZ5KChQKGgpP2g6YykoYikpfWNhdGNoKGQpe2EoZCl9fTtmP2YucHVzaChbdSxGLHZdKTprLnRoZW4odSxGLHYpO3JldHVybiBtLnByb21pc2V9LFwiY2F0Y2hcIjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsXG5hKX0sXCJmaW5hbGx5XCI6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGMpe3ZhciBkPWUoKTtjP2QucmVzb2x2ZShhKTpkLnJlamVjdChhKTtyZXR1cm4gZC5wcm9taXNlfWZ1bmN0aW9uIGQoZSxnKXt2YXIgZj1udWxsO3RyeXtmPShhfHxjKSgpfWNhdGNoKGgpe3JldHVybiBiKGgsITEpfXJldHVybiBmJiZQKGYudGhlbik/Zi50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGIoZSxnKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSwhMSl9KTpiKGUsZyl9cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gZChhLCEwKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSwhMSl9KX19fX0sZz1mdW5jdGlvbihhKXtyZXR1cm4gYSYmUChhLnRoZW4pP2E6e3RoZW46ZnVuY3Rpb24oYyl7dmFyIGQ9ZSgpO2IoZnVuY3Rpb24oKXtkLnJlc29sdmUoYyhhKSl9KTtyZXR1cm4gZC5wcm9taXNlfX19LGY9ZnVuY3Rpb24oYSl7dmFyIGI9ZSgpO2IucmVqZWN0KGEpO3JldHVybiBiLnByb21pc2V9LGg9ZnVuY3Rpb24oYyl7cmV0dXJue3RoZW46ZnVuY3Rpb24oZyxcbmYpe3ZhciBoPWUoKTtiKGZ1bmN0aW9uKCl7dHJ5e2gucmVzb2x2ZSgoUChmKT9mOmQpKGMpKX1jYXRjaChiKXtoLnJlamVjdChiKSxhKGIpfX0pO3JldHVybiBoLnByb21pc2V9fX07cmV0dXJue2RlZmVyOmUscmVqZWN0OmYsd2hlbjpmdW5jdGlvbihoLGssbSxuKXt2YXIgcD1lKCkscix6PWZ1bmN0aW9uKGIpe3RyeXtyZXR1cm4oUChrKT9rOmMpKGIpfWNhdGNoKGQpe3JldHVybiBhKGQpLGYoZCl9fSx1PWZ1bmN0aW9uKGIpe3RyeXtyZXR1cm4oUChtKT9tOmQpKGIpfWNhdGNoKGMpe3JldHVybiBhKGMpLGYoYyl9fSxGPWZ1bmN0aW9uKGIpe3RyeXtyZXR1cm4oUChuKT9uOmMpKGIpfWNhdGNoKGQpe2EoZCl9fTtiKGZ1bmN0aW9uKCl7ZyhoKS50aGVuKGZ1bmN0aW9uKGEpe3J8fChyPSEwLHAucmVzb2x2ZShnKGEpLnRoZW4oeix1LEYpKSl9LGZ1bmN0aW9uKGEpe3J8fChyPSEwLHAucmVzb2x2ZSh1KGEpKSl9LGZ1bmN0aW9uKGEpe3J8fHAubm90aWZ5KEYoYSkpfSl9KTtyZXR1cm4gcC5wcm9taXNlfSxcbmFsbDpmdW5jdGlvbihhKXt2YXIgYj1lKCksYz0wLGQ9TShhKT9bXTp7fTtxKGEsZnVuY3Rpb24oYSxlKXtjKys7ZyhhKS50aGVuKGZ1bmN0aW9uKGEpe2QuaGFzT3duUHJvcGVydHkoZSl8fChkW2VdPWEsLS1jfHxiLnJlc29sdmUoZCkpfSxmdW5jdGlvbihhKXtkLmhhc093blByb3BlcnR5KGUpfHxiLnJlamVjdChhKX0pfSk7MD09PWMmJmIucmVzb2x2ZShkKTtyZXR1cm4gYi5wcm9taXNlfX19ZnVuY3Rpb24gZmUoKXt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLFwiJHRpbWVvdXRcIixmdW5jdGlvbihiLGEpe3ZhciBjPWIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxiLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8Yi5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsZD1iLmNhbmNlbEFuaW1hdGlvbkZyYW1lfHxiLndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHxiLm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHxiLndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSxlPSEhYyxnPWU/XG5mdW5jdGlvbihhKXt2YXIgYj1jKGEpO3JldHVybiBmdW5jdGlvbigpe2QoYil9fTpmdW5jdGlvbihiKXt2YXIgYz1hKGIsMTYuNjYsITEpO3JldHVybiBmdW5jdGlvbigpe2EuY2FuY2VsKGMpfX07Zy5zdXBwb3J0ZWQ9ZTtyZXR1cm4gZ31dfWZ1bmN0aW9uIFlkKCl7dmFyIGI9MTAsYT10KFwiJHJvb3RTY29wZVwiKSxjPW51bGw7dGhpcy5kaWdlc3RUdGw9ZnVuY3Rpb24oYSl7YXJndW1lbnRzLmxlbmd0aCYmKGI9YSk7cmV0dXJuIGJ9O3RoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsXCIkcGFyc2VcIixcIiRicm93c2VyXCIsZnVuY3Rpb24oZCxlLGcsZil7ZnVuY3Rpb24gaCgpe3RoaXMuJGlkPWJiKCk7dGhpcy4kJHBoYXNlPXRoaXMuJHBhcmVudD10aGlzLiQkd2F0Y2hlcnM9dGhpcy4kJG5leHRTaWJsaW5nPXRoaXMuJCRwcmV2U2libGluZz10aGlzLiQkY2hpbGRIZWFkPXRoaXMuJCRjaGlsZFRhaWw9bnVsbDt0aGlzW1widGhpc1wiXT10aGlzLiRyb290PXRoaXM7XG50aGlzLiQkZGVzdHJveWVkPSExO3RoaXMuJCRhc3luY1F1ZXVlPVtdO3RoaXMuJCRwb3N0RGlnZXN0UXVldWU9W107dGhpcy4kJGxpc3RlbmVycz17fTt0aGlzLiQkbGlzdGVuZXJDb3VudD17fTt0aGlzLiQkaXNvbGF0ZUJpbmRpbmdzPXt9fWZ1bmN0aW9uIGwoYil7aWYocC4kJHBoYXNlKXRocm93IGEoXCJpbnByb2dcIixwLiQkcGhhc2UpO3AuJCRwaGFzZT1ifWZ1bmN0aW9uIGsoYSxiKXt2YXIgYz1nKGEpO1JhKGMsYik7cmV0dXJuIGN9ZnVuY3Rpb24gbShhLGIsYyl7ZG8gYS4kJGxpc3RlbmVyQ291bnRbY10tPWIsMD09PWEuJCRsaXN0ZW5lckNvdW50W2NdJiZkZWxldGUgYS4kJGxpc3RlbmVyQ291bnRbY107d2hpbGUoYT1hLiRwYXJlbnQpfWZ1bmN0aW9uIG4oKXt9aC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmgsJG5ldzpmdW5jdGlvbihhKXthPyhhPW5ldyBoLGEuJHJvb3Q9dGhpcy4kcm9vdCxhLiQkYXN5bmNRdWV1ZT10aGlzLiQkYXN5bmNRdWV1ZSxhLiQkcG9zdERpZ2VzdFF1ZXVlPVxudGhpcy4kJHBvc3REaWdlc3RRdWV1ZSk6KGE9ZnVuY3Rpb24oKXt9LGEucHJvdG90eXBlPXRoaXMsYT1uZXcgYSxhLiRpZD1iYigpKTthW1widGhpc1wiXT1hO2EuJCRsaXN0ZW5lcnM9e307YS4kJGxpc3RlbmVyQ291bnQ9e307YS4kcGFyZW50PXRoaXM7YS4kJHdhdGNoZXJzPWEuJCRuZXh0U2libGluZz1hLiQkY2hpbGRIZWFkPWEuJCRjaGlsZFRhaWw9bnVsbDthLiQkcHJldlNpYmxpbmc9dGhpcy4kJGNoaWxkVGFpbDt0aGlzLiQkY2hpbGRIZWFkP3RoaXMuJCRjaGlsZFRhaWw9dGhpcy4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nPWE6dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPWE7cmV0dXJuIGF9LCR3YXRjaDpmdW5jdGlvbihhLGIsZCl7dmFyIGU9ayhhLFwid2F0Y2hcIiksZz10aGlzLiQkd2F0Y2hlcnMsZj17Zm46YixsYXN0Om4sZ2V0OmUsZXhwOmEsZXE6ISFkfTtjPW51bGw7aWYoIVAoYikpe3ZhciBoPWsoYnx8QyxcImxpc3RlbmVyXCIpO2YuZm49ZnVuY3Rpb24oYSxcbmIsYyl7aChjKX19aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJmUuY29uc3RhbnQpe3ZhciBsPWYuZm47Zi5mbj1mdW5jdGlvbihhLGIsYyl7bC5jYWxsKHRoaXMsYSxiLGMpO09hKGcsZil9fWd8fChnPXRoaXMuJCR3YXRjaGVycz1bXSk7Zy51bnNoaWZ0KGYpO3JldHVybiBmdW5jdGlvbigpe09hKGcsZik7Yz1udWxsfX0sJHdhdGNoQ29sbGVjdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZCxlLGYsaD0xPGIubGVuZ3RoLGw9MCxrPWcoYSksbT1bXSxuPXt9LHA9ITAscT0wO3JldHVybiB0aGlzLiR3YXRjaChmdW5jdGlvbigpe2Q9ayhjKTt2YXIgYSxiO2lmKFgoZCkpaWYoYWIoZCkpZm9yKGUhPT1tJiYoZT1tLHE9ZS5sZW5ndGg9MCxsKyspLGE9ZC5sZW5ndGgscSE9PWEmJihsKyssZS5sZW5ndGg9cT1hKSxiPTA7YjxhO2IrKyllW2JdIT09ZVtiXSYmZFtiXSE9PWRbYl18fGVbYl09PT1kW2JdfHwobCsrLGVbYl09ZFtiXSk7ZWxzZXtlIT09biYmKGU9bj17fSxxPTAsbCsrKTthPVxuMDtmb3IoYiBpbiBkKWQuaGFzT3duUHJvcGVydHkoYikmJihhKyssZS5oYXNPd25Qcm9wZXJ0eShiKT9lW2JdIT09ZFtiXSYmKGwrKyxlW2JdPWRbYl0pOihxKyssZVtiXT1kW2JdLGwrKykpO2lmKHE+YSlmb3IoYiBpbiBsKyssZSllLmhhc093blByb3BlcnR5KGIpJiYhZC5oYXNPd25Qcm9wZXJ0eShiKSYmKHEtLSxkZWxldGUgZVtiXSl9ZWxzZSBlIT09ZCYmKGU9ZCxsKyspO3JldHVybiBsfSxmdW5jdGlvbigpe3A/KHA9ITEsYihkLGQsYykpOmIoZCxmLGMpO2lmKGgpaWYoWChkKSlpZihhYihkKSl7Zj1BcnJheShkLmxlbmd0aCk7Zm9yKHZhciBhPTA7YTxkLmxlbmd0aDthKyspZlthXT1kW2FdfWVsc2UgZm9yKGEgaW4gZj17fSxkKUZjLmNhbGwoZCxhKSYmKGZbYV09ZFthXSk7ZWxzZSBmPWR9KX0sJGRpZ2VzdDpmdW5jdGlvbigpe3ZhciBkLGcsZixoLGs9dGhpcy4kJGFzeW5jUXVldWUsbT10aGlzLiQkcG9zdERpZ2VzdFF1ZXVlLHEseCxzPWIsTCxRPVtdLHksSCxSO2woXCIkZGlnZXN0XCIpO1xuYz1udWxsO2Rve3g9ITE7Zm9yKEw9dGhpcztrLmxlbmd0aDspe3RyeXtSPWsuc2hpZnQoKSxSLnNjb3BlLiRldmFsKFIuZXhwcmVzc2lvbil9Y2F0Y2goQil7cC4kJHBoYXNlPW51bGwsZShCKX1jPW51bGx9YTpkb3tpZihoPUwuJCR3YXRjaGVycylmb3IocT1oLmxlbmd0aDtxLS07KXRyeXtpZihkPWhbcV0paWYoKGc9ZC5nZXQoTCkpIT09KGY9ZC5sYXN0KSYmIShkLmVxP3hhKGcsZik6XCJudW1iZXJcIj09dHlwZW9mIGcmJlwibnVtYmVyXCI9PXR5cGVvZiBmJiZpc05hTihnKSYmaXNOYU4oZikpKXg9ITAsYz1kLGQubGFzdD1kLmVxP2JhKGcpOmcsZC5mbihnLGY9PT1uP2c6ZixMKSw1PnMmJih5PTQtcyxRW3ldfHwoUVt5XT1bXSksSD1QKGQuZXhwKT9cImZuOiBcIisoZC5leHAubmFtZXx8ZC5leHAudG9TdHJpbmcoKSk6ZC5leHAsSCs9XCI7IG5ld1ZhbDogXCIrcWEoZykrXCI7IG9sZFZhbDogXCIrcWEoZiksUVt5XS5wdXNoKEgpKTtlbHNlIGlmKGQ9PT1jKXt4PSExO2JyZWFrIGF9fWNhdGNoKHcpe3AuJCRwaGFzZT1cbm51bGwsZSh3KX1pZighKGg9TC4kJGNoaWxkSGVhZHx8TCE9PXRoaXMmJkwuJCRuZXh0U2libGluZykpZm9yKDtMIT09dGhpcyYmIShoPUwuJCRuZXh0U2libGluZyk7KUw9TC4kcGFyZW50fXdoaWxlKEw9aCk7aWYoKHh8fGsubGVuZ3RoKSYmIXMtLSl0aHJvdyBwLiQkcGhhc2U9bnVsbCxhKFwiaW5mZGlnXCIsYixxYShRKSk7fXdoaWxlKHh8fGsubGVuZ3RoKTtmb3IocC4kJHBoYXNlPW51bGw7bS5sZW5ndGg7KXRyeXttLnNoaWZ0KCkoKX1jYXRjaChUKXtlKFQpfX0sJGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZighdGhpcy4kJGRlc3Ryb3llZCl7dmFyIGE9dGhpcy4kcGFyZW50O3RoaXMuJGJyb2FkY2FzdChcIiRkZXN0cm95XCIpO3RoaXMuJCRkZXN0cm95ZWQ9ITA7dGhpcyE9PXAmJihxKHRoaXMuJCRsaXN0ZW5lckNvdW50LGViKG51bGwsbSx0aGlzKSksYS4kJGNoaWxkSGVhZD09dGhpcyYmKGEuJCRjaGlsZEhlYWQ9dGhpcy4kJG5leHRTaWJsaW5nKSxhLiQkY2hpbGRUYWlsPT10aGlzJiZcbihhLiQkY2hpbGRUYWlsPXRoaXMuJCRwcmV2U2libGluZyksdGhpcy4kJHByZXZTaWJsaW5nJiYodGhpcy4kJHByZXZTaWJsaW5nLiQkbmV4dFNpYmxpbmc9dGhpcy4kJG5leHRTaWJsaW5nKSx0aGlzLiQkbmV4dFNpYmxpbmcmJih0aGlzLiQkbmV4dFNpYmxpbmcuJCRwcmV2U2libGluZz10aGlzLiQkcHJldlNpYmxpbmcpLHRoaXMuJHBhcmVudD10aGlzLiQkbmV4dFNpYmxpbmc9dGhpcy4kJHByZXZTaWJsaW5nPXRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD10aGlzLiRyb290PW51bGwsdGhpcy4kJGxpc3RlbmVycz17fSx0aGlzLiQkd2F0Y2hlcnM9dGhpcy4kJGFzeW5jUXVldWU9dGhpcy4kJHBvc3REaWdlc3RRdWV1ZT1bXSx0aGlzLiRkZXN0cm95PXRoaXMuJGRpZ2VzdD10aGlzLiRhcHBseT1DLHRoaXMuJG9uPXRoaXMuJHdhdGNoPWZ1bmN0aW9uKCl7cmV0dXJuIEN9KX19LCRldmFsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGcoYSkodGhpcyxiKX0sJGV2YWxBc3luYzpmdW5jdGlvbihhKXtwLiQkcGhhc2V8fFxucC4kJGFzeW5jUXVldWUubGVuZ3RofHxmLmRlZmVyKGZ1bmN0aW9uKCl7cC4kJGFzeW5jUXVldWUubGVuZ3RoJiZwLiRkaWdlc3QoKX0pO3RoaXMuJCRhc3luY1F1ZXVlLnB1c2goe3Njb3BlOnRoaXMsZXhwcmVzc2lvbjphfSl9LCQkcG9zdERpZ2VzdDpmdW5jdGlvbihhKXt0aGlzLiQkcG9zdERpZ2VzdFF1ZXVlLnB1c2goYSl9LCRhcHBseTpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIGwoXCIkYXBwbHlcIiksdGhpcy4kZXZhbChhKX1jYXRjaChiKXtlKGIpfWZpbmFsbHl7cC4kJHBoYXNlPW51bGw7dHJ5e3AuJGRpZ2VzdCgpfWNhdGNoKGMpe3Rocm93IGUoYyksYzt9fX0sJG9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy4kJGxpc3RlbmVyc1thXTtjfHwodGhpcy4kJGxpc3RlbmVyc1thXT1jPVtdKTtjLnB1c2goYik7dmFyIGQ9dGhpcztkbyBkLiQkbGlzdGVuZXJDb3VudFthXXx8KGQuJCRsaXN0ZW5lckNvdW50W2FdPTApLGQuJCRsaXN0ZW5lckNvdW50W2FdKys7d2hpbGUoZD1kLiRwYXJlbnQpO1xudmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtjW2RiKGMsYildPW51bGw7bShlLDEsYSl9fSwkZW1pdDpmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQsZz10aGlzLGY9ITEsaD17bmFtZTphLHRhcmdldFNjb3BlOmcsc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7Zj0hMH0scHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXtoLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGRlZmF1bHRQcmV2ZW50ZWQ6ITF9LGw9W2hdLmNvbmNhdCh5YS5jYWxsKGFyZ3VtZW50cywxKSksayxtO2Rve2Q9Zy4kJGxpc3RlbmVyc1thXXx8YztoLmN1cnJlbnRTY29wZT1nO2s9MDtmb3IobT1kLmxlbmd0aDtrPG07aysrKWlmKGRba10pdHJ5e2Rba10uYXBwbHkobnVsbCxsKX1jYXRjaChuKXtlKG4pfWVsc2UgZC5zcGxpY2UoaywxKSxrLS0sbS0tO2lmKGYpYnJlYWs7Zz1nLiRwYXJlbnR9d2hpbGUoZyk7cmV0dXJuIGh9LCRicm9hZGNhc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcyxkPXRoaXMsZz17bmFtZTphLFxudGFyZ2V0U2NvcGU6dGhpcyxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe2cuZGVmYXVsdFByZXZlbnRlZD0hMH0sZGVmYXVsdFByZXZlbnRlZDohMX0sZj1bZ10uY29uY2F0KHlhLmNhbGwoYXJndW1lbnRzLDEpKSxoLGs7Yz1kOyl7Zy5jdXJyZW50U2NvcGU9YztkPWMuJCRsaXN0ZW5lcnNbYV18fFtdO2g9MDtmb3Ioaz1kLmxlbmd0aDtoPGs7aCsrKWlmKGRbaF0pdHJ5e2RbaF0uYXBwbHkobnVsbCxmKX1jYXRjaChsKXtlKGwpfWVsc2UgZC5zcGxpY2UoaCwxKSxoLS0say0tO2lmKCEoZD1jLiQkbGlzdGVuZXJDb3VudFthXSYmYy4kJGNoaWxkSGVhZHx8YyE9PXRoaXMmJmMuJCRuZXh0U2libGluZykpZm9yKDtjIT09dGhpcyYmIShkPWMuJCRuZXh0U2libGluZyk7KWM9Yy4kcGFyZW50fXJldHVybiBnfX07dmFyIHA9bmV3IGg7cmV0dXJuIHB9XX1mdW5jdGlvbiBiZCgpe3ZhciBiPS9eXFxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxhPS9eXFxzKihodHRwcz98ZnRwfGZpbGUpOnxkYXRhOmltYWdlXFwvLztcbnRoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIEIoYSk/KGI9YSx0aGlzKTpifTt0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihiKXtyZXR1cm4gQihiKT8oYT1iLHRoaXMpOmF9O3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBlPWQ/YTpiLGc7aWYoIVN8fDg8PVMpaWYoZz1zYShjKS5ocmVmLFwiXCIhPT1nJiYhZy5tYXRjaChlKSlyZXR1cm5cInVuc2FmZTpcIitnO3JldHVybiBjfX19ZnVuY3Rpb24gQWUoYil7aWYoXCJzZWxmXCI9PT1iKXJldHVybiBiO2lmKHcoYikpe2lmKC0xPGIuaW5kZXhPZihcIioqKlwiKSl0aHJvdyB1YShcIml3Y2FyZFwiLGIpO2I9Yi5yZXBsYWNlKC8oWy0oKVxcW1xcXXt9Kz8qLiRcXF58LDojPCFcXFxcXSkvZyxcIlxcXFwkMVwiKS5yZXBsYWNlKC9cXHgwOC9nLFwiXFxcXHgwOFwiKS5yZXBsYWNlKFwiXFxcXCpcXFxcKlwiLFwiLipcIikucmVwbGFjZShcIlxcXFwqXCIsXCJbXjovLj8mO10qXCIpO3JldHVybiBSZWdFeHAoXCJeXCIrXG5iK1wiJFwiKX1pZihjYihiKSlyZXR1cm4gUmVnRXhwKFwiXlwiK2Iuc291cmNlK1wiJFwiKTt0aHJvdyB1YShcImltYXRjaGVyXCIpO31mdW5jdGlvbiBHYyhiKXt2YXIgYT1bXTtCKGIpJiZxKGIsZnVuY3Rpb24oYil7YS5wdXNoKEFlKGIpKX0pO3JldHVybiBhfWZ1bmN0aW9uIGFlKCl7dGhpcy5TQ0VfQ09OVEVYVFM9Z2E7dmFyIGI9W1wic2VsZlwiXSxhPVtdO3RoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3Q9ZnVuY3Rpb24oYSl7YXJndW1lbnRzLmxlbmd0aCYmKGI9R2MoYSkpO3JldHVybiBifTt0aGlzLnJlc291cmNlVXJsQmxhY2tsaXN0PWZ1bmN0aW9uKGIpe2FyZ3VtZW50cy5sZW5ndGgmJihhPUdjKGIpKTtyZXR1cm4gYX07dGhpcy4kZ2V0PVtcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGQoYSl7dmFyIGI9ZnVuY3Rpb24oYSl7dGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiBhfX07YSYmKGIucHJvdG90eXBlPW5ldyBhKTtiLnByb3RvdHlwZS52YWx1ZU9mPVxuZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpfTtiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCkudG9TdHJpbmcoKX07cmV0dXJuIGJ9dmFyIGU9ZnVuY3Rpb24oYSl7dGhyb3cgdWEoXCJ1bnNhZmVcIik7fTtjLmhhcyhcIiRzYW5pdGl6ZVwiKSYmKGU9Yy5nZXQoXCIkc2FuaXRpemVcIikpO3ZhciBnPWQoKSxmPXt9O2ZbZ2EuSFRNTF09ZChnKTtmW2dhLkNTU109ZChnKTtmW2dhLlVSTF09ZChnKTtmW2dhLkpTXT1kKGcpO2ZbZ2EuUkVTT1VSQ0VfVVJMXT1kKGZbZ2EuVVJMXSk7cmV0dXJue3RydXN0QXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1mLmhhc093blByb3BlcnR5KGEpP2ZbYV06bnVsbDtpZighYyl0aHJvdyB1YShcImljb250ZXh0XCIsYSxiKTtpZihudWxsPT09Ynx8Yj09PXN8fFwiXCI9PT1iKXJldHVybiBiO2lmKFwic3RyaW5nXCIhPT10eXBlb2YgYil0aHJvdyB1YShcIml0eXBlXCIsYSk7cmV0dXJuIG5ldyBjKGIpfSxcbmdldFRydXN0ZWQ6ZnVuY3Rpb24oYyxkKXtpZihudWxsPT09ZHx8ZD09PXN8fFwiXCI9PT1kKXJldHVybiBkO3ZhciBnPWYuaGFzT3duUHJvcGVydHkoYyk/ZltjXTpudWxsO2lmKGcmJmQgaW5zdGFuY2VvZiBnKXJldHVybiBkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7aWYoYz09PWdhLlJFU09VUkNFX1VSTCl7dmFyIGc9c2EoZC50b1N0cmluZygpKSxtLG4scD0hMTttPTA7Zm9yKG49Yi5sZW5ndGg7bTxuO20rKylpZihcInNlbGZcIj09PWJbbV0/SWIoZyk6YlttXS5leGVjKGcuaHJlZikpe3A9ITA7YnJlYWt9aWYocClmb3IobT0wLG49YS5sZW5ndGg7bTxuO20rKylpZihcInNlbGZcIj09PWFbbV0/SWIoZyk6YVttXS5leGVjKGcuaHJlZikpe3A9ITE7YnJlYWt9aWYocClyZXR1cm4gZDt0aHJvdyB1YShcImluc2VjdXJsXCIsZC50b1N0cmluZygpKTt9aWYoYz09PWdhLkhUTUwpcmV0dXJuIGUoZCk7dGhyb3cgdWEoXCJ1bnNhZmVcIik7fSx2YWx1ZU9mOmZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2Zcbmc/YS4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpOmF9fX1dfWZ1bmN0aW9uICRkKCl7dmFyIGI9ITA7dGhpcy5lbmFibGVkPWZ1bmN0aW9uKGEpe2FyZ3VtZW50cy5sZW5ndGgmJihiPSEhYSk7cmV0dXJuIGJ9O3RoaXMuJGdldD1bXCIkcGFyc2VcIixcIiRzbmlmZmVyXCIsXCIkc2NlRGVsZWdhdGVcIixmdW5jdGlvbihhLGMsZCl7aWYoYiYmYy5tc2llJiY4PmMubXNpZURvY3VtZW50TW9kZSl0aHJvdyB1YShcImllcXVpcmtzXCIpO3ZhciBlPWJhKGdhKTtlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiBifTtlLnRydXN0QXM9ZC50cnVzdEFzO2UuZ2V0VHJ1c3RlZD1kLmdldFRydXN0ZWQ7ZS52YWx1ZU9mPWQudmFsdWVPZjtifHwoZS50cnVzdEFzPWUuZ2V0VHJ1c3RlZD1mdW5jdGlvbihhLGIpe3JldHVybiBifSxlLnZhbHVlT2Y9RGEpO2UucGFyc2VBcz1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYyk7cmV0dXJuIGQubGl0ZXJhbCYmZC5jb25zdGFudD9kOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGUuZ2V0VHJ1c3RlZChiLFxuZChhLGMpKX19O3ZhciBnPWUucGFyc2VBcyxmPWUuZ2V0VHJ1c3RlZCxoPWUudHJ1c3RBcztxKGdhLGZ1bmN0aW9uKGEsYil7dmFyIGM9SyhiKTtlW1RhKFwicGFyc2VfYXNfXCIrYyldPWZ1bmN0aW9uKGIpe3JldHVybiBnKGEsYil9O2VbVGEoXCJnZXRfdHJ1c3RlZF9cIitjKV09ZnVuY3Rpb24oYil7cmV0dXJuIGYoYSxiKX07ZVtUYShcInRydXN0X2FzX1wiK2MpXT1mdW5jdGlvbihiKXtyZXR1cm4gaChhLGIpfX0pO3JldHVybiBlfV19ZnVuY3Rpb24gYmUoKXt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLFwiJGRvY3VtZW50XCIsZnVuY3Rpb24oYixhKXt2YXIgYz17fSxkPVkoKC9hbmRyb2lkIChcXGQrKS8uZXhlYyhLKChiLm5hdmlnYXRvcnx8e30pLnVzZXJBZ2VudCkpfHxbXSlbMV0pLGU9L0JveGVlL2kudGVzdCgoYi5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnQpLGc9YVswXXx8e30sZj1nLmRvY3VtZW50TW9kZSxoLGw9L14oTW96fHdlYmtpdHxPfG1zKSg/PVtBLVpdKS8saz1nLmJvZHkmJmcuYm9keS5zdHlsZSxcbm09ITEsbj0hMTtpZihrKXtmb3IodmFyIHAgaW4gaylpZihtPWwuZXhlYyhwKSl7aD1tWzBdO2g9aC5zdWJzdHIoMCwxKS50b1VwcGVyQ2FzZSgpK2guc3Vic3RyKDEpO2JyZWFrfWh8fChoPVwiV2Via2l0T3BhY2l0eVwiaW4gayYmXCJ3ZWJraXRcIik7bT0hIShcInRyYW5zaXRpb25cImluIGt8fGgrXCJUcmFuc2l0aW9uXCJpbiBrKTtuPSEhKFwiYW5pbWF0aW9uXCJpbiBrfHxoK1wiQW5pbWF0aW9uXCJpbiBrKTshZHx8bSYmbnx8KG09dyhnLmJvZHkuc3R5bGUud2Via2l0VHJhbnNpdGlvbiksbj13KGcuYm9keS5zdHlsZS53ZWJraXRBbmltYXRpb24pKX1yZXR1cm57aGlzdG9yeTohKCFiLmhpc3Rvcnl8fCFiLmhpc3RvcnkucHVzaFN0YXRlfHw0PmR8fGUpLGhhc2hjaGFuZ2U6XCJvbmhhc2hjaGFuZ2VcImluIGImJighZnx8NzxmKSxoYXNFdmVudDpmdW5jdGlvbihhKXtpZihcImlucHV0XCI9PWEmJjk9PVMpcmV0dXJuITE7aWYoRShjW2FdKSl7dmFyIGI9Zy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2NbYV09XCJvblwiK1xuYSBpbiBifXJldHVybiBjW2FdfSxjc3A6VmIoKSx2ZW5kb3JQcmVmaXg6aCx0cmFuc2l0aW9uczptLGFuaW1hdGlvbnM6bixhbmRyb2lkOmQsbXNpZTpTLG1zaWVEb2N1bWVudE1vZGU6Zn19XX1mdW5jdGlvbiBkZSgpe3RoaXMuJGdldD1bXCIkcm9vdFNjb3BlXCIsXCIkYnJvd3NlclwiLFwiJHFcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsZnVuY3Rpb24oYixhLGMsZCl7ZnVuY3Rpb24gZShlLGgsbCl7dmFyIGs9Yy5kZWZlcigpLG09ay5wcm9taXNlLG49QihsKSYmIWw7aD1hLmRlZmVyKGZ1bmN0aW9uKCl7dHJ5e2sucmVzb2x2ZShlKCkpfWNhdGNoKGEpe2sucmVqZWN0KGEpLGQoYSl9ZmluYWxseXtkZWxldGUgZ1ttLiQkdGltZW91dElkXX1ufHxiLiRhcHBseSgpfSxoKTttLiQkdGltZW91dElkPWg7Z1toXT1rO3JldHVybiBtfXZhciBnPXt9O2UuY2FuY2VsPWZ1bmN0aW9uKGIpe3JldHVybiBiJiZiLiQkdGltZW91dElkIGluIGc/KGdbYi4kJHRpbWVvdXRJZF0ucmVqZWN0KFwiY2FuY2VsZWRcIiksXG5kZWxldGUgZ1tiLiQkdGltZW91dElkXSxhLmRlZmVyLmNhbmNlbChiLiQkdGltZW91dElkKSk6ITF9O3JldHVybiBlfV19ZnVuY3Rpb24gc2EoYixhKXt2YXIgYz1iO1MmJihXLnNldEF0dHJpYnV0ZShcImhyZWZcIixjKSxjPVcuaHJlZik7Vy5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsYyk7cmV0dXJue2hyZWY6Vy5ocmVmLHByb3RvY29sOlcucHJvdG9jb2w/Vy5wcm90b2NvbC5yZXBsYWNlKC86JC8sXCJcIik6XCJcIixob3N0OlcuaG9zdCxzZWFyY2g6Vy5zZWFyY2g/Vy5zZWFyY2gucmVwbGFjZSgvXlxcPy8sXCJcIik6XCJcIixoYXNoOlcuaGFzaD9XLmhhc2gucmVwbGFjZSgvXiMvLFwiXCIpOlwiXCIsaG9zdG5hbWU6Vy5ob3N0bmFtZSxwb3J0OlcucG9ydCxwYXRobmFtZTpcIi9cIj09PVcucGF0aG5hbWUuY2hhckF0KDApP1cucGF0aG5hbWU6XCIvXCIrVy5wYXRobmFtZX19ZnVuY3Rpb24gSWIoYil7Yj13KGIpP3NhKGIpOmI7cmV0dXJuIGIucHJvdG9jb2w9PT1IYy5wcm90b2NvbCYmYi5ob3N0PT09SGMuaG9zdH1cbmZ1bmN0aW9uIGVlKCl7dGhpcy4kZ2V0PWFhKE8pfWZ1bmN0aW9uIGdjKGIpe2Z1bmN0aW9uIGEoZCxlKXtpZihYKGQpKXt2YXIgZz17fTtxKGQsZnVuY3Rpb24oYixjKXtnW2NdPWEoYyxiKX0pO3JldHVybiBnfXJldHVybiBiLmZhY3RvcnkoZCtjLGUpfXZhciBjPVwiRmlsdGVyXCI7dGhpcy5yZWdpc3Rlcj1hO3RoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEuZ2V0KGIrYyl9fV07YShcImN1cnJlbmN5XCIsSWMpO2EoXCJkYXRlXCIsSmMpO2EoXCJmaWx0ZXJcIixCZSk7YShcImpzb25cIixDZSk7YShcImxpbWl0VG9cIixEZSk7YShcImxvd2VyY2FzZVwiLEVlKTthKFwibnVtYmVyXCIsS2MpO2EoXCJvcmRlckJ5XCIsTGMpO2EoXCJ1cHBlcmNhc2VcIixGZSl9ZnVuY3Rpb24gQmUoKXtyZXR1cm4gZnVuY3Rpb24oYixhLGMpe2lmKCFNKGIpKXJldHVybiBiO3ZhciBkPXR5cGVvZiBjLGU9W107ZS5jaGVjaz1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGUubGVuZ3RoO2IrKylpZighZVtiXShhKSlyZXR1cm4hMTtcbnJldHVybiEwfTtcImZ1bmN0aW9uXCIhPT1kJiYoYz1cImJvb2xlYW5cIj09PWQmJmM/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRWEuZXF1YWxzKGEsYil9OmZ1bmN0aW9uKGEsYil7aWYoYSYmYiYmXCJvYmplY3RcIj09PXR5cGVvZiBhJiZcIm9iamVjdFwiPT09dHlwZW9mIGIpe2Zvcih2YXIgZCBpbiBhKWlmKFwiJFwiIT09ZC5jaGFyQXQoMCkmJkZjLmNhbGwoYSxkKSYmYyhhW2RdLGJbZF0pKXJldHVybiEwO3JldHVybiExfWI9KFwiXCIrYikudG9Mb3dlckNhc2UoKTtyZXR1cm4tMTwoXCJcIithKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYil9KTt2YXIgZz1mdW5jdGlvbihhLGIpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiJiZcIiFcIj09PWIuY2hhckF0KDApKXJldHVybiFnKGEsYi5zdWJzdHIoMSkpO3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSBcImJvb2xlYW5cIjpjYXNlIFwibnVtYmVyXCI6Y2FzZSBcInN0cmluZ1wiOnJldHVybiBjKGEsYik7Y2FzZSBcIm9iamVjdFwiOnN3aXRjaCh0eXBlb2YgYil7Y2FzZSBcIm9iamVjdFwiOnJldHVybiBjKGEsXG5iKTtkZWZhdWx0OmZvcih2YXIgZCBpbiBhKWlmKFwiJFwiIT09ZC5jaGFyQXQoMCkmJmcoYVtkXSxiKSlyZXR1cm4hMH1yZXR1cm4hMTtjYXNlIFwiYXJyYXlcIjpmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGcoYVtkXSxiKSlyZXR1cm4hMDtyZXR1cm4hMTtkZWZhdWx0OnJldHVybiExfX07c3dpdGNoKHR5cGVvZiBhKXtjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJudW1iZXJcIjpjYXNlIFwic3RyaW5nXCI6YT17JDphfTtjYXNlIFwib2JqZWN0XCI6Zm9yKHZhciBmIGluIGEpKGZ1bmN0aW9uKGIpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBhW2JdJiZlLnB1c2goZnVuY3Rpb24oYyl7cmV0dXJuIGcoXCIkXCI9PWI/YzpjJiZjW2JdLGFbYl0pfSl9KShmKTticmVhaztjYXNlIFwiZnVuY3Rpb25cIjplLnB1c2goYSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gYn1kPVtdO2ZvcihmPTA7ZjxiLmxlbmd0aDtmKyspe3ZhciBoPWJbZl07ZS5jaGVjayhoKSYmZC5wdXNoKGgpfXJldHVybiBkfX1mdW5jdGlvbiBJYyhiKXt2YXIgYT1cbmIuTlVNQkVSX0ZPUk1BVFM7cmV0dXJuIGZ1bmN0aW9uKGIsZCl7RShkKSYmKGQ9YS5DVVJSRU5DWV9TWU0pO3JldHVybiBNYyhiLGEuUEFUVEVSTlNbMV0sYS5HUk9VUF9TRVAsYS5ERUNJTUFMX1NFUCwyKS5yZXBsYWNlKC9cXHUwMEE0L2csZCl9fWZ1bmN0aW9uIEtjKGIpe3ZhciBhPWIuTlVNQkVSX0ZPUk1BVFM7cmV0dXJuIGZ1bmN0aW9uKGIsZCl7cmV0dXJuIE1jKGIsYS5QQVRURVJOU1swXSxhLkdST1VQX1NFUCxhLkRFQ0lNQUxfU0VQLGQpfX1mdW5jdGlvbiBNYyhiLGEsYyxkLGUpe2lmKG51bGw9PWJ8fCFpc0Zpbml0ZShiKXx8WChiKSlyZXR1cm5cIlwiO3ZhciBnPTA+YjtiPU1hdGguYWJzKGIpO3ZhciBmPWIrXCJcIixoPVwiXCIsbD1bXSxrPSExO2lmKC0xIT09Zi5pbmRleE9mKFwiZVwiKSl7dmFyIG09Zi5tYXRjaCgvKFtcXGRcXC5dKyllKC0/KShcXGQrKS8pO20mJlwiLVwiPT1tWzJdJiZtWzNdPmUrMT9mPVwiMFwiOihoPWYsaz0hMCl9aWYoaykwPGUmJigtMTxiJiYxPmIpJiYoaD1iLnRvRml4ZWQoZSkpO1xuZWxzZXtmPShmLnNwbGl0KE5jKVsxXXx8XCJcIikubGVuZ3RoO0UoZSkmJihlPU1hdGgubWluKE1hdGgubWF4KGEubWluRnJhYyxmKSxhLm1heEZyYWMpKTtmPU1hdGgucG93KDEwLGUpO2I9TWF0aC5yb3VuZChiKmYpL2Y7Yj0oXCJcIitiKS5zcGxpdChOYyk7Zj1iWzBdO2I9YlsxXXx8XCJcIjt2YXIgbT0wLG49YS5sZ1NpemUscD1hLmdTaXplO2lmKGYubGVuZ3RoPj1uK3ApZm9yKG09Zi5sZW5ndGgtbixrPTA7azxtO2srKykwPT09KG0tayklcCYmMCE9PWsmJihoKz1jKSxoKz1mLmNoYXJBdChrKTtmb3Ioaz1tO2s8Zi5sZW5ndGg7aysrKTA9PT0oZi5sZW5ndGgtayklbiYmMCE9PWsmJihoKz1jKSxoKz1mLmNoYXJBdChrKTtmb3IoO2IubGVuZ3RoPGU7KWIrPVwiMFwiO2UmJlwiMFwiIT09ZSYmKGgrPWQrYi5zdWJzdHIoMCxlKSl9bC5wdXNoKGc/YS5uZWdQcmU6YS5wb3NQcmUpO2wucHVzaChoKTtsLnB1c2goZz9hLm5lZ1N1ZjphLnBvc1N1Zik7cmV0dXJuIGwuam9pbihcIlwiKX1mdW5jdGlvbiBPYihiLFxuYSxjKXt2YXIgZD1cIlwiOzA+YiYmKGQ9XCItXCIsYj0tYik7Zm9yKGI9XCJcIitiO2IubGVuZ3RoPGE7KWI9XCIwXCIrYjtjJiYoYj1iLnN1YnN0cihiLmxlbmd0aC1hKSk7cmV0dXJuIGQrYn1mdW5jdGlvbiAkKGIsYSxjLGQpe2M9Y3x8MDtyZXR1cm4gZnVuY3Rpb24oZSl7ZT1lW1wiZ2V0XCIrYl0oKTtpZigwPGN8fGU+LWMpZSs9YzswPT09ZSYmLTEyPT1jJiYoZT0xMik7cmV0dXJuIE9iKGUsYSxkKX19ZnVuY3Rpb24gcGIoYixhKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXt2YXIgZT1jW1wiZ2V0XCIrYl0oKSxnPUZhKGE/XCJTSE9SVFwiK2I6Yik7cmV0dXJuIGRbZ11bZV19fWZ1bmN0aW9uIEpjKGIpe2Z1bmN0aW9uIGEoYSl7dmFyIGI7aWYoYj1hLm1hdGNoKGMpKXthPW5ldyBEYXRlKDApO3ZhciBnPTAsZj0wLGg9Yls4XT9hLnNldFVUQ0Z1bGxZZWFyOmEuc2V0RnVsbFllYXIsbD1iWzhdP2Euc2V0VVRDSG91cnM6YS5zZXRIb3VycztiWzldJiYoZz1ZKGJbOV0rYlsxMF0pLGY9WShiWzldK2JbMTFdKSk7XG5oLmNhbGwoYSxZKGJbMV0pLFkoYlsyXSktMSxZKGJbM10pKTtnPVkoYls0XXx8MCktZztmPVkoYls1XXx8MCktZjtoPVkoYls2XXx8MCk7Yj1NYXRoLnJvdW5kKDFFMypwYXJzZUZsb2F0KFwiMC5cIisoYls3XXx8MCkpKTtsLmNhbGwoYSxnLGYsaCxiKX1yZXR1cm4gYX12YXIgYz0vXihcXGR7NH0pLT8oXFxkXFxkKS0/KFxcZFxcZCkoPzpUKFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86Oj8oXFxkXFxkKSg/OlxcLihcXGQrKSk/KT8pPyhafChbKy1dKShcXGRcXGQpOj8oXFxkXFxkKSk/KT8kLztyZXR1cm4gZnVuY3Rpb24oYyxlKXt2YXIgZz1cIlwiLGY9W10saCxsO2U9ZXx8XCJtZWRpdW1EYXRlXCI7ZT1iLkRBVEVUSU1FX0ZPUk1BVFNbZV18fGU7dyhjKSYmKGM9R2UudGVzdChjKT9ZKGMpOmEoYykpO3ZiKGMpJiYoYz1uZXcgRGF0ZShjKSk7aWYoIU5hKGMpKXJldHVybiBjO2Zvcig7ZTspKGw9SGUuZXhlYyhlKSk/KGY9Zi5jb25jYXQoeWEuY2FsbChsLDEpKSxlPWYucG9wKCkpOihmLnB1c2goZSksZT1udWxsKTtxKGYsZnVuY3Rpb24oYSl7aD1cbkllW2FdO2crPWg/aChjLGIuREFURVRJTUVfRk9STUFUUyk6YS5yZXBsYWNlKC8oXid8JyQpL2csXCJcIikucmVwbGFjZSgvJycvZyxcIidcIil9KTtyZXR1cm4gZ319ZnVuY3Rpb24gQ2UoKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIHFhKGIsITApfX1mdW5jdGlvbiBEZSgpe3JldHVybiBmdW5jdGlvbihiLGEpe2lmKCFNKGIpJiYhdyhiKSlyZXR1cm4gYjthPVkoYSk7aWYodyhiKSlyZXR1cm4gYT8wPD1hP2Iuc2xpY2UoMCxhKTpiLnNsaWNlKGEsYi5sZW5ndGgpOlwiXCI7dmFyIGM9W10sZCxlO2E+Yi5sZW5ndGg/YT1iLmxlbmd0aDphPC1iLmxlbmd0aCYmKGE9LWIubGVuZ3RoKTswPGE/KGQ9MCxlPWEpOihkPWIubGVuZ3RoK2EsZT1iLmxlbmd0aCk7Zm9yKDtkPGU7ZCsrKWMucHVzaChiW2RdKTtyZXR1cm4gY319ZnVuY3Rpb24gTGMoYil7cmV0dXJuIGZ1bmN0aW9uKGEsYyxkKXtmdW5jdGlvbiBlKGEsYil7cmV0dXJuIFFhKGIpP2Z1bmN0aW9uKGIsYyl7cmV0dXJuIGEoYyxiKX06YX1cbmZ1bmN0aW9uIGcoYSxiKXt2YXIgYz10eXBlb2YgYSxkPXR5cGVvZiBiO3JldHVybiBjPT1kPyhcInN0cmluZ1wiPT1jJiYoYT1hLnRvTG93ZXJDYXNlKCksYj1iLnRvTG93ZXJDYXNlKCkpLGE9PT1iPzA6YTxiPy0xOjEpOmM8ZD8tMToxfWlmKCFNKGEpfHwhYylyZXR1cm4gYTtjPU0oYyk/YzpbY107Yz1VYyhjLGZ1bmN0aW9uKGEpe3ZhciBjPSExLGQ9YXx8RGE7aWYodyhhKSl7aWYoXCIrXCI9PWEuY2hhckF0KDApfHxcIi1cIj09YS5jaGFyQXQoMCkpYz1cIi1cIj09YS5jaGFyQXQoMCksYT1hLnN1YnN0cmluZygxKTtkPWIoYSk7aWYoZC5jb25zdGFudCl7dmFyIGY9ZCgpO3JldHVybiBlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGcoYVtmXSxiW2ZdKX0sYyl9fXJldHVybiBlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGcoZChhKSxkKGIpKX0sYyl9KTtmb3IodmFyIGY9W10saD0wO2g8YS5sZW5ndGg7aCsrKWYucHVzaChhW2hdKTtyZXR1cm4gZi5zb3J0KGUoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGQ9XG4wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdKGEsYik7aWYoMCE9PWUpcmV0dXJuIGV9cmV0dXJuIDB9LGQpKX19ZnVuY3Rpb24gdmEoYil7UChiKSYmKGI9e2xpbms6Yn0pO2IucmVzdHJpY3Q9Yi5yZXN0cmljdHx8XCJBQ1wiO3JldHVybiBhYShiKX1mdW5jdGlvbiBPYyhiLGEsYyxkKXtmdW5jdGlvbiBlKGEsYyl7Yz1jP1wiLVwiK2ZiKGMsXCItXCIpOlwiXCI7ZC5yZW1vdmVDbGFzcyhiLChhP3FiOnJiKStjKTtkLmFkZENsYXNzKGIsKGE/cmI6cWIpK2MpfXZhciBnPXRoaXMsZj1iLnBhcmVudCgpLmNvbnRyb2xsZXIoXCJmb3JtXCIpfHxzYixoPTAsbD1nLiRlcnJvcj17fSxrPVtdO2cuJG5hbWU9YS5uYW1lfHxhLm5nRm9ybTtnLiRkaXJ0eT0hMTtnLiRwcmlzdGluZT0hMDtnLiR2YWxpZD0hMDtnLiRpbnZhbGlkPSExO2YuJGFkZENvbnRyb2woZyk7Yi5hZGRDbGFzcyhMYSk7ZSghMCk7Zy4kYWRkQ29udHJvbD1mdW5jdGlvbihhKXtBYShhLiRuYW1lLFwiaW5wdXRcIik7ay5wdXNoKGEpO2EuJG5hbWUmJlxuKGdbYS4kbmFtZV09YSl9O2cuJHJlbW92ZUNvbnRyb2w9ZnVuY3Rpb24oYSl7YS4kbmFtZSYmZ1thLiRuYW1lXT09PWEmJmRlbGV0ZSBnW2EuJG5hbWVdO3EobCxmdW5jdGlvbihiLGMpe2cuJHNldFZhbGlkaXR5KGMsITAsYSl9KTtPYShrLGEpfTtnLiRzZXRWYWxpZGl0eT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bFthXTtpZihiKWQmJihPYShkLGMpLGQubGVuZ3RofHwoaC0tLGh8fChlKGIpLGcuJHZhbGlkPSEwLGcuJGludmFsaWQ9ITEpLGxbYV09ITEsZSghMCxhKSxmLiRzZXRWYWxpZGl0eShhLCEwLGcpKSk7ZWxzZXtofHxlKGIpO2lmKGQpe2lmKC0xIT1kYihkLGMpKXJldHVybn1lbHNlIGxbYV09ZD1bXSxoKyssZSghMSxhKSxmLiRzZXRWYWxpZGl0eShhLCExLGcpO2QucHVzaChjKTtnLiR2YWxpZD0hMTtnLiRpbnZhbGlkPSEwfX07Zy4kc2V0RGlydHk9ZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKGIsTGEpO2QuYWRkQ2xhc3MoYix0Yik7Zy4kZGlydHk9ITA7Zy4kcHJpc3RpbmU9XG4hMTtmLiRzZXREaXJ0eSgpfTtnLiRzZXRQcmlzdGluZT1mdW5jdGlvbigpe2QucmVtb3ZlQ2xhc3MoYix0Yik7ZC5hZGRDbGFzcyhiLExhKTtnLiRkaXJ0eT0hMTtnLiRwcmlzdGluZT0hMDtxKGssZnVuY3Rpb24oYSl7YS4kc2V0UHJpc3RpbmUoKX0pfX1mdW5jdGlvbiBwYShiLGEsYyxkKXtiLiRzZXRWYWxpZGl0eShhLGMpO3JldHVybiBjP2Q6c31mdW5jdGlvbiBKZShiLGEsYyl7dmFyIGQ9Yy5wcm9wKFwidmFsaWRpdHlcIik7WChkKSYmYi4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGMpe2lmKGIuJGVycm9yW2FdfHwhKGQuYmFkSW5wdXR8fGQuY3VzdG9tRXJyb3J8fGQudHlwZU1pc21hdGNoKXx8ZC52YWx1ZU1pc3NpbmcpcmV0dXJuIGM7Yi4kc2V0VmFsaWRpdHkoYSwhMSl9KX1mdW5jdGlvbiB1YihiLGEsYyxkLGUsZyl7dmFyIGY9YS5wcm9wKFwidmFsaWRpdHlcIik7aWYoIWUuYW5kcm9pZCl7dmFyIGg9ITE7YS5vbihcImNvbXBvc2l0aW9uc3RhcnRcIixmdW5jdGlvbihhKXtoPSEwfSk7XG5hLm9uKFwiY29tcG9zaXRpb25lbmRcIixmdW5jdGlvbigpe2g9ITE7bCgpfSl9dmFyIGw9ZnVuY3Rpb24oKXtpZighaCl7dmFyIGU9YS52YWwoKTtRYShjLm5nVHJpbXx8XCJUXCIpJiYoZT1jYShlKSk7aWYoZC4kdmlld1ZhbHVlIT09ZXx8ZiYmXCJcIj09PWUmJiFmLnZhbHVlTWlzc2luZyliLiQkcGhhc2U/ZC4kc2V0Vmlld1ZhbHVlKGUpOmIuJGFwcGx5KGZ1bmN0aW9uKCl7ZC4kc2V0Vmlld1ZhbHVlKGUpfSl9fTtpZihlLmhhc0V2ZW50KFwiaW5wdXRcIikpYS5vbihcImlucHV0XCIsbCk7ZWxzZXt2YXIgayxtPWZ1bmN0aW9uKCl7a3x8KGs9Zy5kZWZlcihmdW5jdGlvbigpe2woKTtrPW51bGx9KSl9O2Eub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7YT1hLmtleUNvZGU7OTE9PT1hfHwoMTU8YSYmMTk+YXx8Mzc8PWEmJjQwPj1hKXx8bSgpfSk7aWYoZS5oYXNFdmVudChcInBhc3RlXCIpKWEub24oXCJwYXN0ZSBjdXRcIixtKX1hLm9uKFwiY2hhbmdlXCIsbCk7ZC4kcmVuZGVyPWZ1bmN0aW9uKCl7YS52YWwoZC4kaXNFbXB0eShkLiR2aWV3VmFsdWUpP1xuXCJcIjpkLiR2aWV3VmFsdWUpfTt2YXIgbj1jLm5nUGF0dGVybjtuJiYoKGU9bi5tYXRjaCgvXlxcLyguKilcXC8oW2dpbV0qKSQvKSk/KG49UmVnRXhwKGVbMV0sZVsyXSksZT1mdW5jdGlvbihhKXtyZXR1cm4gcGEoZCxcInBhdHRlcm5cIixkLiRpc0VtcHR5KGEpfHxuLnRlc3QoYSksYSl9KTplPWZ1bmN0aW9uKGMpe3ZhciBlPWIuJGV2YWwobik7aWYoIWV8fCFlLnRlc3QpdGhyb3cgdChcIm5nUGF0dGVyblwiKShcIm5vcmVnZXhwXCIsbixlLGhhKGEpKTtyZXR1cm4gcGEoZCxcInBhdHRlcm5cIixkLiRpc0VtcHR5KGMpfHxlLnRlc3QoYyksYyl9LGQuJGZvcm1hdHRlcnMucHVzaChlKSxkLiRwYXJzZXJzLnB1c2goZSkpO2lmKGMubmdNaW5sZW5ndGgpe3ZhciBwPVkoYy5uZ01pbmxlbmd0aCk7ZT1mdW5jdGlvbihhKXtyZXR1cm4gcGEoZCxcIm1pbmxlbmd0aFwiLGQuJGlzRW1wdHkoYSl8fGEubGVuZ3RoPj1wLGEpfTtkLiRwYXJzZXJzLnB1c2goZSk7ZC4kZm9ybWF0dGVycy5wdXNoKGUpfWlmKGMubmdNYXhsZW5ndGgpe3ZhciByPVxuWShjLm5nTWF4bGVuZ3RoKTtlPWZ1bmN0aW9uKGEpe3JldHVybiBwYShkLFwibWF4bGVuZ3RoXCIsZC4kaXNFbXB0eShhKXx8YS5sZW5ndGg8PXIsYSl9O2QuJHBhcnNlcnMucHVzaChlKTtkLiRmb3JtYXR0ZXJzLnB1c2goZSl9fWZ1bmN0aW9uIFBiKGIsYSl7Yj1cIm5nQ2xhc3NcIitiO3JldHVybltcIiRhbmltYXRlXCIsZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZChhLGIpe3ZhciBjPVtdLGQ9MDthOmZvcig7ZDxhLmxlbmd0aDtkKyspe2Zvcih2YXIgZT1hW2RdLG09MDttPGIubGVuZ3RoO20rKylpZihlPT1iW21dKWNvbnRpbnVlIGE7Yy5wdXNoKGUpfXJldHVybiBjfWZ1bmN0aW9uIGUoYSl7aWYoIU0oYSkpe2lmKHcoYSkpcmV0dXJuIGEuc3BsaXQoXCIgXCIpO2lmKFgoYSkpe3ZhciBiPVtdO3EoYSxmdW5jdGlvbihhLGMpe2EmJmIucHVzaChjKX0pO3JldHVybiBifX1yZXR1cm4gYX1yZXR1cm57cmVzdHJpY3Q6XCJBQ1wiLGxpbms6ZnVuY3Rpb24oZyxmLGgpe2Z1bmN0aW9uIGwoYSxiKXt2YXIgYz1cbmYuZGF0YShcIiRjbGFzc0NvdW50c1wiKXx8e30sZD1bXTtxKGEsZnVuY3Rpb24oYSl7aWYoMDxifHxjW2FdKWNbYV09KGNbYV18fDApK2IsY1thXT09PSsoMDxiKSYmZC5wdXNoKGEpfSk7Zi5kYXRhKFwiJGNsYXNzQ291bnRzXCIsYyk7cmV0dXJuIGQuam9pbihcIiBcIil9ZnVuY3Rpb24gayhiKXtpZighMD09PWF8fGcuJGluZGV4JTI9PT1hKXt2YXIgaz1lKGJ8fFtdKTtpZighbSl7dmFyIHI9bChrLDEpO2guJGFkZENsYXNzKHIpfWVsc2UgaWYoIXhhKGIsbSkpe3ZhciBxPWUobSkscj1kKGsscSksaz1kKHEsayksaz1sKGssLTEpLHI9bChyLDEpOzA9PT1yLmxlbmd0aD9jLnJlbW92ZUNsYXNzKGYsayk6MD09PWsubGVuZ3RoP2MuYWRkQ2xhc3MoZixyKTpjLnNldENsYXNzKGYscixrKX19bT1iYShiKX12YXIgbTtnLiR3YXRjaChoW2JdLGssITApO2guJG9ic2VydmUoXCJjbGFzc1wiLGZ1bmN0aW9uKGEpe2soZy4kZXZhbChoW2JdKSl9KTtcIm5nQ2xhc3NcIiE9PWImJmcuJHdhdGNoKFwiJGluZGV4XCIsXG5mdW5jdGlvbihjLGQpe3ZhciBmPWMmMTtpZihmIT09ZCYxKXt2YXIgaz1lKGcuJGV2YWwoaFtiXSkpO2Y9PT1hPyhmPWwoaywxKSxoLiRhZGRDbGFzcyhmKSk6KGY9bChrLC0xKSxoLiRyZW1vdmVDbGFzcyhmKSl9fSl9fX1dfXZhciBLPWZ1bmN0aW9uKGIpe3JldHVybiB3KGIpP2IudG9Mb3dlckNhc2UoKTpifSxGYz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEZhPWZ1bmN0aW9uKGIpe3JldHVybiB3KGIpP2IudG9VcHBlckNhc2UoKTpifSxTLHksR2EseWE9W10uc2xpY2UsS2U9W10ucHVzaCx3YT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFBhPXQoXCJuZ1wiKSxFYT1PLmFuZ3VsYXJ8fChPLmFuZ3VsYXI9e30pLFNhLEthLGthPVtcIjBcIixcIjBcIixcIjBcIl07Uz1ZKCgvbXNpZSAoXFxkKykvLmV4ZWMoSyhuYXZpZ2F0b3IudXNlckFnZW50KSl8fFtdKVsxXSk7aXNOYU4oUykmJihTPVkoKC90cmlkZW50XFwvLio7IHJ2OihcXGQrKS8uZXhlYyhLKG5hdmlnYXRvci51c2VyQWdlbnQpKXx8XG5bXSlbMV0pKTtDLiRpbmplY3Q9W107RGEuJGluamVjdD1bXTt2YXIgY2E9ZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nLnByb3RvdHlwZS50cmltP2Z1bmN0aW9uKGIpe3JldHVybiB3KGIpP2IudHJpbSgpOmJ9OmZ1bmN0aW9uKGIpe3JldHVybiB3KGIpP2IucmVwbGFjZSgvXlxcc1xccyovLFwiXCIpLnJlcGxhY2UoL1xcc1xccyokLyxcIlwiKTpifX0oKTtLYT05PlM/ZnVuY3Rpb24oYil7Yj1iLm5vZGVOYW1lP2I6YlswXTtyZXR1cm4gYi5zY29wZU5hbWUmJlwiSFRNTFwiIT1iLnNjb3BlTmFtZT9GYShiLnNjb3BlTmFtZStcIjpcIitiLm5vZGVOYW1lKTpiLm5vZGVOYW1lfTpmdW5jdGlvbihiKXtyZXR1cm4gYi5ub2RlTmFtZT9iLm5vZGVOYW1lOmJbMF0ubm9kZU5hbWV9O3ZhciBYYz0vW0EtWl0vZywkYz17ZnVsbDpcIjEuMi4xNlwiLG1ham9yOjEsbWlub3I6Mixkb3Q6MTYsY29kZU5hbWU6XCJiYWRnZXItZW51bWVyYXRpb25cIn0sVWE9Ti5jYWNoZT17fSxnYj1OLmV4cGFuZG89XCJuZy1cIisobmV3IERhdGUpLmdldFRpbWUoKSxcbm1lPTEsUGM9Ty5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyP2Z1bmN0aW9uKGIsYSxjKXtiLmFkZEV2ZW50TGlzdGVuZXIoYSxjLCExKX06ZnVuY3Rpb24oYixhLGMpe2IuYXR0YWNoRXZlbnQoXCJvblwiK2EsYyl9LEZiPU8uZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcj9mdW5jdGlvbihiLGEsYyl7Yi5yZW1vdmVFdmVudExpc3RlbmVyKGEsYywhMSl9OmZ1bmN0aW9uKGIsYSxjKXtiLmRldGFjaEV2ZW50KFwib25cIithLGMpfTtOLl9kYXRhPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLmNhY2hlW2JbdGhpcy5leHBhbmRvXV18fHt9fTt2YXIgaGU9LyhbXFw6XFwtXFxfXSsoLikpL2csaWU9L15tb3ooW0EtWl0pLyxCYj10KFwianFMaXRlXCIpLGplPS9ePChcXHcrKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLyxDYj0vPHwmIz9cXHcrOy8sa2U9LzwoW1xcdzpdKykvLGxlPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6XSspW14+XSopXFwvPi9naSxlYT1cbntvcHRpb246WzEsJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPicsXCI8L3NlbGVjdD5cIl0sdGhlYWQ6WzEsXCI8dGFibGU+XCIsXCI8L3RhYmxlPlwiXSxjb2w6WzIsXCI8dGFibGU+PGNvbGdyb3VwPlwiLFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSx0cjpbMixcIjx0YWJsZT48dGJvZHk+XCIsXCI8L3Rib2R5PjwvdGFibGU+XCJdLHRkOlszLFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIl0sX2RlZmF1bHQ6WzAsXCJcIixcIlwiXX07ZWEub3B0Z3JvdXA9ZWEub3B0aW9uO2VhLnRib2R5PWVhLnRmb290PWVhLmNvbGdyb3VwPWVhLmNhcHRpb249ZWEudGhlYWQ7ZWEudGg9ZWEudGQ7dmFyIEphPU4ucHJvdG90eXBlPXtyZWFkeTpmdW5jdGlvbihiKXtmdW5jdGlvbiBhKCl7Y3x8KGM9ITAsYigpKX12YXIgYz0hMTtcImNvbXBsZXRlXCI9PT1VLnJlYWR5U3RhdGU/c2V0VGltZW91dChhKToodGhpcy5vbihcIkRPTUNvbnRlbnRMb2FkZWRcIixhKSxOKE8pLm9uKFwibG9hZFwiLGEpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgYj1cbltdO3EodGhpcyxmdW5jdGlvbihhKXtiLnB1c2goXCJcIithKX0pO3JldHVyblwiW1wiK2Iuam9pbihcIiwgXCIpK1wiXVwifSxlcTpmdW5jdGlvbihiKXtyZXR1cm4gMDw9Yj95KHRoaXNbYl0pOnkodGhpc1t0aGlzLmxlbmd0aCtiXSl9LGxlbmd0aDowLHB1c2g6S2Usc29ydDpbXS5zb3J0LHNwbGljZTpbXS5zcGxpY2V9LGtiPXt9O3EoXCJtdWx0aXBsZSBzZWxlY3RlZCBjaGVja2VkIGRpc2FibGVkIHJlYWRPbmx5IHJlcXVpcmVkIG9wZW5cIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYil7a2JbSyhiKV09Yn0pO3ZhciBuYz17fTtxKFwiaW5wdXQgc2VsZWN0IG9wdGlvbiB0ZXh0YXJlYSBidXR0b24gZm9ybSBkZXRhaWxzXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGIpe25jW0ZhKGIpXT0hMH0pO3Eoe2RhdGE6amMsaW5oZXJpdGVkRGF0YTpqYixzY29wZTpmdW5jdGlvbihiKXtyZXR1cm4geShiKS5kYXRhKFwiJHNjb3BlXCIpfHxqYihiLnBhcmVudE5vZGV8fGIsW1wiJGlzb2xhdGVTY29wZVwiLFwiJHNjb3BlXCJdKX0sXG5pc29sYXRlU2NvcGU6ZnVuY3Rpb24oYil7cmV0dXJuIHkoYikuZGF0YShcIiRpc29sYXRlU2NvcGVcIil8fHkoYikuZGF0YShcIiRpc29sYXRlU2NvcGVOb1RlbXBsYXRlXCIpfSxjb250cm9sbGVyOmtjLGluamVjdG9yOmZ1bmN0aW9uKGIpe3JldHVybiBqYihiLFwiJGluamVjdG9yXCIpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGIsYSl7Yi5yZW1vdmVBdHRyaWJ1dGUoYSl9LGhhc0NsYXNzOkdiLGNzczpmdW5jdGlvbihiLGEsYyl7YT1UYShhKTtpZihCKGMpKWIuc3R5bGVbYV09YztlbHNle3ZhciBkOzg+PVMmJihkPWIuY3VycmVudFN0eWxlJiZiLmN1cnJlbnRTdHlsZVthXSxcIlwiPT09ZCYmKGQ9XCJhdXRvXCIpKTtkPWR8fGIuc3R5bGVbYV07OD49UyYmKGQ9XCJcIj09PWQ/czpkKTtyZXR1cm4gZH19LGF0dHI6ZnVuY3Rpb24oYixhLGMpe3ZhciBkPUsoYSk7aWYoa2JbZF0paWYoQihjKSljPyhiW2FdPSEwLGIuc2V0QXR0cmlidXRlKGEsZCkpOihiW2FdPSExLGIucmVtb3ZlQXR0cmlidXRlKGQpKTtcbmVsc2UgcmV0dXJuIGJbYV18fChiLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGEpfHxDKS5zcGVjaWZpZWQ/ZDpzO2Vsc2UgaWYoQihjKSliLnNldEF0dHJpYnV0ZShhLGMpO2Vsc2UgaWYoYi5nZXRBdHRyaWJ1dGUpcmV0dXJuIGI9Yi5nZXRBdHRyaWJ1dGUoYSwyKSxudWxsPT09Yj9zOmJ9LHByb3A6ZnVuY3Rpb24oYixhLGMpe2lmKEIoYykpYlthXT1jO2Vsc2UgcmV0dXJuIGJbYV19LHRleHQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZCl7dmFyIGU9YVtiLm5vZGVUeXBlXTtpZihFKGQpKXJldHVybiBlP2JbZV06XCJcIjtiW2VdPWR9dmFyIGE9W107OT5TPyhhWzFdPVwiaW5uZXJUZXh0XCIsYVszXT1cIm5vZGVWYWx1ZVwiKTphWzFdPWFbM109XCJ0ZXh0Q29udGVudFwiO2IuJGR2PVwiXCI7cmV0dXJuIGJ9KCksdmFsOmZ1bmN0aW9uKGIsYSl7aWYoRShhKSl7aWYoXCJTRUxFQ1RcIj09PUthKGIpJiZiLm11bHRpcGxlKXt2YXIgYz1bXTtxKGIub3B0aW9ucyxmdW5jdGlvbihhKXthLnNlbGVjdGVkJiZcbmMucHVzaChhLnZhbHVlfHxhLnRleHQpfSk7cmV0dXJuIDA9PT1jLmxlbmd0aD9udWxsOmN9cmV0dXJuIGIudmFsdWV9Yi52YWx1ZT1hfSxodG1sOmZ1bmN0aW9uKGIsYSl7aWYoRShhKSlyZXR1cm4gYi5pbm5lckhUTUw7Zm9yKHZhciBjPTAsZD1iLmNoaWxkTm9kZXM7YzxkLmxlbmd0aDtjKyspSGEoZFtjXSk7Yi5pbm5lckhUTUw9YX0sZW1wdHk6bGN9LGZ1bmN0aW9uKGIsYSl7Ti5wcm90b3R5cGVbYV09ZnVuY3Rpb24oYSxkKXt2YXIgZSxnO2lmKGIhPT1sYyYmKDI9PWIubGVuZ3RoJiZiIT09R2ImJmIhPT1rYz9hOmQpPT09cyl7aWYoWChhKSl7Zm9yKGU9MDtlPHRoaXMubGVuZ3RoO2UrKylpZihiPT09amMpYih0aGlzW2VdLGEpO2Vsc2UgZm9yKGcgaW4gYSliKHRoaXNbZV0sZyxhW2ddKTtyZXR1cm4gdGhpc31lPWIuJGR2O2c9ZT09PXM/TWF0aC5taW4odGhpcy5sZW5ndGgsMSk6dGhpcy5sZW5ndGg7Zm9yKHZhciBmPTA7ZjxnO2YrKyl7dmFyIGg9Yih0aGlzW2ZdLGEsZCk7ZT1cbmU/ZStoOmh9cmV0dXJuIGV9Zm9yKGU9MDtlPHRoaXMubGVuZ3RoO2UrKyliKHRoaXNbZV0sYSxkKTtyZXR1cm4gdGhpc319KTtxKHtyZW1vdmVEYXRhOmhjLGRlYWxvYzpIYSxvbjpmdW5jdGlvbiBhKGMsZCxlLGcpe2lmKEIoZykpdGhyb3cgQmIoXCJvbmFyZ3NcIik7dmFyIGY9bGEoYyxcImV2ZW50c1wiKSxoPWxhKGMsXCJoYW5kbGVcIik7Znx8bGEoYyxcImV2ZW50c1wiLGY9e30pO2h8fGxhKGMsXCJoYW5kbGVcIixoPW5lKGMsZikpO3EoZC5zcGxpdChcIiBcIiksZnVuY3Rpb24oZCl7dmFyIGc9ZltkXTtpZighZyl7aWYoXCJtb3VzZWVudGVyXCI9PWR8fFwibW91c2VsZWF2ZVwiPT1kKXt2YXIgbT1VLmJvZHkuY29udGFpbnN8fFUuYm9keS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihhLGMpe3ZhciBkPTk9PT1hLm5vZGVUeXBlP2EuZG9jdW1lbnRFbGVtZW50OmEsZT1jJiZjLnBhcmVudE5vZGU7cmV0dXJuIGE9PT1lfHwhIShlJiYxPT09ZS5ub2RlVHlwZSYmKGQuY29udGFpbnM/ZC5jb250YWlucyhlKTpcbmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSkmMTYpKX06ZnVuY3Rpb24oYSxjKXtpZihjKWZvcig7Yz1jLnBhcmVudE5vZGU7KWlmKGM9PT1hKXJldHVybiEwO3JldHVybiExfTtmW2RdPVtdO2EoYyx7bW91c2VsZWF2ZTpcIm1vdXNlb3V0XCIsbW91c2VlbnRlcjpcIm1vdXNlb3ZlclwifVtkXSxmdW5jdGlvbihhKXt2YXIgYz1hLnJlbGF0ZWRUYXJnZXQ7YyYmKGM9PT10aGlzfHxtKHRoaXMsYykpfHxoKGEsZCl9KX1lbHNlIFBjKGMsZCxoKSxmW2RdPVtdO2c9ZltkXX1nLnB1c2goZSl9KX0sb2ZmOmljLG9uZTpmdW5jdGlvbihhLGMsZCl7YT15KGEpO2Eub24oYyxmdW5jdGlvbiBnKCl7YS5vZmYoYyxkKTthLm9mZihjLGcpfSk7YS5vbihjLGQpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihhLGMpe3ZhciBkLGU9YS5wYXJlbnROb2RlO0hhKGEpO3EobmV3IE4oYyksZnVuY3Rpb24oYyl7ZD9lLmluc2VydEJlZm9yZShjLGQubmV4dFNpYmxpbmcpOlxuZS5yZXBsYWNlQ2hpbGQoYyxhKTtkPWN9KX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7dmFyIGM9W107cShhLmNoaWxkTm9kZXMsZnVuY3Rpb24oYSl7MT09PWEubm9kZVR5cGUmJmMucHVzaChhKX0pO3JldHVybiBjfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50RG9jdW1lbnR8fGEuY2hpbGROb2Rlc3x8W119LGFwcGVuZDpmdW5jdGlvbihhLGMpe3EobmV3IE4oYyksZnVuY3Rpb24oYyl7MSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZXx8YS5hcHBlbmRDaGlsZChjKX0pfSxwcmVwZW5kOmZ1bmN0aW9uKGEsYyl7aWYoMT09PWEubm9kZVR5cGUpe3ZhciBkPWEuZmlyc3RDaGlsZDtxKG5ldyBOKGMpLGZ1bmN0aW9uKGMpe2EuaW5zZXJ0QmVmb3JlKGMsZCl9KX19LHdyYXA6ZnVuY3Rpb24oYSxjKXtjPXkoYylbMF07dmFyIGQ9YS5wYXJlbnROb2RlO2QmJmQucmVwbGFjZUNoaWxkKGMsYSk7Yy5hcHBlbmRDaGlsZChhKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe0hhKGEpO1xudmFyIGM9YS5wYXJlbnROb2RlO2MmJmMucmVtb3ZlQ2hpbGQoYSl9LGFmdGVyOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9YSxlPWEucGFyZW50Tm9kZTtxKG5ldyBOKGMpLGZ1bmN0aW9uKGEpe2UuaW5zZXJ0QmVmb3JlKGEsZC5uZXh0U2libGluZyk7ZD1hfSl9LGFkZENsYXNzOmliLHJlbW92ZUNsYXNzOmhiLHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYyxkKXtjJiZxKGMuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGMpe3ZhciBnPWQ7RShnKSYmKGc9IUdiKGEsYykpOyhnP2liOmhiKShhLGMpfSl9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4oYT1hLnBhcmVudE5vZGUpJiYxMSE9PWEubm9kZVR5cGU/YTpudWxsfSxuZXh0OmZ1bmN0aW9uKGEpe2lmKGEubmV4dEVsZW1lbnRTaWJsaW5nKXJldHVybiBhLm5leHRFbGVtZW50U2libGluZztmb3IoYT1hLm5leHRTaWJsaW5nO251bGwhPWEmJjEhPT1hLm5vZGVUeXBlOylhPWEubmV4dFNpYmxpbmc7cmV0dXJuIGF9LGZpbmQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYS5nZXRFbGVtZW50c0J5VGFnTmFtZT9cbmEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYyk6W119LGNsb25lOkViLHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYyxkKXtjPShsYShhLFwiZXZlbnRzXCIpfHx7fSlbY107ZD1kfHxbXTt2YXIgZT1be3ByZXZlbnREZWZhdWx0OkMsc3RvcFByb3BhZ2F0aW9uOkN9XTtxKGMsZnVuY3Rpb24oYyl7Yy5hcHBseShhLGUuY29uY2F0KGQpKX0pfX0sZnVuY3Rpb24oYSxjKXtOLnByb3RvdHlwZVtjXT1mdW5jdGlvbihjLGUsZyl7Zm9yKHZhciBmLGg9MDtoPHRoaXMubGVuZ3RoO2grKylFKGYpPyhmPWEodGhpc1toXSxjLGUsZyksQihmKSYmKGY9eShmKSkpOkRiKGYsYSh0aGlzW2hdLGMsZSxnKSk7cmV0dXJuIEIoZik/Zjp0aGlzfTtOLnByb3RvdHlwZS5iaW5kPU4ucHJvdG90eXBlLm9uO04ucHJvdG90eXBlLnVuYmluZD1OLnByb3RvdHlwZS5vZmZ9KTtWYS5wcm90b3R5cGU9e3B1dDpmdW5jdGlvbihhLGMpe3RoaXNbSWEoYSldPWN9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpc1tJYShhKV19LFxucmVtb3ZlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXNbYT1JYShhKV07ZGVsZXRlIHRoaXNbYV07cmV0dXJuIGN9fTt2YXIgcGU9L15mdW5jdGlvblxccypbXlxcKF0qXFwoXFxzKihbXlxcKV0qKVxcKS9tLHFlPS8sLyxyZT0vXlxccyooXz8pKFxcUys/KVxcMVxccyokLyxvZT0vKChcXC9cXC8uKiQpfChcXC9cXCpbXFxzXFxTXSo/XFwqXFwvKSkvbWcsV2E9dChcIiRpbmplY3RvclwiKSxMZT10KFwiJGFuaW1hdGVcIiksTGQ9W1wiJHByb3ZpZGVcIixmdW5jdGlvbihhKXt0aGlzLiQkc2VsZWN0b3JzPXt9O3RoaXMucmVnaXN0ZXI9ZnVuY3Rpb24oYyxkKXt2YXIgZT1jK1wiLWFuaW1hdGlvblwiO2lmKGMmJlwiLlwiIT1jLmNoYXJBdCgwKSl0aHJvdyBMZShcIm5vdGNzZWxcIixjKTt0aGlzLiQkc2VsZWN0b3JzW2Muc3Vic3RyKDEpXT1lO2EuZmFjdG9yeShlLGQpfTt0aGlzLmNsYXNzTmFtZUZpbHRlcj1mdW5jdGlvbihhKXsxPT09YXJndW1lbnRzLmxlbmd0aCYmKHRoaXMuJCRjbGFzc05hbWVGaWx0ZXI9YSBpbnN0YW5jZW9mIFJlZ0V4cD9cbmE6bnVsbCk7cmV0dXJuIHRoaXMuJCRjbGFzc05hbWVGaWx0ZXJ9O3RoaXMuJGdldD1bXCIkdGltZW91dFwiLFwiJCRhc3luY0NhbGxiYWNrXCIsZnVuY3Rpb24oYSxkKXtyZXR1cm57ZW50ZXI6ZnVuY3Rpb24oYSxjLGYsaCl7Zj9mLmFmdGVyKGEpOihjJiZjWzBdfHwoYz1mLnBhcmVudCgpKSxjLmFwcGVuZChhKSk7aCYmZChoKX0sbGVhdmU6ZnVuY3Rpb24oYSxjKXthLnJlbW92ZSgpO2MmJmQoYyl9LG1vdmU6ZnVuY3Rpb24oYSxjLGQsaCl7dGhpcy5lbnRlcihhLGMsZCxoKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSxjLGYpe2M9dyhjKT9jOk0oYyk/Yy5qb2luKFwiIFwiKTpcIlwiO3EoYSxmdW5jdGlvbihhKXtpYihhLGMpfSk7ZiYmZChmKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSxjLGYpe2M9dyhjKT9jOk0oYyk/Yy5qb2luKFwiIFwiKTpcIlwiO3EoYSxmdW5jdGlvbihhKXtoYihhLGMpfSk7ZiYmZChmKX0sc2V0Q2xhc3M6ZnVuY3Rpb24oYSxjLGYsaCl7cShhLGZ1bmN0aW9uKGEpe2liKGEsYyk7aGIoYSxcbmYpfSk7aCYmZChoKX0sZW5hYmxlZDpDfX1dfV0samE9dChcIiRjb21waWxlXCIpO2NjLiRpbmplY3Q9W1wiJHByb3ZpZGVcIixcIiQkc2FuaXRpemVVcmlQcm92aWRlclwiXTt2YXIgdGU9L14oeFtcXDpcXC1fXXxkYXRhW1xcOlxcLV9dKS9pLHZjPXQoXCIkaW50ZXJwb2xhdGVcIiksTWU9L14oW15cXD8jXSopKFxcPyhbXiNdKikpPygjKC4qKSk/JC8sd2U9e2h0dHA6ODAsaHR0cHM6NDQzLGZ0cDoyMX0sS2I9dChcIiRsb2NhdGlvblwiKTtBYy5wcm90b3R5cGU9TGIucHJvdG90eXBlPXpjLnByb3RvdHlwZT17JCRodG1sNTohMSwkJHJlcGxhY2U6ITEsYWJzVXJsOm5iKFwiJCRhYnNVcmxcIiksdXJsOmZ1bmN0aW9uKGEsYyl7aWYoRShhKSlyZXR1cm4gdGhpcy4kJHVybDt2YXIgZD1NZS5leGVjKGEpO2RbMV0mJnRoaXMucGF0aChkZWNvZGVVUklDb21wb25lbnQoZFsxXSkpOyhkWzJdfHxkWzFdKSYmdGhpcy5zZWFyY2goZFszXXx8XCJcIik7dGhpcy5oYXNoKGRbNV18fFwiXCIsYyk7cmV0dXJuIHRoaXN9LHByb3RvY29sOm5iKFwiJCRwcm90b2NvbFwiKSxcbmhvc3Q6bmIoXCIkJGhvc3RcIikscG9ydDpuYihcIiQkcG9ydFwiKSxwYXRoOkJjKFwiJCRwYXRoXCIsZnVuY3Rpb24oYSl7cmV0dXJuXCIvXCI9PWEuY2hhckF0KDApP2E6XCIvXCIrYX0pLHNlYXJjaDpmdW5jdGlvbihhLGMpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHRoaXMuJCRzZWFyY2g7Y2FzZSAxOmlmKHcoYSkpdGhpcy4kJHNlYXJjaD1ZYihhKTtlbHNlIGlmKFgoYSkpdGhpcy4kJHNlYXJjaD1hO2Vsc2UgdGhyb3cgS2IoXCJpc3JjaGFyZ1wiKTticmVhaztkZWZhdWx0OkUoYyl8fG51bGw9PT1jP2RlbGV0ZSB0aGlzLiQkc2VhcmNoW2FdOnRoaXMuJCRzZWFyY2hbYV09Y310aGlzLiQkY29tcG9zZSgpO3JldHVybiB0aGlzfSxoYXNoOkJjKFwiJCRoYXNoXCIsRGEpLHJlcGxhY2U6ZnVuY3Rpb24oKXt0aGlzLiQkcmVwbGFjZT0hMDtyZXR1cm4gdGhpc319O3ZhciBCYT10KFwiJHBhcnNlXCIpLEVjPXt9LHRhLE1hPXtcIm51bGxcIjpmdW5jdGlvbigpe3JldHVybiBudWxsfSxcInRydWVcIjpmdW5jdGlvbigpe3JldHVybiEwfSxcblwiZmFsc2VcIjpmdW5jdGlvbigpe3JldHVybiExfSx1bmRlZmluZWQ6QyxcIitcIjpmdW5jdGlvbihhLGMsZCxlKXtkPWQoYSxjKTtlPWUoYSxjKTtyZXR1cm4gQihkKT9CKGUpP2QrZTpkOkIoZSk/ZTpzfSxcIi1cIjpmdW5jdGlvbihhLGMsZCxlKXtkPWQoYSxjKTtlPWUoYSxjKTtyZXR1cm4oQihkKT9kOjApLShCKGUpP2U6MCl9LFwiKlwiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYykqZShhLGMpfSxcIi9cIjpmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gZChhLGMpL2UoYSxjKX0sXCIlXCI6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIGQoYSxjKSVlKGEsYyl9LFwiXlwiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYyleZShhLGMpfSxcIj1cIjpDLFwiPT09XCI6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIGQoYSxjKT09PWUoYSxjKX0sXCIhPT1cIjpmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gZChhLGMpIT09ZShhLGMpfSxcIj09XCI6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIGQoYSxjKT09ZShhLFxuYyl9LFwiIT1cIjpmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gZChhLGMpIT1lKGEsYyl9LFwiPFwiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYyk8ZShhLGMpfSxcIj5cIjpmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gZChhLGMpPmUoYSxjKX0sXCI8PVwiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYyk8PWUoYSxjKX0sXCI+PVwiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYyk+PWUoYSxjKX0sXCImJlwiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYykmJmUoYSxjKX0sXCJ8fFwiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBkKGEsYyl8fGUoYSxjKX0sXCImXCI6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIGQoYSxjKSZlKGEsYyl9LFwifFwiOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBlKGEsYykoYSxjLGQoYSxjKSl9LFwiIVwiOmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4hZChhLGMpfX0sTmU9e246XCJcXG5cIixmOlwiXFxmXCIscjpcIlxcclwiLHQ6XCJcXHRcIix2OlwiXFx2XCIsXCInXCI6XCInXCIsJ1wiJzonXCInfSxcbk5iPWZ1bmN0aW9uKGEpe3RoaXMub3B0aW9ucz1hfTtOYi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk5iLGxleDpmdW5jdGlvbihhKXt0aGlzLnRleHQ9YTt0aGlzLmluZGV4PTA7dGhpcy5jaD1zO3RoaXMubGFzdENoPVwiOlwiO3RoaXMudG9rZW5zPVtdO3ZhciBjO2ZvcihhPVtdO3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspe3RoaXMuY2g9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtpZih0aGlzLmlzKFwiXFxcIidcIikpdGhpcy5yZWFkU3RyaW5nKHRoaXMuY2gpO2Vsc2UgaWYodGhpcy5pc051bWJlcih0aGlzLmNoKXx8dGhpcy5pcyhcIi5cIikmJnRoaXMuaXNOdW1iZXIodGhpcy5wZWVrKCkpKXRoaXMucmVhZE51bWJlcigpO2Vsc2UgaWYodGhpcy5pc0lkZW50KHRoaXMuY2gpKXRoaXMucmVhZElkZW50KCksdGhpcy53YXMoXCJ7LFwiKSYmKFwie1wiPT09YVswXSYmKGM9dGhpcy50b2tlbnNbdGhpcy50b2tlbnMubGVuZ3RoLTFdKSkmJihjLmpzb249LTE9PT1jLnRleHQuaW5kZXhPZihcIi5cIikpO1xuZWxzZSBpZih0aGlzLmlzKFwiKCl7fVtdLiw7Oj9cIikpdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OnRoaXMuY2gsanNvbjp0aGlzLndhcyhcIjpbLFwiKSYmdGhpcy5pcyhcIntbXCIpfHx0aGlzLmlzKFwifV06LFwiKX0pLHRoaXMuaXMoXCJ7W1wiKSYmYS51bnNoaWZ0KHRoaXMuY2gpLHRoaXMuaXMoXCJ9XVwiKSYmYS5zaGlmdCgpLHRoaXMuaW5kZXgrKztlbHNlIGlmKHRoaXMuaXNXaGl0ZXNwYWNlKHRoaXMuY2gpKXt0aGlzLmluZGV4Kys7Y29udGludWV9ZWxzZXt2YXIgZD10aGlzLmNoK3RoaXMucGVlaygpLGU9ZCt0aGlzLnBlZWsoMiksZz1NYVt0aGlzLmNoXSxmPU1hW2RdLGg9TWFbZV07aD8odGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OmUsZm46aH0pLHRoaXMuaW5kZXgrPTMpOmY/KHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDpkLGZuOmZ9KSx0aGlzLmluZGV4Kz0yKTpnPyh0aGlzLnRva2Vucy5wdXNoKHtpbmRleDp0aGlzLmluZGV4LFxudGV4dDp0aGlzLmNoLGZuOmcsanNvbjp0aGlzLndhcyhcIlssOlwiKSYmdGhpcy5pcyhcIistXCIpfSksdGhpcy5pbmRleCs9MSk6dGhpcy50aHJvd0Vycm9yKFwiVW5leHBlY3RlZCBuZXh0IGNoYXJhY3RlciBcIix0aGlzLmluZGV4LHRoaXMuaW5kZXgrMSl9dGhpcy5sYXN0Q2g9dGhpcy5jaH1yZXR1cm4gdGhpcy50b2tlbnN9LGlzOmZ1bmN0aW9uKGEpe3JldHVybi0xIT09YS5pbmRleE9mKHRoaXMuY2gpfSx3YXM6ZnVuY3Rpb24oYSl7cmV0dXJuLTEhPT1hLmluZGV4T2YodGhpcy5sYXN0Q2gpfSxwZWVrOmZ1bmN0aW9uKGEpe2E9YXx8MTtyZXR1cm4gdGhpcy5pbmRleCthPHRoaXMudGV4dC5sZW5ndGg/dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4K2EpOiExfSxpc051bWJlcjpmdW5jdGlvbihhKXtyZXR1cm5cIjBcIjw9YSYmXCI5XCI+PWF9LGlzV2hpdGVzcGFjZTpmdW5jdGlvbihhKXtyZXR1cm5cIiBcIj09PWF8fFwiXFxyXCI9PT1hfHxcIlxcdFwiPT09YXx8XCJcXG5cIj09PWF8fFwiXFx2XCI9PT1hfHxcIlxcdTAwYTBcIj09PVxuYX0saXNJZGVudDpmdW5jdGlvbihhKXtyZXR1cm5cImFcIjw9YSYmXCJ6XCI+PWF8fFwiQVwiPD1hJiZcIlpcIj49YXx8XCJfXCI9PT1hfHxcIiRcIj09PWF9LGlzRXhwT3BlcmF0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuXCItXCI9PT1hfHxcIitcIj09PWF8fHRoaXMuaXNOdW1iZXIoYSl9LHRocm93RXJyb3I6ZnVuY3Rpb24oYSxjLGQpe2Q9ZHx8dGhpcy5pbmRleDtjPUIoYyk/XCJzIFwiK2MrXCItXCIrdGhpcy5pbmRleCtcIiBbXCIrdGhpcy50ZXh0LnN1YnN0cmluZyhjLGQpK1wiXVwiOlwiIFwiK2Q7dGhyb3cgQmEoXCJsZXhlcnJcIixhLGMsdGhpcy50ZXh0KTt9LHJlYWROdW1iZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGE9XCJcIixjPXRoaXMuaW5kZXg7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOyl7dmFyIGQ9Syh0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpKTtpZihcIi5cIj09ZHx8dGhpcy5pc051bWJlcihkKSlhKz1kO2Vsc2V7dmFyIGU9dGhpcy5wZWVrKCk7aWYoXCJlXCI9PWQmJnRoaXMuaXNFeHBPcGVyYXRvcihlKSlhKz1cbmQ7ZWxzZSBpZih0aGlzLmlzRXhwT3BlcmF0b3IoZCkmJmUmJnRoaXMuaXNOdW1iZXIoZSkmJlwiZVwiPT1hLmNoYXJBdChhLmxlbmd0aC0xKSlhKz1kO2Vsc2UgaWYoIXRoaXMuaXNFeHBPcGVyYXRvcihkKXx8ZSYmdGhpcy5pc051bWJlcihlKXx8XCJlXCIhPWEuY2hhckF0KGEubGVuZ3RoLTEpKWJyZWFrO2Vsc2UgdGhpcy50aHJvd0Vycm9yKFwiSW52YWxpZCBleHBvbmVudFwiKX10aGlzLmluZGV4Kyt9YSo9MTt0aGlzLnRva2Vucy5wdXNoKHtpbmRleDpjLHRleHQ6YSxqc29uOiEwLGZuOmZ1bmN0aW9uKCl7cmV0dXJuIGF9fSl9LHJlYWRJZGVudDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLGM9XCJcIixkPXRoaXMuaW5kZXgsZSxnLGYsaDt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXtoPXRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7aWYoXCIuXCI9PT1ofHx0aGlzLmlzSWRlbnQoaCl8fHRoaXMuaXNOdW1iZXIoaCkpXCIuXCI9PT1oJiYoZT10aGlzLmluZGV4KSxjKz1oO2Vsc2UgYnJlYWs7XG50aGlzLmluZGV4Kyt9aWYoZSlmb3IoZz10aGlzLmluZGV4O2c8dGhpcy50ZXh0Lmxlbmd0aDspe2g9dGhpcy50ZXh0LmNoYXJBdChnKTtpZihcIihcIj09PWgpe2Y9Yy5zdWJzdHIoZS1kKzEpO2M9Yy5zdWJzdHIoMCxlLWQpO3RoaXMuaW5kZXg9ZzticmVha31pZih0aGlzLmlzV2hpdGVzcGFjZShoKSlnKys7ZWxzZSBicmVha31kPXtpbmRleDpkLHRleHQ6Y307aWYoTWEuaGFzT3duUHJvcGVydHkoYykpZC5mbj1NYVtjXSxkLmpzb249TWFbY107ZWxzZXt2YXIgbD1EYyhjLHRoaXMub3B0aW9ucyx0aGlzLnRleHQpO2QuZm49RChmdW5jdGlvbihhLGMpe3JldHVybiBsKGEsYyl9LHthc3NpZ246ZnVuY3Rpb24oZCxlKXtyZXR1cm4gb2IoZCxjLGUsYS50ZXh0LGEub3B0aW9ucyl9fSl9dGhpcy50b2tlbnMucHVzaChkKTtmJiYodGhpcy50b2tlbnMucHVzaCh7aW5kZXg6ZSx0ZXh0OlwiLlwiLGpzb246ITF9KSx0aGlzLnRva2Vucy5wdXNoKHtpbmRleDplKzEsdGV4dDpmLGpzb246ITF9KSl9LFxucmVhZFN0cmluZzpmdW5jdGlvbihhKXt2YXIgYz10aGlzLmluZGV4O3RoaXMuaW5kZXgrKztmb3IodmFyIGQ9XCJcIixlPWEsZz0hMTt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXt2YXIgZj10aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpLGU9ZStmO2lmKGcpXCJ1XCI9PT1mPyhmPXRoaXMudGV4dC5zdWJzdHJpbmcodGhpcy5pbmRleCsxLHRoaXMuaW5kZXgrNSksZi5tYXRjaCgvW1xcZGEtZl17NH0vaSl8fHRoaXMudGhyb3dFcnJvcihcIkludmFsaWQgdW5pY29kZSBlc2NhcGUgW1xcXFx1XCIrZitcIl1cIiksdGhpcy5pbmRleCs9NCxkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGYsMTYpKSk6ZD0oZz1OZVtmXSk/ZCtnOmQrZixnPSExO2Vsc2UgaWYoXCJcXFxcXCI9PT1mKWc9ITA7ZWxzZXtpZihmPT09YSl7dGhpcy5pbmRleCsrO3RoaXMudG9rZW5zLnB1c2goe2luZGV4OmMsdGV4dDplLHN0cmluZzpkLGpzb246ITAsZm46ZnVuY3Rpb24oKXtyZXR1cm4gZH19KTtyZXR1cm59ZCs9XG5mfXRoaXMuaW5kZXgrK310aGlzLnRocm93RXJyb3IoXCJVbnRlcm1pbmF0ZWQgcXVvdGVcIixjKX19O3ZhciAkYT1mdW5jdGlvbihhLGMsZCl7dGhpcy5sZXhlcj1hO3RoaXMuJGZpbHRlcj1jO3RoaXMub3B0aW9ucz1kfTskYS5aRVJPPUQoZnVuY3Rpb24oKXtyZXR1cm4gMH0se2NvbnN0YW50OiEwfSk7JGEucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjokYSxwYXJzZTpmdW5jdGlvbihhLGMpe3RoaXMudGV4dD1hO3RoaXMuanNvbj1jO3RoaXMudG9rZW5zPXRoaXMubGV4ZXIubGV4KGEpO2MmJih0aGlzLmFzc2lnbm1lbnQ9dGhpcy5sb2dpY2FsT1IsdGhpcy5mdW5jdGlvbkNhbGw9dGhpcy5maWVsZEFjY2Vzcz10aGlzLm9iamVjdEluZGV4PXRoaXMuZmlsdGVyQ2hhaW49ZnVuY3Rpb24oKXt0aGlzLnRocm93RXJyb3IoXCJpcyBub3QgdmFsaWQganNvblwiLHt0ZXh0OmEsaW5kZXg6MH0pfSk7dmFyIGQ9Yz90aGlzLnByaW1hcnkoKTp0aGlzLnN0YXRlbWVudHMoKTswIT09dGhpcy50b2tlbnMubGVuZ3RoJiZcbnRoaXMudGhyb3dFcnJvcihcImlzIGFuIHVuZXhwZWN0ZWQgdG9rZW5cIix0aGlzLnRva2Vuc1swXSk7ZC5saXRlcmFsPSEhZC5saXRlcmFsO2QuY29uc3RhbnQ9ISFkLmNvbnN0YW50O3JldHVybiBkfSxwcmltYXJ5OmZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5leHBlY3QoXCIoXCIpKWE9dGhpcy5maWx0ZXJDaGFpbigpLHRoaXMuY29uc3VtZShcIilcIik7ZWxzZSBpZih0aGlzLmV4cGVjdChcIltcIikpYT10aGlzLmFycmF5RGVjbGFyYXRpb24oKTtlbHNlIGlmKHRoaXMuZXhwZWN0KFwie1wiKSlhPXRoaXMub2JqZWN0KCk7ZWxzZXt2YXIgYz10aGlzLmV4cGVjdCgpOyhhPWMuZm4pfHx0aGlzLnRocm93RXJyb3IoXCJub3QgYSBwcmltYXJ5IGV4cHJlc3Npb25cIixjKTtjLmpzb24mJihhLmNvbnN0YW50PSEwLGEubGl0ZXJhbD0hMCl9Zm9yKHZhciBkO2M9dGhpcy5leHBlY3QoXCIoXCIsXCJbXCIsXCIuXCIpOylcIihcIj09PWMudGV4dD8oYT10aGlzLmZ1bmN0aW9uQ2FsbChhLGQpLGQ9bnVsbCk6XCJbXCI9PT1jLnRleHQ/XG4oZD1hLGE9dGhpcy5vYmplY3RJbmRleChhKSk6XCIuXCI9PT1jLnRleHQ/KGQ9YSxhPXRoaXMuZmllbGRBY2Nlc3MoYSkpOnRoaXMudGhyb3dFcnJvcihcIklNUE9TU0lCTEVcIik7cmV0dXJuIGF9LHRocm93RXJyb3I6ZnVuY3Rpb24oYSxjKXt0aHJvdyBCYShcInN5bnRheFwiLGMudGV4dCxhLGMuaW5kZXgrMSx0aGlzLnRleHQsdGhpcy50ZXh0LnN1YnN0cmluZyhjLmluZGV4KSk7fSxwZWVrVG9rZW46ZnVuY3Rpb24oKXtpZigwPT09dGhpcy50b2tlbnMubGVuZ3RoKXRocm93IEJhKFwidWVvZVwiLHRoaXMudGV4dCk7cmV0dXJuIHRoaXMudG9rZW5zWzBdfSxwZWVrOmZ1bmN0aW9uKGEsYyxkLGUpe2lmKDA8dGhpcy50b2tlbnMubGVuZ3RoKXt2YXIgZz10aGlzLnRva2Vuc1swXSxmPWcudGV4dDtpZihmPT09YXx8Zj09PWN8fGY9PT1kfHxmPT09ZXx8IShhfHxjfHxkfHxlKSlyZXR1cm4gZ31yZXR1cm4hMX0sZXhwZWN0OmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybihhPXRoaXMucGVlayhhLGMsZCxcbmUpKT8odGhpcy5qc29uJiYhYS5qc29uJiZ0aGlzLnRocm93RXJyb3IoXCJpcyBub3QgdmFsaWQganNvblwiLGEpLHRoaXMudG9rZW5zLnNoaWZ0KCksYSk6ITF9LGNvbnN1bWU6ZnVuY3Rpb24oYSl7dGhpcy5leHBlY3QoYSl8fHRoaXMudGhyb3dFcnJvcihcImlzIHVuZXhwZWN0ZWQsIGV4cGVjdGluZyBbXCIrYStcIl1cIix0aGlzLnBlZWsoKSl9LHVuYXJ5Rm46ZnVuY3Rpb24oYSxjKXtyZXR1cm4gRChmdW5jdGlvbihkLGUpe3JldHVybiBhKGQsZSxjKX0se2NvbnN0YW50OmMuY29uc3RhbnR9KX0sdGVybmFyeUZuOmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gRChmdW5jdGlvbihlLGcpe3JldHVybiBhKGUsZyk/YyhlLGcpOmQoZSxnKX0se2NvbnN0YW50OmEuY29uc3RhbnQmJmMuY29uc3RhbnQmJmQuY29uc3RhbnR9KX0sYmluYXJ5Rm46ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBEKGZ1bmN0aW9uKGUsZyl7cmV0dXJuIGMoZSxnLGEsZCl9LHtjb25zdGFudDphLmNvbnN0YW50JiZkLmNvbnN0YW50fSl9LFxuc3RhdGVtZW50czpmdW5jdGlvbigpe2Zvcih2YXIgYT1bXTs7KWlmKDA8dGhpcy50b2tlbnMubGVuZ3RoJiYhdGhpcy5wZWVrKFwifVwiLFwiKVwiLFwiO1wiLFwiXVwiKSYmYS5wdXNoKHRoaXMuZmlsdGVyQ2hhaW4oKSksIXRoaXMuZXhwZWN0KFwiO1wiKSlyZXR1cm4gMT09PWEubGVuZ3RoP2FbMF06ZnVuY3Rpb24oYyxkKXtmb3IodmFyIGUsZz0wO2c8YS5sZW5ndGg7ZysrKXt2YXIgZj1hW2ddO2YmJihlPWYoYyxkKSl9cmV0dXJuIGV9fSxmaWx0ZXJDaGFpbjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmV4cHJlc3Npb24oKSxjOzspaWYoYz10aGlzLmV4cGVjdChcInxcIikpYT10aGlzLmJpbmFyeUZuKGEsYy5mbix0aGlzLmZpbHRlcigpKTtlbHNlIHJldHVybiBhfSxmaWx0ZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5leHBlY3QoKSxjPXRoaXMuJGZpbHRlcihhLnRleHQpLGQ9W107OylpZihhPXRoaXMuZXhwZWN0KFwiOlwiKSlkLnB1c2godGhpcy5leHByZXNzaW9uKCkpO2Vsc2V7dmFyIGU9XG5mdW5jdGlvbihhLGUsaCl7aD1baF07Zm9yKHZhciBsPTA7bDxkLmxlbmd0aDtsKyspaC5wdXNoKGRbbF0oYSxlKSk7cmV0dXJuIGMuYXBwbHkoYSxoKX07cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fX0sZXhwcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFzc2lnbm1lbnQoKX0sYXNzaWdubWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMudGVybmFyeSgpLGMsZDtyZXR1cm4oZD10aGlzLmV4cGVjdChcIj1cIikpPyhhLmFzc2lnbnx8dGhpcy50aHJvd0Vycm9yKFwiaW1wbGllcyBhc3NpZ25tZW50IGJ1dCBbXCIrdGhpcy50ZXh0LnN1YnN0cmluZygwLGQuaW5kZXgpK1wiXSBjYW4gbm90IGJlIGFzc2lnbmVkIHRvXCIsZCksYz10aGlzLnRlcm5hcnkoKSxmdW5jdGlvbihkLGcpe3JldHVybiBhLmFzc2lnbihkLGMoZCxnKSxnKX0pOmF9LHRlcm5hcnk6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxvZ2ljYWxPUigpLGMsZDtpZih0aGlzLmV4cGVjdChcIj9cIikpe2M9dGhpcy50ZXJuYXJ5KCk7XG5pZihkPXRoaXMuZXhwZWN0KFwiOlwiKSlyZXR1cm4gdGhpcy50ZXJuYXJ5Rm4oYSxjLHRoaXMudGVybmFyeSgpKTt0aGlzLnRocm93RXJyb3IoXCJleHBlY3RlZCA6XCIsZCl9ZWxzZSByZXR1cm4gYX0sbG9naWNhbE9SOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubG9naWNhbEFORCgpLGM7OylpZihjPXRoaXMuZXhwZWN0KFwifHxcIikpYT10aGlzLmJpbmFyeUZuKGEsYy5mbix0aGlzLmxvZ2ljYWxBTkQoKSk7ZWxzZSByZXR1cm4gYX0sbG9naWNhbEFORDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZXF1YWxpdHkoKSxjO2lmKGM9dGhpcy5leHBlY3QoXCImJlwiKSlhPXRoaXMuYmluYXJ5Rm4oYSxjLmZuLHRoaXMubG9naWNhbEFORCgpKTtyZXR1cm4gYX0sZXF1YWxpdHk6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlbGF0aW9uYWwoKSxjO2lmKGM9dGhpcy5leHBlY3QoXCI9PVwiLFwiIT1cIixcIj09PVwiLFwiIT09XCIpKWE9dGhpcy5iaW5hcnlGbihhLGMuZm4sdGhpcy5lcXVhbGl0eSgpKTtyZXR1cm4gYX0sXG5yZWxhdGlvbmFsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hZGRpdGl2ZSgpLGM7aWYoYz10aGlzLmV4cGVjdChcIjxcIixcIj5cIixcIjw9XCIsXCI+PVwiKSlhPXRoaXMuYmluYXJ5Rm4oYSxjLmZuLHRoaXMucmVsYXRpb25hbCgpKTtyZXR1cm4gYX0sYWRkaXRpdmU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5tdWx0aXBsaWNhdGl2ZSgpLGM7Yz10aGlzLmV4cGVjdChcIitcIixcIi1cIik7KWE9dGhpcy5iaW5hcnlGbihhLGMuZm4sdGhpcy5tdWx0aXBsaWNhdGl2ZSgpKTtyZXR1cm4gYX0sbXVsdGlwbGljYXRpdmU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy51bmFyeSgpLGM7Yz10aGlzLmV4cGVjdChcIipcIixcIi9cIixcIiVcIik7KWE9dGhpcy5iaW5hcnlGbihhLGMuZm4sdGhpcy51bmFyeSgpKTtyZXR1cm4gYX0sdW5hcnk6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gdGhpcy5leHBlY3QoXCIrXCIpP3RoaXMucHJpbWFyeSgpOihhPXRoaXMuZXhwZWN0KFwiLVwiKSk/dGhpcy5iaW5hcnlGbigkYS5aRVJPLGEuZm4sXG50aGlzLnVuYXJ5KCkpOihhPXRoaXMuZXhwZWN0KFwiIVwiKSk/dGhpcy51bmFyeUZuKGEuZm4sdGhpcy51bmFyeSgpKTp0aGlzLnByaW1hcnkoKX0sZmllbGRBY2Nlc3M6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcyxkPXRoaXMuZXhwZWN0KCkudGV4dCxlPURjKGQsdGhpcy5vcHRpb25zLHRoaXMudGV4dCk7cmV0dXJuIEQoZnVuY3Rpb24oYyxkLGgpe3JldHVybiBlKGh8fGEoYyxkKSl9LHthc3NpZ246ZnVuY3Rpb24oZSxmLGgpe3JldHVybiBvYihhKGUsaCksZCxmLGMudGV4dCxjLm9wdGlvbnMpfX0pfSxvYmplY3RJbmRleDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGQ9dGhpcy5leHByZXNzaW9uKCk7dGhpcy5jb25zdW1lKFwiXVwiKTtyZXR1cm4gRChmdW5jdGlvbihlLGcpe3ZhciBmPWEoZSxnKSxoPWQoZSxnKSxsO2lmKCFmKXJldHVybiBzOyhmPVphKGZbaF0sYy50ZXh0KSkmJihmLnRoZW4mJmMub3B0aW9ucy51bndyYXBQcm9taXNlcykmJihsPWYsXCIkJHZcImluIGZ8fChsLiQkdj1zLGwudGhlbihmdW5jdGlvbihhKXtsLiQkdj1cbmF9KSksZj1mLiQkdik7cmV0dXJuIGZ9LHthc3NpZ246ZnVuY3Rpb24oZSxnLGYpe3ZhciBoPWQoZSxmKTtyZXR1cm4gWmEoYShlLGYpLGMudGV4dClbaF09Z319KX0sZnVuY3Rpb25DYWxsOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9W107aWYoXCIpXCIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpe2RvIGQucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7d2hpbGUodGhpcy5leHBlY3QoXCIsXCIpKX10aGlzLmNvbnN1bWUoXCIpXCIpO3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGcsZil7Zm9yKHZhciBoPVtdLGw9Yz9jKGcsZik6ZyxrPTA7azxkLmxlbmd0aDtrKyspaC5wdXNoKGRba10oZyxmKSk7az1hKGcsZixsKXx8QztaYShsLGUudGV4dCk7WmEoayxlLnRleHQpO2g9ay5hcHBseT9rLmFwcGx5KGwsaCk6ayhoWzBdLGhbMV0saFsyXSxoWzNdLGhbNF0pO3JldHVybiBaYShoLGUudGV4dCl9fSxhcnJheURlY2xhcmF0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9W10sYz0hMDtpZihcIl1cIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG97aWYodGhpcy5wZWVrKFwiXVwiKSlicmVhaztcbnZhciBkPXRoaXMuZXhwcmVzc2lvbigpO2EucHVzaChkKTtkLmNvbnN0YW50fHwoYz0hMSl9d2hpbGUodGhpcy5leHBlY3QoXCIsXCIpKX10aGlzLmNvbnN1bWUoXCJdXCIpO3JldHVybiBEKGZ1bmN0aW9uKGMsZCl7Zm9yKHZhciBmPVtdLGg9MDtoPGEubGVuZ3RoO2grKylmLnB1c2goYVtoXShjLGQpKTtyZXR1cm4gZn0se2xpdGVyYWw6ITAsY29uc3RhbnQ6Y30pfSxvYmplY3Q6ZnVuY3Rpb24oKXt2YXIgYT1bXSxjPSEwO2lmKFwifVwiIT09dGhpcy5wZWVrVG9rZW4oKS50ZXh0KXtkb3tpZih0aGlzLnBlZWsoXCJ9XCIpKWJyZWFrO3ZhciBkPXRoaXMuZXhwZWN0KCksZD1kLnN0cmluZ3x8ZC50ZXh0O3RoaXMuY29uc3VtZShcIjpcIik7dmFyIGU9dGhpcy5leHByZXNzaW9uKCk7YS5wdXNoKHtrZXk6ZCx2YWx1ZTplfSk7ZS5jb25zdGFudHx8KGM9ITEpfXdoaWxlKHRoaXMuZXhwZWN0KFwiLFwiKSl9dGhpcy5jb25zdW1lKFwifVwiKTtyZXR1cm4gRChmdW5jdGlvbihjLGQpe2Zvcih2YXIgZT17fSxsPTA7bDxcbmEubGVuZ3RoO2wrKyl7dmFyIGs9YVtsXTtlW2sua2V5XT1rLnZhbHVlKGMsZCl9cmV0dXJuIGV9LHtsaXRlcmFsOiEwLGNvbnN0YW50OmN9KX19O3ZhciBNYj17fSx1YT10KFwiJHNjZVwiKSxnYT17SFRNTDpcImh0bWxcIixDU1M6XCJjc3NcIixVUkw6XCJ1cmxcIixSRVNPVVJDRV9VUkw6XCJyZXNvdXJjZVVybFwiLEpTOlwianNcIn0sVz1VLmNyZWF0ZUVsZW1lbnQoXCJhXCIpLEhjPXNhKE8ubG9jYXRpb24uaHJlZiwhMCk7Z2MuJGluamVjdD1bXCIkcHJvdmlkZVwiXTtJYy4kaW5qZWN0PVtcIiRsb2NhbGVcIl07S2MuJGluamVjdD1bXCIkbG9jYWxlXCJdO3ZhciBOYz1cIi5cIixJZT17eXl5eTokKFwiRnVsbFllYXJcIiw0KSx5eTokKFwiRnVsbFllYXJcIiwyLDAsITApLHk6JChcIkZ1bGxZZWFyXCIsMSksTU1NTTpwYihcIk1vbnRoXCIpLE1NTTpwYihcIk1vbnRoXCIsITApLE1NOiQoXCJNb250aFwiLDIsMSksTTokKFwiTW9udGhcIiwxLDEpLGRkOiQoXCJEYXRlXCIsMiksZDokKFwiRGF0ZVwiLDEpLEhIOiQoXCJIb3Vyc1wiLDIpLEg6JChcIkhvdXJzXCIsXG4xKSxoaDokKFwiSG91cnNcIiwyLC0xMiksaDokKFwiSG91cnNcIiwxLC0xMiksbW06JChcIk1pbnV0ZXNcIiwyKSxtOiQoXCJNaW51dGVzXCIsMSksc3M6JChcIlNlY29uZHNcIiwyKSxzOiQoXCJTZWNvbmRzXCIsMSksc3NzOiQoXCJNaWxsaXNlY29uZHNcIiwzKSxFRUVFOnBiKFwiRGF5XCIpLEVFRTpwYihcIkRheVwiLCEwKSxhOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIDEyPmEuZ2V0SG91cnMoKT9jLkFNUE1TWzBdOmMuQU1QTVNbMV19LFo6ZnVuY3Rpb24oYSl7YT0tMSphLmdldFRpbWV6b25lT2Zmc2V0KCk7cmV0dXJuIGE9KDA8PWE/XCIrXCI6XCJcIikrKE9iKE1hdGhbMDxhP1wiZmxvb3JcIjpcImNlaWxcIl0oYS82MCksMikrT2IoTWF0aC5hYnMoYSU2MCksMikpfX0sSGU9LygoPzpbXnlNZEhobXNhWkUnXSspfCg/OicoPzpbXiddfCcnKSonKXwoPzpFK3x5K3xNK3xkK3xIK3xoK3xtK3xzK3xhfFopKSguKikvLEdlPS9eXFwtP1xcZCskLztKYy4kaW5qZWN0PVtcIiRsb2NhbGVcIl07dmFyIEVlPWFhKEspLEZlPWFhKEZhKTtMYy4kaW5qZWN0PVxuW1wiJHBhcnNlXCJdO3ZhciBjZD1hYSh7cmVzdHJpY3Q6XCJFXCIsY29tcGlsZTpmdW5jdGlvbihhLGMpezg+PVMmJihjLmhyZWZ8fGMubmFtZXx8Yy4kc2V0KFwiaHJlZlwiLFwiXCIpLGEuYXBwZW5kKFUuY3JlYXRlQ29tbWVudChcIklFIGZpeFwiKSkpO2lmKCFjLmhyZWYmJiFjLnhsaW5rSHJlZiYmIWMubmFtZSlyZXR1cm4gZnVuY3Rpb24oYSxjKXt2YXIgZz1cIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddXCI9PT13YS5jYWxsKGMucHJvcChcImhyZWZcIikpP1wieGxpbms6aHJlZlwiOlwiaHJlZlwiO2Mub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2MuYXR0cihnKXx8YS5wcmV2ZW50RGVmYXVsdCgpfSl9fX0pLHpiPXt9O3Eoa2IsZnVuY3Rpb24oYSxjKXtpZihcIm11bHRpcGxlXCIhPWEpe3ZhciBkPW5hKFwibmctXCIrYyk7emJbZF09ZnVuY3Rpb24oKXtyZXR1cm57cHJpb3JpdHk6MTAwLGxpbms6ZnVuY3Rpb24oYSxnLGYpe2EuJHdhdGNoKGZbZF0sZnVuY3Rpb24oYSl7Zi4kc2V0KGMsISFhKX0pfX19fX0pO3EoW1wic3JjXCIsXG5cInNyY3NldFwiLFwiaHJlZlwiXSxmdW5jdGlvbihhKXt2YXIgYz1uYShcIm5nLVwiK2EpO3piW2NdPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5Ojk5LGxpbms6ZnVuY3Rpb24oZCxlLGcpe3ZhciBmPWEsaD1hO1wiaHJlZlwiPT09YSYmXCJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXVwiPT09d2EuY2FsbChlLnByb3AoXCJocmVmXCIpKSYmKGg9XCJ4bGlua0hyZWZcIixnLiRhdHRyW2hdPVwieGxpbms6aHJlZlwiLGY9bnVsbCk7Zy4kb2JzZXJ2ZShjLGZ1bmN0aW9uKGEpe2EmJihnLiRzZXQoaCxhKSxTJiZmJiZlLnByb3AoZixnW2hdKSl9KX19fX0pO3ZhciBzYj17JGFkZENvbnRyb2w6QywkcmVtb3ZlQ29udHJvbDpDLCRzZXRWYWxpZGl0eTpDLCRzZXREaXJ0eTpDLCRzZXRQcmlzdGluZTpDfTtPYy4kaW5qZWN0PVtcIiRlbGVtZW50XCIsXCIkYXR0cnNcIixcIiRzY29wZVwiLFwiJGFuaW1hdGVcIl07dmFyIFFjPWZ1bmN0aW9uKGEpe3JldHVybltcIiR0aW1lb3V0XCIsZnVuY3Rpb24oYyl7cmV0dXJue25hbWU6XCJmb3JtXCIsXG5yZXN0cmljdDphP1wiRUFDXCI6XCJFXCIsY29udHJvbGxlcjpPYyxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihhLGUsZyxmKXtpZighZy5hY3Rpb24pe3ZhciBoPWZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITF9O1BjKGVbMF0sXCJzdWJtaXRcIixoKTtlLm9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2MoZnVuY3Rpb24oKXtGYihlWzBdLFwic3VibWl0XCIsaCl9LDAsITEpfSl9dmFyIGw9ZS5wYXJlbnQoKS5jb250cm9sbGVyKFwiZm9ybVwiKSxrPWcubmFtZXx8Zy5uZ0Zvcm07ayYmb2IoYSxrLGYsayk7aWYobCllLm9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2wuJHJlbW92ZUNvbnRyb2woZik7ayYmb2IoYSxrLHMsayk7RChmLHNiKX0pfX19fX1dfSxkZD1RYygpLHFkPVFjKCEwKSxPZT0vXihmdHB8aHR0cHxodHRwcyk6XFwvXFwvKFxcdys6ezAsMX1cXHcqQCk/KFxcUyspKDpbMC05XSspPyhcXC98XFwvKFtcXHcjITouPys9JiVAIVxcLVxcL10pKT8kLyxcblBlPS9eW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi4tXStAW2EtejAtOS1dKyhcXC5bYS16MC05LV0rKSokL2ksUWU9L15cXHMqKFxcLXxcXCspPyhcXGQrfChcXGQqKFxcLlxcZCopKSlcXHMqJC8sUmM9e3RleHQ6dWIsbnVtYmVyOmZ1bmN0aW9uKGEsYyxkLGUsZyxmKXt1YihhLGMsZCxlLGcsZik7ZS4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGEpe3ZhciBjPWUuJGlzRW1wdHkoYSk7aWYoY3x8UWUudGVzdChhKSlyZXR1cm4gZS4kc2V0VmFsaWRpdHkoXCJudW1iZXJcIiwhMCksXCJcIj09PWE/bnVsbDpjP2E6cGFyc2VGbG9hdChhKTtlLiRzZXRWYWxpZGl0eShcIm51bWJlclwiLCExKTtyZXR1cm4gc30pO0plKGUsXCJudW1iZXJcIixjKTtlLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIGUuJGlzRW1wdHkoYSk/XCJcIjpcIlwiK2F9KTtkLm1pbiYmKGE9ZnVuY3Rpb24oYSl7dmFyIGM9cGFyc2VGbG9hdChkLm1pbik7cmV0dXJuIHBhKGUsXCJtaW5cIixlLiRpc0VtcHR5KGEpfHxhPj1jLGEpfSxlLiRwYXJzZXJzLnB1c2goYSksXG5lLiRmb3JtYXR0ZXJzLnB1c2goYSkpO2QubWF4JiYoYT1mdW5jdGlvbihhKXt2YXIgYz1wYXJzZUZsb2F0KGQubWF4KTtyZXR1cm4gcGEoZSxcIm1heFwiLGUuJGlzRW1wdHkoYSl8fGE8PWMsYSl9LGUuJHBhcnNlcnMucHVzaChhKSxlLiRmb3JtYXR0ZXJzLnB1c2goYSkpO2UuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gcGEoZSxcIm51bWJlclwiLGUuJGlzRW1wdHkoYSl8fHZiKGEpLGEpfSl9LHVybDpmdW5jdGlvbihhLGMsZCxlLGcsZil7dWIoYSxjLGQsZSxnLGYpO2E9ZnVuY3Rpb24oYSl7cmV0dXJuIHBhKGUsXCJ1cmxcIixlLiRpc0VtcHR5KGEpfHxPZS50ZXN0KGEpLGEpfTtlLiRmb3JtYXR0ZXJzLnB1c2goYSk7ZS4kcGFyc2Vycy5wdXNoKGEpfSxlbWFpbDpmdW5jdGlvbihhLGMsZCxlLGcsZil7dWIoYSxjLGQsZSxnLGYpO2E9ZnVuY3Rpb24oYSl7cmV0dXJuIHBhKGUsXCJlbWFpbFwiLGUuJGlzRW1wdHkoYSl8fFBlLnRlc3QoYSksYSl9O2UuJGZvcm1hdHRlcnMucHVzaChhKTtcbmUuJHBhcnNlcnMucHVzaChhKX0scmFkaW86ZnVuY3Rpb24oYSxjLGQsZSl7RShkLm5hbWUpJiZjLmF0dHIoXCJuYW1lXCIsYmIoKSk7Yy5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtjWzBdLmNoZWNrZWQmJmEuJGFwcGx5KGZ1bmN0aW9uKCl7ZS4kc2V0Vmlld1ZhbHVlKGQudmFsdWUpfSl9KTtlLiRyZW5kZXI9ZnVuY3Rpb24oKXtjWzBdLmNoZWNrZWQ9ZC52YWx1ZT09ZS4kdmlld1ZhbHVlfTtkLiRvYnNlcnZlKFwidmFsdWVcIixlLiRyZW5kZXIpfSxjaGVja2JveDpmdW5jdGlvbihhLGMsZCxlKXt2YXIgZz1kLm5nVHJ1ZVZhbHVlLGY9ZC5uZ0ZhbHNlVmFsdWU7dyhnKXx8KGc9ITApO3coZil8fChmPSExKTtjLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe2EuJGFwcGx5KGZ1bmN0aW9uKCl7ZS4kc2V0Vmlld1ZhbHVlKGNbMF0uY2hlY2tlZCl9KX0pO2UuJHJlbmRlcj1mdW5jdGlvbigpe2NbMF0uY2hlY2tlZD1lLiR2aWV3VmFsdWV9O2UuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1nfTtcbmUuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gYT09PWd9KTtlLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIGE/ZzpmfSl9LGhpZGRlbjpDLGJ1dHRvbjpDLHN1Ym1pdDpDLHJlc2V0OkMsZmlsZTpDfSxkYz1bXCIkYnJvd3NlclwiLFwiJHNuaWZmZXJcIixmdW5jdGlvbihhLGMpe3JldHVybntyZXN0cmljdDpcIkVcIixyZXF1aXJlOlwiP25nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGQsZSxnLGYpe2YmJihSY1tLKGcudHlwZSldfHxSYy50ZXh0KShkLGUsZyxmLGMsYSl9fX1dLHJiPVwibmctdmFsaWRcIixxYj1cIm5nLWludmFsaWRcIixMYT1cIm5nLXByaXN0aW5lXCIsdGI9XCJuZy1kaXJ0eVwiLFJlPVtcIiRzY29wZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixcIiRhdHRyc1wiLFwiJGVsZW1lbnRcIixcIiRwYXJzZVwiLFwiJGFuaW1hdGVcIixmdW5jdGlvbihhLGMsZCxlLGcsZil7ZnVuY3Rpb24gaChhLGMpe2M9Yz9cIi1cIitmYihjLFwiLVwiKTpcIlwiO2YucmVtb3ZlQ2xhc3MoZSwoYT9xYjpyYikrYyk7XG5mLmFkZENsYXNzKGUsKGE/cmI6cWIpK2MpfXRoaXMuJG1vZGVsVmFsdWU9dGhpcy4kdmlld1ZhbHVlPU51bWJlci5OYU47dGhpcy4kcGFyc2Vycz1bXTt0aGlzLiRmb3JtYXR0ZXJzPVtdO3RoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnM9W107dGhpcy4kcHJpc3RpbmU9ITA7dGhpcy4kZGlydHk9ITE7dGhpcy4kdmFsaWQ9ITA7dGhpcy4kaW52YWxpZD0hMTt0aGlzLiRuYW1lPWQubmFtZTt2YXIgbD1nKGQubmdNb2RlbCksaz1sLmFzc2lnbjtpZighayl0aHJvdyB0KFwibmdNb2RlbFwiKShcIm5vbmFzc2lnblwiLGQubmdNb2RlbCxoYShlKSk7dGhpcy4kcmVuZGVyPUM7dGhpcy4kaXNFbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4gRShhKXx8XCJcIj09PWF8fG51bGw9PT1hfHxhIT09YX07dmFyIG09ZS5pbmhlcml0ZWREYXRhKFwiJGZvcm1Db250cm9sbGVyXCIpfHxzYixuPTAscD10aGlzLiRlcnJvcj17fTtlLmFkZENsYXNzKExhKTtoKCEwKTt0aGlzLiRzZXRWYWxpZGl0eT1mdW5jdGlvbihhLGMpe3BbYV0hPT1cbiFjJiYoYz8ocFthXSYmbi0tLG58fChoKCEwKSx0aGlzLiR2YWxpZD0hMCx0aGlzLiRpbnZhbGlkPSExKSk6KGgoITEpLHRoaXMuJGludmFsaWQ9ITAsdGhpcy4kdmFsaWQ9ITEsbisrKSxwW2FdPSFjLGgoYyxhKSxtLiRzZXRWYWxpZGl0eShhLGMsdGhpcykpfTt0aGlzLiRzZXRQcmlzdGluZT1mdW5jdGlvbigpe3RoaXMuJGRpcnR5PSExO3RoaXMuJHByaXN0aW5lPSEwO2YucmVtb3ZlQ2xhc3MoZSx0Yik7Zi5hZGRDbGFzcyhlLExhKX07dGhpcy4kc2V0Vmlld1ZhbHVlPWZ1bmN0aW9uKGQpe3RoaXMuJHZpZXdWYWx1ZT1kO3RoaXMuJHByaXN0aW5lJiYodGhpcy4kZGlydHk9ITAsdGhpcy4kcHJpc3RpbmU9ITEsZi5yZW1vdmVDbGFzcyhlLExhKSxmLmFkZENsYXNzKGUsdGIpLG0uJHNldERpcnR5KCkpO3EodGhpcy4kcGFyc2VycyxmdW5jdGlvbihhKXtkPWEoZCl9KTt0aGlzLiRtb2RlbFZhbHVlIT09ZCYmKHRoaXMuJG1vZGVsVmFsdWU9ZCxrKGEsZCkscSh0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLFxuZnVuY3Rpb24oYSl7dHJ5e2EoKX1jYXRjaChkKXtjKGQpfX0pKX07dmFyIHI9dGhpczthLiR3YXRjaChmdW5jdGlvbigpe3ZhciBjPWwoYSk7aWYoci4kbW9kZWxWYWx1ZSE9PWMpe3ZhciBkPXIuJGZvcm1hdHRlcnMsZT1kLmxlbmd0aDtmb3Ioci4kbW9kZWxWYWx1ZT1jO2UtLTspYz1kW2VdKGMpO3IuJHZpZXdWYWx1ZSE9PWMmJihyLiR2aWV3VmFsdWU9YyxyLiRyZW5kZXIoKSl9cmV0dXJuIGN9KX1dLEZkPWZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6W1wibmdNb2RlbFwiLFwiXj9mb3JtXCJdLGNvbnRyb2xsZXI6UmUsbGluazpmdW5jdGlvbihhLGMsZCxlKXt2YXIgZz1lWzBdLGY9ZVsxXXx8c2I7Zi4kYWRkQ29udHJvbChnKTthLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtmLiRyZW1vdmVDb250cm9sKGcpfSl9fX0sSGQ9YWEoe3JlcXVpcmU6XCJuZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGMsZCxlKXtlLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLnB1c2goZnVuY3Rpb24oKXthLiRldmFsKGQubmdDaGFuZ2UpfSl9fSksXG5lYz1mdW5jdGlvbigpe3JldHVybntyZXF1aXJlOlwiP25nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYyxkLGUpe2lmKGUpe2QucmVxdWlyZWQ9ITA7dmFyIGc9ZnVuY3Rpb24oYSl7aWYoZC5yZXF1aXJlZCYmZS4kaXNFbXB0eShhKSllLiRzZXRWYWxpZGl0eShcInJlcXVpcmVkXCIsITEpO2Vsc2UgcmV0dXJuIGUuJHNldFZhbGlkaXR5KFwicmVxdWlyZWRcIiwhMCksYX07ZS4kZm9ybWF0dGVycy5wdXNoKGcpO2UuJHBhcnNlcnMudW5zaGlmdChnKTtkLiRvYnNlcnZlKFwicmVxdWlyZWRcIixmdW5jdGlvbigpe2coZS4kdmlld1ZhbHVlKX0pfX19fSxHZD1mdW5jdGlvbigpe3JldHVybntyZXF1aXJlOlwibmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGc9KGE9L1xcLyguKilcXC8vLmV4ZWMoZC5uZ0xpc3QpKSYmUmVnRXhwKGFbMV0pfHxkLm5nTGlzdHx8XCIsXCI7ZS4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGEpe2lmKCFFKGEpKXt2YXIgYz1bXTthJiZxKGEuc3BsaXQoZyksZnVuY3Rpb24oYSl7YSYmXG5jLnB1c2goY2EoYSkpfSk7cmV0dXJuIGN9fSk7ZS4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBNKGEpP2Euam9pbihcIiwgXCIpOnN9KTtlLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiFhfHwhYS5sZW5ndGh9fX19LFNlPS9eKHRydWV8ZmFsc2V8XFxkKykkLyxJZD1mdW5jdGlvbigpe3JldHVybntwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbihhLGMpe3JldHVybiBTZS50ZXN0KGMubmdWYWx1ZSk/ZnVuY3Rpb24oYSxjLGcpe2cuJHNldChcInZhbHVlXCIsYS4kZXZhbChnLm5nVmFsdWUpKX06ZnVuY3Rpb24oYSxjLGcpe2EuJHdhdGNoKGcubmdWYWx1ZSxmdW5jdGlvbihhKXtnLiRzZXQoXCJ2YWx1ZVwiLGEpfSl9fX19LGlkPXZhKGZ1bmN0aW9uKGEsYyxkKXtjLmFkZENsYXNzKFwibmctYmluZGluZ1wiKS5kYXRhKFwiJGJpbmRpbmdcIixkLm5nQmluZCk7YS4kd2F0Y2goZC5uZ0JpbmQsZnVuY3Rpb24oYSl7Yy50ZXh0KGE9PXM/XCJcIjphKX0pfSksa2Q9W1wiJGludGVycG9sYXRlXCIsXG5mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYyxkLGUpe2M9YShkLmF0dHIoZS4kYXR0ci5uZ0JpbmRUZW1wbGF0ZSkpO2QuYWRkQ2xhc3MoXCJuZy1iaW5kaW5nXCIpLmRhdGEoXCIkYmluZGluZ1wiLGMpO2UuJG9ic2VydmUoXCJuZ0JpbmRUZW1wbGF0ZVwiLGZ1bmN0aW9uKGEpe2QudGV4dChhKX0pfX1dLGpkPVtcIiRzY2VcIixcIiRwYXJzZVwiLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGZ1bmN0aW9uKGQsZSxnKXtlLmFkZENsYXNzKFwibmctYmluZGluZ1wiKS5kYXRhKFwiJGJpbmRpbmdcIixnLm5nQmluZEh0bWwpO3ZhciBmPWMoZy5uZ0JpbmRIdG1sKTtkLiR3YXRjaChmdW5jdGlvbigpe3JldHVybihmKGQpfHxcIlwiKS50b1N0cmluZygpfSxmdW5jdGlvbihjKXtlLmh0bWwoYS5nZXRUcnVzdGVkSHRtbChmKGQpKXx8XCJcIil9KX19XSxsZD1QYihcIlwiLCEwKSxuZD1QYihcIk9kZFwiLDApLG1kPVBiKFwiRXZlblwiLDEpLG9kPXZhKHtjb21waWxlOmZ1bmN0aW9uKGEsYyl7Yy4kc2V0KFwibmdDbG9ha1wiLHMpO2EucmVtb3ZlQ2xhc3MoXCJuZy1jbG9ha1wiKX19KSxcbnBkPVtmdW5jdGlvbigpe3JldHVybntzY29wZTohMCxjb250cm9sbGVyOlwiQFwiLHByaW9yaXR5OjUwMH19XSxmYz17fTtxKFwiY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBtb3VzZWVudGVyIG1vdXNlbGVhdmUga2V5ZG93biBrZXl1cCBrZXlwcmVzcyBzdWJtaXQgZm9jdXMgYmx1ciBjb3B5IGN1dCBwYXN0ZVwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhKXt2YXIgYz1uYShcIm5nLVwiK2EpO2ZjW2NdPVtcIiRwYXJzZVwiLGZ1bmN0aW9uKGQpe3JldHVybntjb21waWxlOmZ1bmN0aW9uKGUsZyl7dmFyIGY9ZChnW2NdKTtyZXR1cm4gZnVuY3Rpb24oYyxkLGUpe2Qub24oSyhhKSxmdW5jdGlvbihhKXtjLiRhcHBseShmdW5jdGlvbigpe2YoYyx7JGV2ZW50OmF9KX0pfSl9fX19XX0pO3ZhciBzZD1bXCIkYW5pbWF0ZVwiLGZ1bmN0aW9uKGEpe3JldHVybnt0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjYwMCx0ZXJtaW5hbDohMCxyZXN0cmljdDpcIkFcIixcbiQkdGxiOiEwLGxpbms6ZnVuY3Rpb24oYyxkLGUsZyxmKXt2YXIgaCxsLGs7Yy4kd2F0Y2goZS5uZ0lmLGZ1bmN0aW9uKGcpe1FhKGcpP2x8fChsPWMuJG5ldygpLGYobCxmdW5jdGlvbihjKXtjW2MubGVuZ3RoKytdPVUuY3JlYXRlQ29tbWVudChcIiBlbmQgbmdJZjogXCIrZS5uZ0lmK1wiIFwiKTtoPXtjbG9uZTpjfTthLmVudGVyKGMsZC5wYXJlbnQoKSxkKX0pKTooayYmKGsucmVtb3ZlKCksaz1udWxsKSxsJiYobC4kZGVzdHJveSgpLGw9bnVsbCksaCYmKGs9eWIoaC5jbG9uZSksYS5sZWF2ZShrLGZ1bmN0aW9uKCl7az1udWxsfSksaD1udWxsKSl9KX19fV0sdGQ9W1wiJGh0dHBcIixcIiR0ZW1wbGF0ZUNhY2hlXCIsXCIkYW5jaG9yU2Nyb2xsXCIsXCIkYW5pbWF0ZVwiLFwiJHNjZVwiLGZ1bmN0aW9uKGEsYyxkLGUsZyl7cmV0dXJue3Jlc3RyaWN0OlwiRUNBXCIscHJpb3JpdHk6NDAwLHRlcm1pbmFsOiEwLHRyYW5zY2x1ZGU6XCJlbGVtZW50XCIsY29udHJvbGxlcjpFYS5ub29wLGNvbXBpbGU6ZnVuY3Rpb24oZixcbmgpe3ZhciBsPWgubmdJbmNsdWRlfHxoLnNyYyxrPWgub25sb2FkfHxcIlwiLG09aC5hdXRvc2Nyb2xsO3JldHVybiBmdW5jdGlvbihmLGgscSxzLHUpe3ZhciBGPTAsdix5LEEseD1mdW5jdGlvbigpe3kmJih5LnJlbW92ZSgpLHk9bnVsbCk7diYmKHYuJGRlc3Ryb3koKSx2PW51bGwpO0EmJihlLmxlYXZlKEEsZnVuY3Rpb24oKXt5PW51bGx9KSx5PUEsQT1udWxsKX07Zi4kd2F0Y2goZy5wYXJzZUFzUmVzb3VyY2VVcmwobCksZnVuY3Rpb24oZyl7dmFyIGw9ZnVuY3Rpb24oKXshQihtKXx8bSYmIWYuJGV2YWwobSl8fGQoKX0scT0rK0Y7Zz8oYS5nZXQoZyx7Y2FjaGU6Y30pLnN1Y2Nlc3MoZnVuY3Rpb24oYSl7aWYocT09PUYpe3ZhciBjPWYuJG5ldygpO3MudGVtcGxhdGU9YTthPXUoYyxmdW5jdGlvbihhKXt4KCk7ZS5lbnRlcihhLG51bGwsaCxsKX0pO3Y9YztBPWE7di4kZW1pdChcIiRpbmNsdWRlQ29udGVudExvYWRlZFwiKTtmLiRldmFsKGspfX0pLmVycm9yKGZ1bmN0aW9uKCl7cT09PVxuRiYmeCgpfSksZi4kZW1pdChcIiRpbmNsdWRlQ29udGVudFJlcXVlc3RlZFwiKSk6KHgoKSxzLnRlbXBsYXRlPW51bGwpfSl9fX19XSxKZD1bXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkVDQVwiLHByaW9yaXR5Oi00MDAscmVxdWlyZTpcIm5nSW5jbHVkZVwiLGxpbms6ZnVuY3Rpb24oYyxkLGUsZyl7ZC5odG1sKGcudGVtcGxhdGUpO2EoZC5jb250ZW50cygpKShjKX19fV0sdWQ9dmEoe3ByaW9yaXR5OjQ1MCxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihhLGMsZCl7YS4kZXZhbChkLm5nSW5pdCl9fX19KSx2ZD12YSh7dGVybWluYWw6ITAscHJpb3JpdHk6MUUzfSksd2Q9W1wiJGxvY2FsZVwiLFwiJGludGVycG9sYXRlXCIsZnVuY3Rpb24oYSxjKXt2YXIgZD0ve30vZztyZXR1cm57cmVzdHJpY3Q6XCJFQVwiLGxpbms6ZnVuY3Rpb24oZSxnLGYpe3ZhciBoPWYuY291bnQsbD1mLiRhdHRyLndoZW4mJmcuYXR0cihmLiRhdHRyLndoZW4pLGs9Zi5vZmZzZXR8fFxuMCxtPWUuJGV2YWwobCl8fHt9LG49e30scD1jLnN0YXJ0U3ltYm9sKCkscj1jLmVuZFN5bWJvbCgpLHM9L153aGVuKE1pbnVzKT8oLispJC87cShmLGZ1bmN0aW9uKGEsYyl7cy50ZXN0KGMpJiYobVtLKGMucmVwbGFjZShcIndoZW5cIixcIlwiKS5yZXBsYWNlKFwiTWludXNcIixcIi1cIikpXT1nLmF0dHIoZi4kYXR0cltjXSkpfSk7cShtLGZ1bmN0aW9uKGEsZSl7bltlXT1jKGEucmVwbGFjZShkLHAraCtcIi1cIitrK3IpKX0pO2UuJHdhdGNoKGZ1bmN0aW9uKCl7dmFyIGM9cGFyc2VGbG9hdChlLiRldmFsKGgpKTtpZihpc05hTihjKSlyZXR1cm5cIlwiO2MgaW4gbXx8KGM9YS5wbHVyYWxDYXQoYy1rKSk7cmV0dXJuIG5bY10oZSxnLCEwKX0sZnVuY3Rpb24oYSl7Zy50ZXh0KGEpfSl9fX1dLHhkPVtcIiRwYXJzZVwiLFwiJGFuaW1hdGVcIixmdW5jdGlvbihhLGMpe3ZhciBkPXQoXCJuZ1JlcGVhdFwiKTtyZXR1cm57dHJhbnNjbHVkZTpcImVsZW1lbnRcIixwcmlvcml0eToxRTMsdGVybWluYWw6ITAsJCR0bGI6ITAsXG5saW5rOmZ1bmN0aW9uKGUsZyxmLGgsbCl7dmFyIGs9Zi5uZ1JlcGVhdCxtPWsubWF0Y2goL15cXHMqKFtcXHNcXFNdKz8pXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpP1xccyokLyksbixwLHIscyx1LEYsdj17JGlkOklhfTtpZighbSl0aHJvdyBkKFwiaWV4cFwiLGspO2Y9bVsxXTtoPW1bMl07KG09bVszXSk/KG49YShtKSxwPWZ1bmN0aW9uKGEsYyxkKXtGJiYodltGXT1hKTt2W3VdPWM7di4kaW5kZXg9ZDtyZXR1cm4gbihlLHYpfSk6KHI9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gSWEoYyl9LHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTttPWYubWF0Y2goL14oPzooW1xcJFxcd10rKXxcXCgoW1xcJFxcd10rKVxccyosXFxzKihbXFwkXFx3XSspXFwpKSQvKTtpZighbSl0aHJvdyBkKFwiaWlkZXhwXCIsZik7dT1tWzNdfHxtWzFdO0Y9bVsyXTt2YXIgQj17fTtlLiR3YXRjaENvbGxlY3Rpb24oaCxmdW5jdGlvbihhKXt2YXIgZixoLG09Z1swXSxuLHY9e30sSCxSLHcsQyxULHQsXG5FPVtdO2lmKGFiKGEpKVQ9YSxuPXB8fHI7ZWxzZXtuPXB8fHM7VD1bXTtmb3IodyBpbiBhKWEuaGFzT3duUHJvcGVydHkodykmJlwiJFwiIT13LmNoYXJBdCgwKSYmVC5wdXNoKHcpO1Quc29ydCgpfUg9VC5sZW5ndGg7aD1FLmxlbmd0aD1ULmxlbmd0aDtmb3IoZj0wO2Y8aDtmKyspaWYodz1hPT09VD9mOlRbZl0sQz1hW3ddLEM9bih3LEMsZiksQWEoQyxcImB0cmFjayBieWAgaWRcIiksQi5oYXNPd25Qcm9wZXJ0eShDKSl0PUJbQ10sZGVsZXRlIEJbQ10sdltDXT10LEVbZl09dDtlbHNle2lmKHYuaGFzT3duUHJvcGVydHkoQykpdGhyb3cgcShFLGZ1bmN0aW9uKGEpe2EmJmEuc2NvcGUmJihCW2EuaWRdPWEpfSksZChcImR1cGVzXCIsayxDKTtFW2ZdPXtpZDpDfTt2W0NdPSExfWZvcih3IGluIEIpQi5oYXNPd25Qcm9wZXJ0eSh3KSYmKHQ9Qlt3XSxmPXliKHQuY2xvbmUpLGMubGVhdmUoZikscShmLGZ1bmN0aW9uKGEpe2EuJCROR19SRU1PVkVEPSEwfSksdC5zY29wZS4kZGVzdHJveSgpKTtcbmY9MDtmb3IoaD1ULmxlbmd0aDtmPGg7ZisrKXt3PWE9PT1UP2Y6VFtmXTtDPWFbd107dD1FW2ZdO0VbZi0xXSYmKG09RVtmLTFdLmNsb25lW0VbZi0xXS5jbG9uZS5sZW5ndGgtMV0pO2lmKHQuc2NvcGUpe1I9dC5zY29wZTtuPW07ZG8gbj1uLm5leHRTaWJsaW5nO3doaWxlKG4mJm4uJCROR19SRU1PVkVEKTt0LmNsb25lWzBdIT1uJiZjLm1vdmUoeWIodC5jbG9uZSksbnVsbCx5KG0pKTttPXQuY2xvbmVbdC5jbG9uZS5sZW5ndGgtMV19ZWxzZSBSPWUuJG5ldygpO1JbdV09QztGJiYoUltGXT13KTtSLiRpbmRleD1mO1IuJGZpcnN0PTA9PT1mO1IuJGxhc3Q9Zj09PUgtMTtSLiRtaWRkbGU9IShSLiRmaXJzdHx8Ui4kbGFzdCk7Ui4kb2RkPSEoUi4kZXZlbj0wPT09KGYmMSkpO3Quc2NvcGV8fGwoUixmdW5jdGlvbihhKXthW2EubGVuZ3RoKytdPVUuY3JlYXRlQ29tbWVudChcIiBlbmQgbmdSZXBlYXQ6IFwiK2srXCIgXCIpO2MuZW50ZXIoYSxudWxsLHkobSkpO209YTt0LnNjb3BlPVI7dC5jbG9uZT1cbmE7dlt0LmlkXT10fSl9Qj12fSl9fX1dLHlkPVtcIiRhbmltYXRlXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGMsZCxlKXtjLiR3YXRjaChlLm5nU2hvdyxmdW5jdGlvbihjKXthW1FhKGMpP1wicmVtb3ZlQ2xhc3NcIjpcImFkZENsYXNzXCJdKGQsXCJuZy1oaWRlXCIpfSl9fV0scmQ9W1wiJGFuaW1hdGVcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYyxkLGUpe2MuJHdhdGNoKGUubmdIaWRlLGZ1bmN0aW9uKGMpe2FbUWEoYyk/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oZCxcIm5nLWhpZGVcIil9KX19XSx6ZD12YShmdW5jdGlvbihhLGMsZCl7YS4kd2F0Y2goZC5uZ1N0eWxlLGZ1bmN0aW9uKGEsZCl7ZCYmYSE9PWQmJnEoZCxmdW5jdGlvbihhLGQpe2MuY3NzKGQsXCJcIil9KTthJiZjLmNzcyhhKX0sITApfSksQWQ9W1wiJGFuaW1hdGVcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJFQVwiLHJlcXVpcmU6XCJuZ1N3aXRjaFwiLGNvbnRyb2xsZXI6W1wiJHNjb3BlXCIsZnVuY3Rpb24oKXt0aGlzLmNhc2VzPVxue319XSxsaW5rOmZ1bmN0aW9uKGMsZCxlLGcpe3ZhciBmLGgsbCxrPVtdO2MuJHdhdGNoKGUubmdTd2l0Y2h8fGUub24sZnVuY3Rpb24oZCl7dmFyIG4scD1rLmxlbmd0aDtpZigwPHApe2lmKGwpe2ZvcihuPTA7bjxwO24rKylsW25dLnJlbW92ZSgpO2w9bnVsbH1sPVtdO2ZvcihuPTA7bjxwO24rKyl7dmFyIHI9aFtuXTtrW25dLiRkZXN0cm95KCk7bFtuXT1yO2EubGVhdmUocixmdW5jdGlvbigpe2wuc3BsaWNlKG4sMSk7MD09PWwubGVuZ3RoJiYobD1udWxsKX0pfX1oPVtdO2s9W107aWYoZj1nLmNhc2VzW1wiIVwiK2RdfHxnLmNhc2VzW1wiP1wiXSljLiRldmFsKGUuY2hhbmdlKSxxKGYsZnVuY3Rpb24oZCl7dmFyIGU9Yy4kbmV3KCk7ay5wdXNoKGUpO2QudHJhbnNjbHVkZShlLGZ1bmN0aW9uKGMpe3ZhciBlPWQuZWxlbWVudDtoLnB1c2goYyk7YS5lbnRlcihjLGUucGFyZW50KCksZSl9KX0pfSl9fX1dLEJkPXZhKHt0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjgwMCxyZXF1aXJlOlwiXm5nU3dpdGNoXCIsXG5saW5rOmZ1bmN0aW9uKGEsYyxkLGUsZyl7ZS5jYXNlc1tcIiFcIitkLm5nU3dpdGNoV2hlbl09ZS5jYXNlc1tcIiFcIitkLm5nU3dpdGNoV2hlbl18fFtdO2UuY2FzZXNbXCIhXCIrZC5uZ1N3aXRjaFdoZW5dLnB1c2goe3RyYW5zY2x1ZGU6ZyxlbGVtZW50OmN9KX19KSxDZD12YSh7dHJhbnNjbHVkZTpcImVsZW1lbnRcIixwcmlvcml0eTo4MDAscmVxdWlyZTpcIl5uZ1N3aXRjaFwiLGxpbms6ZnVuY3Rpb24oYSxjLGQsZSxnKXtlLmNhc2VzW1wiP1wiXT1lLmNhc2VzW1wiP1wiXXx8W107ZS5jYXNlc1tcIj9cIl0ucHVzaCh7dHJhbnNjbHVkZTpnLGVsZW1lbnQ6Y30pfX0pLEVkPXZhKHtsaW5rOmZ1bmN0aW9uKGEsYyxkLGUsZyl7aWYoIWcpdGhyb3cgdChcIm5nVHJhbnNjbHVkZVwiKShcIm9ycGhhblwiLGhhKGMpKTtnKGZ1bmN0aW9uKGEpe2MuZW1wdHkoKTtjLmFwcGVuZChhKX0pfX0pLGVkPVtcIiR0ZW1wbGF0ZUNhY2hlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHRlcm1pbmFsOiEwLGNvbXBpbGU6ZnVuY3Rpb24oYyxcbmQpe1widGV4dC9uZy10ZW1wbGF0ZVwiPT1kLnR5cGUmJmEucHV0KGQuaWQsY1swXS50ZXh0KX19fV0sVGU9dChcIm5nT3B0aW9uc1wiKSxEZD1hYSh7dGVybWluYWw6ITB9KSxmZD1bXCIkY29tcGlsZVwiLFwiJHBhcnNlXCIsZnVuY3Rpb24oYSxjKXt2YXIgZD0vXlxccyooW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrZ3JvdXBcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT9cXHMrZm9yXFxzKyg/OihbXFwkXFx3XVtcXCRcXHddKil8KD86XFwoXFxzKihbXFwkXFx3XVtcXCRcXHddKilcXHMqLFxccyooW1xcJFxcd11bXFwkXFx3XSopXFxzKlxcKSkpXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpPyQvLGU9eyRzZXRWaWV3VmFsdWU6Q307cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHJlcXVpcmU6W1wic2VsZWN0XCIsXCI/bmdNb2RlbFwiXSxjb250cm9sbGVyOltcIiRlbGVtZW50XCIsXCIkc2NvcGVcIixcIiRhdHRyc1wiLGZ1bmN0aW9uKGEsYyxkKXt2YXIgbD10aGlzLGs9e30sbT1lLG47bC5kYXRhYm91bmQ9XG5kLm5nTW9kZWw7bC5pbml0PWZ1bmN0aW9uKGEsYyxkKXttPWE7bj1kfTtsLmFkZE9wdGlvbj1mdW5jdGlvbihjKXtBYShjLCdcIm9wdGlvbiB2YWx1ZVwiJyk7a1tjXT0hMDttLiR2aWV3VmFsdWU9PWMmJihhLnZhbChjKSxuLnBhcmVudCgpJiZuLnJlbW92ZSgpKX07bC5yZW1vdmVPcHRpb249ZnVuY3Rpb24oYSl7dGhpcy5oYXNPcHRpb24oYSkmJihkZWxldGUga1thXSxtLiR2aWV3VmFsdWU9PWEmJnRoaXMucmVuZGVyVW5rbm93bk9wdGlvbihhKSl9O2wucmVuZGVyVW5rbm93bk9wdGlvbj1mdW5jdGlvbihjKXtjPVwiPyBcIitJYShjKStcIiA/XCI7bi52YWwoYyk7YS5wcmVwZW5kKG4pO2EudmFsKGMpO24ucHJvcChcInNlbGVjdGVkXCIsITApfTtsLmhhc09wdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gay5oYXNPd25Qcm9wZXJ0eShhKX07Yy4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7bC5yZW5kZXJVbmtub3duT3B0aW9uPUN9KX1dLGxpbms6ZnVuY3Rpb24oZSxmLGgsbCl7ZnVuY3Rpb24gayhhLFxuYyxkLGUpe2QuJHJlbmRlcj1mdW5jdGlvbigpe3ZhciBhPWQuJHZpZXdWYWx1ZTtlLmhhc09wdGlvbihhKT8oQS5wYXJlbnQoKSYmQS5yZW1vdmUoKSxjLnZhbChhKSxcIlwiPT09YSYmdy5wcm9wKFwic2VsZWN0ZWRcIiwhMCkpOkUoYSkmJnc/Yy52YWwoXCJcIik6ZS5yZW5kZXJVbmtub3duT3B0aW9uKGEpfTtjLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXthLiRhcHBseShmdW5jdGlvbigpe0EucGFyZW50KCkmJkEucmVtb3ZlKCk7ZC4kc2V0Vmlld1ZhbHVlKGMudmFsKCkpfSl9KX1mdW5jdGlvbiBtKGEsYyxkKXt2YXIgZTtkLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVmEoZC4kdmlld1ZhbHVlKTtxKGMuZmluZChcIm9wdGlvblwiKSxmdW5jdGlvbihjKXtjLnNlbGVjdGVkPUIoYS5nZXQoYy52YWx1ZSkpfSl9O2EuJHdhdGNoKGZ1bmN0aW9uKCl7eGEoZSxkLiR2aWV3VmFsdWUpfHwoZT1iYShkLiR2aWV3VmFsdWUpLGQuJHJlbmRlcigpKX0pO2Mub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe2EuJGFwcGx5KGZ1bmN0aW9uKCl7dmFyIGE9XG5bXTtxKGMuZmluZChcIm9wdGlvblwiKSxmdW5jdGlvbihjKXtjLnNlbGVjdGVkJiZhLnB1c2goYy52YWx1ZSl9KTtkLiRzZXRWaWV3VmFsdWUoYSl9KX0pfWZ1bmN0aW9uIG4oZSxmLGcpe2Z1bmN0aW9uIGgoKXt2YXIgYT17XCJcIjpbXX0sYz1bXCJcIl0sZCxrLHMsdCx6O3Q9Zy4kbW9kZWxWYWx1ZTt6PXkoZSl8fFtdO3ZhciBFPW4/UWIoeik6eixGLEksQTtJPXt9O3M9ITE7dmFyIEQsSDtpZihyKWlmKHcmJk0odCkpZm9yKHM9bmV3IFZhKFtdKSxBPTA7QTx0Lmxlbmd0aDtBKyspSVttXT10W0FdLHMucHV0KHcoZSxJKSx0W0FdKTtlbHNlIHM9bmV3IFZhKHQpO2ZvcihBPTA7Rj1FLmxlbmd0aCxBPEY7QSsrKXtrPUE7aWYobil7az1FW0FdO2lmKFwiJFwiPT09ay5jaGFyQXQoMCkpY29udGludWU7SVtuXT1rfUlbbV09eltrXTtkPXAoZSxJKXx8XCJcIjsoaz1hW2RdKXx8KGs9YVtkXT1bXSxjLnB1c2goZCkpO3I/ZD1CKHMucmVtb3ZlKHc/dyhlLEkpOnEoZSxJKSkpOih3PyhkPXt9LGRbbV09dCxkPVxudyhlLGQpPT09dyhlLEkpKTpkPXQ9PT1xKGUsSSkscz1zfHxkKTtEPWwoZSxJKTtEPUIoRCk/RDpcIlwiO2sucHVzaCh7aWQ6dz93KGUsSSk6bj9FW0FdOkEsbGFiZWw6RCxzZWxlY3RlZDpkfSl9cnx8KHV8fG51bGw9PT10P2FbXCJcIl0udW5zaGlmdCh7aWQ6XCJcIixsYWJlbDpcIlwiLHNlbGVjdGVkOiFzfSk6c3x8YVtcIlwiXS51bnNoaWZ0KHtpZDpcIj9cIixsYWJlbDpcIlwiLHNlbGVjdGVkOiEwfSkpO0k9MDtmb3IoRT1jLmxlbmd0aDtJPEU7SSsrKXtkPWNbSV07az1hW2RdO3gubGVuZ3RoPD1JPyh0PXtlbGVtZW50OkMuY2xvbmUoKS5hdHRyKFwibGFiZWxcIixkKSxsYWJlbDprLmxhYmVsfSx6PVt0XSx4LnB1c2goeiksZi5hcHBlbmQodC5lbGVtZW50KSk6KHo9eFtJXSx0PXpbMF0sdC5sYWJlbCE9ZCYmdC5lbGVtZW50LmF0dHIoXCJsYWJlbFwiLHQubGFiZWw9ZCkpO0Q9bnVsbDtBPTA7Zm9yKEY9ay5sZW5ndGg7QTxGO0ErKylzPWtbQV0sKGQ9eltBKzFdKT8oRD1kLmVsZW1lbnQsZC5sYWJlbCE9PXMubGFiZWwmJlxuRC50ZXh0KGQubGFiZWw9cy5sYWJlbCksZC5pZCE9PXMuaWQmJkQudmFsKGQuaWQ9cy5pZCksZC5zZWxlY3RlZCE9PXMuc2VsZWN0ZWQmJkQucHJvcChcInNlbGVjdGVkXCIsZC5zZWxlY3RlZD1zLnNlbGVjdGVkKSk6KFwiXCI9PT1zLmlkJiZ1P0g9dTooSD12LmNsb25lKCkpLnZhbChzLmlkKS5hdHRyKFwic2VsZWN0ZWRcIixzLnNlbGVjdGVkKS50ZXh0KHMubGFiZWwpLHoucHVzaCh7ZWxlbWVudDpILGxhYmVsOnMubGFiZWwsaWQ6cy5pZCxzZWxlY3RlZDpzLnNlbGVjdGVkfSksRD9ELmFmdGVyKEgpOnQuZWxlbWVudC5hcHBlbmQoSCksRD1IKTtmb3IoQSsrO3oubGVuZ3RoPkE7KXoucG9wKCkuZWxlbWVudC5yZW1vdmUoKX1mb3IoO3gubGVuZ3RoPkk7KXgucG9wKClbMF0uZWxlbWVudC5yZW1vdmUoKX12YXIgaztpZighKGs9dC5tYXRjaChkKSkpdGhyb3cgVGUoXCJpZXhwXCIsdCxoYShmKSk7dmFyIGw9YyhrWzJdfHxrWzFdKSxtPWtbNF18fGtbNl0sbj1rWzVdLHA9YyhrWzNdfHxcIlwiKSxxPVxuYyhrWzJdP2tbMV06bSkseT1jKGtbN10pLHc9a1s4XT9jKGtbOF0pOm51bGwseD1bW3tlbGVtZW50OmYsbGFiZWw6XCJcIn1dXTt1JiYoYSh1KShlKSx1LnJlbW92ZUNsYXNzKFwibmctc2NvcGVcIiksdS5yZW1vdmUoKSk7Zi5lbXB0eSgpO2Yub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe2UuJGFwcGx5KGZ1bmN0aW9uKCl7dmFyIGEsYz15KGUpfHxbXSxkPXt9LGgsayxsLHAsdCx2LHU7aWYocilmb3Ioaz1bXSxwPTAsdj14Lmxlbmd0aDtwPHY7cCsrKWZvcihhPXhbcF0sbD0xLHQ9YS5sZW5ndGg7bDx0O2wrKyl7aWYoKGg9YVtsXS5lbGVtZW50KVswXS5zZWxlY3RlZCl7aD1oLnZhbCgpO24mJihkW25dPWgpO2lmKHcpZm9yKHU9MDt1PGMubGVuZ3RoJiYoZFttXT1jW3VdLHcoZSxkKSE9aCk7dSsrKTtlbHNlIGRbbV09Y1toXTtrLnB1c2gocShlLGQpKX19ZWxzZXtoPWYudmFsKCk7aWYoXCI/XCI9PWgpaz1zO2Vsc2UgaWYoXCJcIj09PWgpaz1udWxsO2Vsc2UgaWYodylmb3IodT0wO3U8Yy5sZW5ndGg7dSsrKXtpZihkW21dPVxuY1t1XSx3KGUsZCk9PWgpe2s9cShlLGQpO2JyZWFrfX1lbHNlIGRbbV09Y1toXSxuJiYoZFtuXT1oKSxrPXEoZSxkKTsxPHhbMF0ubGVuZ3RoJiZ4WzBdWzFdLmlkIT09aCYmKHhbMF1bMV0uc2VsZWN0ZWQ9ITEpfWcuJHNldFZpZXdWYWx1ZShrKX0pfSk7Zy4kcmVuZGVyPWg7ZS4kd2F0Y2goaCl9aWYobFsxXSl7dmFyIHA9bFswXTtsPWxbMV07dmFyIHI9aC5tdWx0aXBsZSx0PWgubmdPcHRpb25zLHU9ITEsdyx2PXkoVS5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKSxDPXkoVS5jcmVhdGVFbGVtZW50KFwib3B0Z3JvdXBcIikpLEE9di5jbG9uZSgpO2g9MDtmb3IodmFyIHg9Zi5jaGlsZHJlbigpLEQ9eC5sZW5ndGg7aDxEO2grKylpZihcIlwiPT09eFtoXS52YWx1ZSl7dz11PXguZXEoaCk7YnJlYWt9cC5pbml0KGwsdSxBKTtyJiYobC4kaXNFbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4hYXx8MD09PWEubGVuZ3RofSk7dD9uKGUsZixsKTpyP20oZSxmLGwpOmsoZSxmLGwscCl9fX19XSxoZD1bXCIkaW50ZXJwb2xhdGVcIixcbmZ1bmN0aW9uKGEpe3ZhciBjPXthZGRPcHRpb246QyxyZW1vdmVPcHRpb246Q307cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKGQsZSl7aWYoRShlLnZhbHVlKSl7dmFyIGc9YShkLnRleHQoKSwhMCk7Z3x8ZS4kc2V0KFwidmFsdWVcIixkLnRleHQoKSl9cmV0dXJuIGZ1bmN0aW9uKGEsZCxlKXt2YXIgaz1kLnBhcmVudCgpLG09ay5kYXRhKFwiJHNlbGVjdENvbnRyb2xsZXJcIil8fGsucGFyZW50KCkuZGF0YShcIiRzZWxlY3RDb250cm9sbGVyXCIpO20mJm0uZGF0YWJvdW5kP2QucHJvcChcInNlbGVjdGVkXCIsITEpOm09YztnP2EuJHdhdGNoKGcsZnVuY3Rpb24oYSxjKXtlLiRzZXQoXCJ2YWx1ZVwiLGEpO2EhPT1jJiZtLnJlbW92ZU9wdGlvbihjKTttLmFkZE9wdGlvbihhKX0pOm0uYWRkT3B0aW9uKGUudmFsdWUpO2Qub24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7bS5yZW1vdmVPcHRpb24oZS52YWx1ZSl9KX19fX1dLGdkPWFhKHtyZXN0cmljdDpcIkVcIixcbnRlcm1pbmFsOiEwfSk7Ty5hbmd1bGFyLmJvb3RzdHJhcD9jb25zb2xlLmxvZyhcIldBUk5JTkc6IFRyaWVkIHRvIGxvYWQgYW5ndWxhciBtb3JlIHRoYW4gb25jZS5cIik6KChHYT1PLmpRdWVyeSk/KHk9R2EsRChHYS5mbix7c2NvcGU6SmEuc2NvcGUsaXNvbGF0ZVNjb3BlOkphLmlzb2xhdGVTY29wZSxjb250cm9sbGVyOkphLmNvbnRyb2xsZXIsaW5qZWN0b3I6SmEuaW5qZWN0b3IsaW5oZXJpdGVkRGF0YTpKYS5pbmhlcml0ZWREYXRhfSksQWIoXCJyZW1vdmVcIiwhMCwhMCwhMSksQWIoXCJlbXB0eVwiLCExLCExLCExKSxBYihcImh0bWxcIiwhMSwhMSwhMCkpOnk9TixFYS5lbGVtZW50PXksWmMoRWEpLHkoVSkucmVhZHkoZnVuY3Rpb24oKXtXYyhVLCRiKX0pKX0pKHdpbmRvdyxkb2N1bWVudCk7IWFuZ3VsYXIuJCRjc3AoKSYmYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKFwiaGVhZFwiKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+QGNoYXJzZXQgXCJVVEYtOFwiO1tuZ1xcXFw6Y2xvYWtdLFtuZy1jbG9ha10sW2RhdGEtbmctY2xvYWtdLFt4LW5nLWNsb2FrXSwubmctY2xvYWssLngtbmctY2xvYWssLm5nLWhpZGV7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fW5nXFxcXDpmb3Jte2Rpc3BsYXk6YmxvY2s7fS5uZy1hbmltYXRlLWJsb2NrLXRyYW5zaXRpb25ze3RyYW5zaXRpb246MHMgYWxsIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246MHMgYWxsIWltcG9ydGFudDt9PC9zdHlsZT4nKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZ3VsYXIubWluLmpzLm1hcFxuIiwiLy8gQW5ndWxhckZpcmUgaXMgYW4gb2ZmaWNpYWxseSBzdXBwb3J0ZWQgQW5ndWxhckpTIGJpbmRpbmcgZm9yIEZpcmViYXNlLlxuLy8gVGhlIGJpbmRpbmdzIGxldCB5b3UgYXNzb2NpYXRlIGEgRmlyZWJhc2UgVVJMIHdpdGggYSBtb2RlbCAob3Igc2V0IG9mXG4vLyBtb2RlbHMpLCBhbmQgdGhleSB3aWxsIGJlIHRyYW5zcGFyZW50bHkga2VwdCBpbiBzeW5jIGFjcm9zcyBhbGwgY2xpZW50c1xuLy8gY3VycmVudGx5IHVzaW5nIHlvdXIgYXBwLiBUaGUgMi13YXkgZGF0YSBiaW5kaW5nIG9mZmVyZWQgYnkgQW5ndWxhckpTIHdvcmtzXG4vLyBhcyBub3JtYWwsIGV4Y2VwdCB0aGF0IHRoZSBjaGFuZ2VzIGFyZSBhbHNvIHNlbnQgdG8gYWxsIG90aGVyIGNsaWVudHNcbi8vIGluc3RlYWQgb2YganVzdCBhIHNlcnZlci5cbi8vXG4vLyAgICAgIEFuZ3VsYXJGaXJlIDAuNy4xXG4vLyAgICAgIGh0dHA6Ly9hbmd1bGFyZmlyZS5jb21cbi8vICAgICAgTGljZW5zZTogTUlUXG5cblwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGFuZ3VsYXIpIHtcblxuICB2YXIgQW5ndWxhckZpcmUsIEFuZ3VsYXJGaXJlQXV0aDtcblxuICAvLyBEZWZpbmUgdGhlIGBmaXJlYmFzZWAgbW9kdWxlIHVuZGVyIHdoaWNoIGFsbCBBbmd1bGFyRmlyZVxuICAvLyBzZXJ2aWNlcyB3aWxsIGxpdmUuXG4gIGFuZ3VsYXIubW9kdWxlKFwiZmlyZWJhc2VcIiwgW10pLnZhbHVlKFwiRmlyZWJhc2VcIiwgRmlyZWJhc2UpO1xuXG4gIC8vIERlZmluZSB0aGUgYCRmaXJlYmFzZWAgc2VydmljZSB0aGF0IHByb3ZpZGVzIHN5bmNocm9uaXphdGlvbiBtZXRob2RzLlxuICBhbmd1bGFyLm1vZHVsZShcImZpcmViYXNlXCIpLmZhY3RvcnkoXCIkZmlyZWJhc2VcIiwgW1wiJHFcIiwgXCIkcGFyc2VcIiwgXCIkdGltZW91dFwiLFxuICAgIGZ1bmN0aW9uKCRxLCAkcGFyc2UsICR0aW1lb3V0KSB7XG4gICAgICAvLyBUaGUgZmFjdG9yeSByZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSB2YWx1ZSBvZiB0aGUgZGF0YSBhdFxuICAgICAgLy8gdGhlIEZpcmViYXNlIGxvY2F0aW9uIHByb3ZpZGVkLCBhcyB3ZWxsIGFzIHNldmVyYWwgbWV0aG9kcy4gSXRcbiAgICAgIC8vIHRha2VzIGEgc2luZ2xlIGFyZ3VtZW50OlxuICAgICAgLy9cbiAgICAgIC8vICAgKiBgcmVmYDogQSBGaXJlYmFzZSByZWZlcmVuY2UuIFF1ZXJpZXMgb3IgbGltaXRzIG1heSBiZSBhcHBsaWVkLlxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHJlZikge1xuICAgICAgICB2YXIgYWYgPSBuZXcgQW5ndWxhckZpcmUoJHEsICRwYXJzZSwgJHRpbWVvdXQsIHJlZik7XG4gICAgICAgIHJldHVybiBhZi5jb25zdHJ1Y3QoKTtcbiAgICAgIH07XG4gICAgfVxuICBdKTtcblxuICAvLyBEZWZpbmUgdGhlIGBvcmRlckJ5UHJpb3JpdHlgIGZpbHRlciB0aGF0IHNvcnRzIG9iamVjdHMgcmV0dXJuZWQgYnlcbiAgLy8gJGZpcmViYXNlIGluIHRoZSBvcmRlciBvZiBwcmlvcml0eS4gUHJpb3JpdHkgaXMgZGVmaW5lZCBieSBGaXJlYmFzZSxcbiAgLy8gZm9yIG1vcmUgaW5mbyBzZWU6IGh0dHBzOi8vd3d3LmZpcmViYXNlLmNvbS9kb2NzL29yZGVyZWQtZGF0YS5odG1sXG4gIGFuZ3VsYXIubW9kdWxlKFwiZmlyZWJhc2VcIikuZmlsdGVyKFwib3JkZXJCeVByaW9yaXR5XCIsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgdmFyIHNvcnRlZCA9IFtdO1xuICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgIGlmICghaW5wdXQuJGdldEluZGV4IHx8IHR5cGVvZiBpbnB1dC4kZ2V0SW5kZXggIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgLy8gaW5wdXQgaXMgbm90IGFuIGFuZ3VsYXJGaXJlIGluc3RhbmNlXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgICAgIC8vIElmIGlucHV0IGlzIGFuIGFycmF5LCBjb3B5IGl0XG4gICAgICAgICAgICBzb3J0ZWQgPSBpbnB1dC5zbGljZSgwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNPYmplY3QoaW5wdXQpKSB7XG4gICAgICAgICAgICAvLyBJZiBpbnB1dCBpcyBhbiBvYmplY3QsIG1hcCBpdCB0byBhbiBhcnJheVxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGlucHV0LCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgICAgICAgIHNvcnRlZC5wdXNoKHByb3ApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGlucHV0IGlzIGFuIGFuZ3VsYXJGaXJlIGluc3RhbmNlXG4gICAgICAgICAgdmFyIGluZGV4ID0gaW5wdXQuJGdldEluZGV4KCk7XG4gICAgICAgICAgaWYgKGluZGV4Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kZXgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IGlucHV0W2luZGV4W2ldXTtcbiAgICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgIHZhbC4kaWQgPSBpbmRleFtpXTtcbiAgICAgICAgICAgICAgICBzb3J0ZWQucHVzaCh2YWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc29ydGVkO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIFNoaW0gQXJyYXkuaW5kZXhPZiBmb3IgSUUgY29tcGF0aWJpbGl0eS5cbiAgaWYgKCFBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuICAgIEFycmF5LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKHNlYXJjaEVsZW1lbnQsIGZyb21JbmRleCkge1xuICAgICAgaWYgKHRoaXMgPT09IHVuZGVmaW5lZCB8fCB0aGlzID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCIndGhpcycgaXMgbnVsbCBvciBub3QgZGVmaW5lZFwiKTtcbiAgICAgIH1cbiAgICAgIC8vIEhhY2sgdG8gY29udmVydCBvYmplY3QubGVuZ3RoIHRvIGEgVUludDMyXG4gICAgICAvLyBqc2hpbnQgLVcwMTZcbiAgICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCA+Pj4gMDtcbiAgICAgIGZyb21JbmRleCA9ICtmcm9tSW5kZXggfHwgMDtcbiAgICAgIC8vIGpzaGludCArVzAxNlxuXG4gICAgICBpZiAoTWF0aC5hYnMoZnJvbUluZGV4KSA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgZnJvbUluZGV4ID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgZnJvbUluZGV4ICs9IGxlbmd0aDtcbiAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgICBmcm9tSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoO2Zyb21JbmRleCA8IGxlbmd0aDsgZnJvbUluZGV4KyspIHtcbiAgICAgICAgaWYgKHRoaXNbZnJvbUluZGV4XSA9PT0gc2VhcmNoRWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBmcm9tSW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gIH1cblxuICAvLyBUaGUgYEFuZ3VsYXJGaXJlYCBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIHN5bmNocm9uaXphdGlvbi5cbiAgQW5ndWxhckZpcmUgPSBmdW5jdGlvbigkcSwgJHBhcnNlLCAkdGltZW91dCwgcmVmKSB7XG4gICAgdGhpcy5fcSA9ICRxO1xuICAgIHRoaXMuX3BhcnNlID0gJHBhcnNlO1xuICAgIHRoaXMuX3RpbWVvdXQgPSAkdGltZW91dDtcblxuICAgIC8vIHNldCB0byB0cnVlIHdoZW4gJGJpbmQgaXMgY2FsbGVkLCB0aGlzIHRlbGxzIHVzIHdoZXRoZXIgd2UgbmVlZFxuICAgIC8vIHRvIHN5bmNocm9uaXplIGEgJHNjb3BlIHZhcmlhYmxlIGR1cmluZyBkYXRhIGNoYW5nZSBldmVudHNcbiAgICAvLyBhbmQgYWxzbyB3aGV0aGVyIHdlIHdpbGwgbmVlZCB0byAkd2F0Y2ggdGhlIHZhcmlhYmxlIGZvciBjaGFuZ2VzXG4gICAgLy8gd2UgY2FuIG9ubHkgJGJpbmQgdG8gYSBzaW5nbGUgaW5zdGFuY2UgYXQgYSB0aW1lXG4gICAgdGhpcy5fYm91bmQgPSBmYWxzZTtcblxuICAgIC8vIHRydWUgYWZ0ZXIgdGhlIGluaXRpYWwgbG9hZGluZyBldmVudCBjb21wbGV0ZXMsIHNlZSBfZ2V0SW5pdGlhbFZhbHVlKClcbiAgICB0aGlzLl9sb2FkZWQgPSBmYWxzZTtcblxuICAgIC8vIHN0b3JlcyB0aGUgbGlzdCBvZiBrZXlzIGlmIG91ciBkYXRhIGlzIGFuIG9iamVjdCwgc2VlICRnZXRJbmRleCgpXG4gICAgdGhpcy5faW5kZXggPSBbXTtcblxuICAgIC8vIEFuIG9iamVjdCBzdG9yaW5nIGhhbmRsZXJzIHVzZWQgZm9yIGRpZmZlcmVudCBldmVudHMuXG4gICAgdGhpcy5fb24gPSB7XG4gICAgICB2YWx1ZTogW10sXG4gICAgICBjaGFuZ2U6IFtdLFxuICAgICAgbG9hZGVkOiBbXSxcbiAgICAgIGNoaWxkX2FkZGVkOiBbXSxcbiAgICAgIGNoaWxkX21vdmVkOiBbXSxcbiAgICAgIGNoaWxkX2NoYW5nZWQ6IFtdLFxuICAgICAgY2hpbGRfcmVtb3ZlZDogW11cbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiByZWYgPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSBGaXJlYmFzZSByZWZlcmVuY2UgaW5zdGVhZCBcIiArXG4gICAgICAgIFwib2YgYSBVUkwsIGVnOiBuZXcgRmlyZWJhc2UodXJsKVwiKTtcbiAgICB9XG4gICAgdGhpcy5fZlJlZiA9IHJlZjtcbiAgfTtcblxuICBBbmd1bGFyRmlyZS5wcm90b3R5cGUgPSB7XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYnkgdGhlIGZhY3RvcnkgdG8gY3JlYXRlIGEgbmV3IGV4cGxpY2l0IHN5bmNcbiAgICAvLyBwb2ludCBiZXR3ZWVuIGEgcGFydGljdWxhciBtb2RlbCBhbmQgYSBGaXJlYmFzZSBsb2NhdGlvbi5cbiAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIG9iamVjdCA9IHt9O1xuXG4gICAgICAvLyBTZXQgdGhlICRpZCB2YWwgZXF1YWwgdG8gdGhlIEZpcmViYXNlIHJlZmVyZW5jZSdzIG5hbWUoKSBmdW5jdGlvbi5cbiAgICAgIG9iamVjdC4kaWQgPSBzZWxmLl9mUmVmLnJlZigpLm5hbWUoKTtcblxuICAgICAgLy8gRXN0YWJsaXNoIGEgMy13YXkgZGF0YSBiaW5kaW5nIChpbXBsaWNpdCBzeW5jKSB3aXRoIHRoZSBzcGVjaWZpZWRcbiAgICAgIC8vIEZpcmViYXNlIGxvY2F0aW9uIGFuZCBhIG1vZGVsIG9uICRzY29wZS4gVG8gYmUgdXNlZCBmcm9tIGEgY29udHJvbGxlclxuICAgICAgLy8gdG8gYXV0b21hdGljYWxseSBzeW5jaHJvbml6ZSAqYWxsKiBsb2NhbCBjaGFuZ2VzLiBJdCB0YWtlcyB0aHJlZVxuICAgICAgLy8gYXJndW1lbnRzOlxuICAgICAgLy9cbiAgICAgIC8vICAgICogYCRzY29wZWAgICA6IFRoZSBzY29wZSB3aXRoIHdoaWNoIHRoZSBib3VuZCBtb2RlbCBpcyBhc3NvY2lhdGVkLlxuICAgICAgLy8gICAgKiBgbmFtZWAgICAgIDogVGhlIG5hbWUgb2YgdGhlIG1vZGVsLlxuICAgICAgLy8gICAgKiBgZGVmYXVsdEZuYDogQSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGEgZGVmYXVsdCB2YWx1ZSBpZiB0aGVcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgIHJlbW90ZSB2YWx1ZSBpcyBub3Qgc2V0LiBPcHRpb25hbC5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGZ1bmN0aW9uIGFsc28gcmV0dXJucyBhIHByb21pc2UsIHdoaWNoLCB3aGVuIHJlc29sdmVkLCB3aWxsIGJlXG4gICAgICAvLyBwcm92aWRlZCBhbiBgdW5iaW5kYCBtZXRob2QsIGEgZnVuY3Rpb24gd2hpY2ggeW91IGNhbiBjYWxsIHRvIHN0b3BcbiAgICAgIC8vIHdhdGNoaW5nIHRoZSBsb2NhbCBtb2RlbCBmb3IgY2hhbmdlcy5cbiAgICAgIG9iamVjdC4kYmluZCA9IGZ1bmN0aW9uKHNjb3BlLCBuYW1lLCBkZWZhdWx0Rm4pIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX2JpbmQoc2NvcGUsIG5hbWUsIGRlZmF1bHRGbik7XG4gICAgICB9O1xuXG4gICAgICAvLyBBZGQgYW4gb2JqZWN0IHRvIHRoZSByZW1vdGUgZGF0YS4gQWRkaW5nIGFuIG9iamVjdCBpcyB0aGVcbiAgICAgIC8vIGVxdWl2YWxlbnQgb2YgY2FsbGluZyBgcHVzaCgpYCBvbiBhIEZpcmViYXNlIHJlZmVyZW5jZS4gSXQgdGFrZXNcbiAgICAgIC8vIG9uZSBhcmd1bWVudDpcbiAgICAgIC8vXG4gICAgICAvLyAgICAqIGBpdGVtYDogVGhlIG9iamVjdCBvciBwcmltaXRpdmUgdG8gYWRkLlxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhlIGRhdGFcbiAgICAgIC8vIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSB3cml0dGVuIHRvIHRoZSBzZXJ2ZXIuIElmIHRoZSBwcm9taXNlIGlzXG4gICAgICAvLyByZXNvbHZlZCwgaXQgd2lsbCBiZSBwcm92aWRlZCB3aXRoIGEgcmVmZXJlbmNlIHRvIHRoZSBuZXdseSBhZGRlZFxuICAgICAgLy8gb2JqZWN0IG9yIHByaW1pdGl2ZS4gVGhlIGtleSBuYW1lIGNhbiBiZSBleHRyYWN0ZWQgdXNpbmcgYHJlZi5uYW1lKClgLlxuICAgICAgLy8gSWYgdGhlIHByb21pc2UgZmFpbHMsIGl0IHdpbGwgcmVzb2x2ZSB0byBhbiBlcnJvci5cbiAgICAgIG9iamVjdC4kYWRkID0gZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICB2YXIgcmVmO1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSBzZWxmLl9xLmRlZmVyKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gX2FkZENiKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlZik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICByZWYgPSBzZWxmLl9mUmVmLnJlZigpLnB1c2goc2VsZi5fcGFyc2VPYmplY3QoaXRlbSksIF9hZGRDYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVmID0gc2VsZi5fZlJlZi5yZWYoKS5wdXNoKGl0ZW0sIF9hZGRDYik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIG9iamVjdCAob3IgYSBjaGlsZCkgdG8gdGhlIHJlbW90ZS5cbiAgICAgIC8vIFRha2VzIGEgc2luZ2xlIG9wdGlvbmFsIGFyZ3VtZW50OlxuICAgICAgLy9cbiAgICAgIC8vICAgICogYGtleWA6IFNwZWNpZnkgYSBjaGlsZCBrZXkgdG8gc2F2ZSB0aGUgZGF0YSBmb3IuIElmIG5vIGtleSBpc1xuICAgICAgLy8gICAgICAgICAgICAgc3BlY2lmaWVkLCB0aGUgZW50aXJlIG9iamVjdCdzIGN1cnJlbnQgc3RhdGUgd2lsbFxuICAgICAgLy8gICAgICAgICAgICAgYmUgc2F2ZWQuXG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiB0aGVcbiAgICAgIC8vIGRhdGEgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHNhdmVkIHRvIHRoZSBzZXJ2ZXIuXG4gICAgICBvYmplY3QuJHNhdmUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gc2VsZi5fcS5kZWZlcigpO1xuXG4gICAgICAgIGZ1bmN0aW9uIF9zYXZlQ2IoZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgdmFyIG9iaiA9IHNlbGYuX3BhcnNlT2JqZWN0KHNlbGYuX29iamVjdFtrZXldKTtcbiAgICAgICAgICBzZWxmLl9mUmVmLnJlZigpLmNoaWxkKGtleSkuc2V0KG9iaiwgX3NhdmVDYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fZlJlZi5yZWYoKS5zZXQoc2VsZi5fcGFyc2VPYmplY3Qoc2VsZi5fb2JqZWN0KSwgX3NhdmVDYik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFNldCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgb2JqZWN0IHRvIHRoZSBzcGVjaWZpZWQgdmFsdWUuIENhbGxpbmdcbiAgICAgIC8vIHRoaXMgaXMgdGhlIGVxdWl2YWxlbnQgb2YgY2FsbGluZyBgc2V0KClgIG9uIGEgRmlyZWJhc2UgcmVmZXJlbmNlLlxuICAgICAgLy8gVGFrZXMgYSBzaW5nbGUgbWFuZGF0b3J5IGFyZ3VtZW50OlxuICAgICAgLy9cbiAgICAgIC8vICAgICogYG5ld1ZhbHVlYDogVGhlIHZhbHVlIHdoaWNoIHNob3VsZCBvdmVyd3JpdGUgZGF0YSBzdG9yZWQgYXRcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgdGhpcyBsb2NhdGlvbi5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZVxuICAgICAgLy8gZGF0YSBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgc2F2ZWQgdG8gdGhlIHNlcnZlci5cbiAgICAgIG9iamVjdC4kc2V0ID0gZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gc2VsZi5fcS5kZWZlcigpO1xuICAgICAgICBzZWxmLl9mUmVmLnJlZigpLnNldChzZWxmLl9wYXJzZU9iamVjdChuZXdWYWx1ZSksIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvLyBOb24tZGVzdHJ1Y3RpdmVseSB1cGRhdGUgb25seSBhIHN1YnNldCBvZiBrZXlzIGZvciB0aGUgY3VycmVudCBvYmplY3QuXG4gICAgICAvLyBUaGlzIGlzIHRoZSBlcXVpdmFsZW50IG9mIGNhbGxpbmcgYHVwZGF0ZSgpYCBvbiBhIEZpcmViYXNlIHJlZmVyZW5jZS5cbiAgICAgIC8vIFRha2VzIGEgc2luZ2xlIG1hbmRhdG9yeSBhcmd1bWVudDpcbiAgICAgIC8vXG4gICAgICAvLyAgICAqIGBuZXdWYWx1ZWA6IFRoZSBzZXQgb2Yga2V5cyBhbmQgdmFsdWVzIHRoYXQgbXVzdCBiZSB1cGRhdGVkIGZvclxuICAgICAgLy8gICAgICAgICAgICAgICAgICB0aGlzIGxvY2F0aW9uLlxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhlIGRhdGFcbiAgICAgIC8vIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBzYXZlZCB0byB0aGUgc2VydmVyLlxuICAgICAgb2JqZWN0LiR1cGRhdGUgPSBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSBzZWxmLl9xLmRlZmVyKCk7XG4gICAgICAgIHNlbGYuX2ZSZWYucmVmKCkudXBkYXRlKHNlbGYuX3BhcnNlT2JqZWN0KG5ld1ZhbHVlKSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFVwZGF0ZSBhIHZhbHVlIHdpdGhpbiBhIHRyYW5zYWN0aW9uLiBDYWxsaW5nIHRoaXMgaXMgdGhlXG4gICAgICAvLyBlcXVpdmFsZW50IG9mIGNhbGxpbmcgYHRyYW5zYWN0aW9uKClgIG9uIGEgRmlyZWJhc2UgcmVmZXJlbmNlLlxuICAgICAgLy9cbiAgICAgIC8vICAqIGB1cGRhdGVGbmA6ICAgICBBIGRldmVsb3Blci1zdXBwbGllZCBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIHBhc3NlZFxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgIHRoZSBjdXJyZW50IGRhdGEgc3RvcmVkIGF0IHRoaXMgbG9jYXRpb24gKGFzIGFcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICBKYXZhc2NyaXB0IG9iamVjdCkuIFRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRoZVxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgIG5ldyB2YWx1ZSBpdCB3b3VsZCBsaWtlIHdyaXR0ZW4gKGFzIGEgSmF2YXNjcmlwdFxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgIG9iamVjdCkuIElmIFwidW5kZWZpbmVkXCIgaXMgcmV0dXJuZWQgKGkuZS4geW91XG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgXCJyZXR1cm47XCIgd2l0aCBubyBhcmd1bWVudHMpIHRoZSB0cmFuc2FjdGlvbiB3aWxsXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgYmUgYWJvcnRlZCBhbmQgdGhlIGRhdGEgYXQgdGhpcyBsb2NhdGlvbiB3aWxsIG5vdFxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgIGJlIG1vZGlmaWVkLlxuICAgICAgLy8gICogYGFwcGx5TG9jYWxseWA6IEJ5IGRlZmF1bHQsIGV2ZW50cyBhcmUgcmFpc2VkIGVhY2ggdGltZSB0aGVcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbiB1cGRhdGUgZnVuY3Rpb24gcnVucy4gU28gaWYgaXQgaXMgcnVuXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGUgdGltZXMsIHlvdSBtYXkgc2VlIGludGVybWVkaWF0ZSBzdGF0ZXMuXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgWW91IGNhbiBzZXQgdGhpcyB0byBmYWxzZSB0byBzdXBwcmVzcyB0aGVzZVxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZSBzdGF0ZXMgYW5kIGluc3RlYWQgd2FpdCB1bnRpbCB0aGVcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbiBoYXMgY29tcGxldGVkIGJlZm9yZSBldmVudHMgYXJlIHJhaXNlZC5cbiAgICAgIC8vXG4gICAgICAvLyAgVGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiB0aGVcbiAgICAgIC8vICB0cmFuc2FjdGlvbiBmdW5jdGlvbiBoYXMgY29tcGxldGVkLiBBIHN1Y2Nlc3NmdWwgdHJhbnNhY3Rpb24gaXNcbiAgICAgIC8vICByZXNvbHZlZCB3aXRoIHRoZSBzbmFwc2hvdC4gSWYgdGhlIHRyYW5zYWN0aW9uIGlzIGFib3J0ZWQsXG4gICAgICAvLyAgdGhlIHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCB3aXRoIG51bGwuXG4gICAgICBvYmplY3QuJHRyYW5zYWN0aW9uID0gZnVuY3Rpb24odXBkYXRlRm4sIGFwcGx5TG9jYWxseSkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSBzZWxmLl9xLmRlZmVyKCk7XG4gICAgICAgIHNlbGYuX2ZSZWYucmVmKCkudHJhbnNhY3Rpb24odXBkYXRlRm4sXG4gICAgICAgICAgZnVuY3Rpb24oZXJyLCBjb21taXR0ZWQsIHNuYXBzaG90KSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghY29tbWl0dGVkKSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHNuYXBzaG90KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICBhcHBseUxvY2FsbHkpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvLyBSZW1vdmUgdGhpcyBvYmplY3QgZnJvbSB0aGUgcmVtb3RlIGRhdGEuIENhbGxpbmcgdGhpcyBpcyB0aGVcbiAgICAgIC8vIGVxdWl2YWxlbnQgb2YgY2FsbGluZyBgcmVtb3ZlKClgIG9uIGEgRmlyZWJhc2UgcmVmZXJlbmNlLiBUaGlzXG4gICAgICAvLyBmdW5jdGlvbiB0YWtlcyBhIHNpbmdsZSBvcHRpb25hbCBhcmd1bWVudDpcbiAgICAgIC8vXG4gICAgICAvLyAgICAqIGBrZXlgOiBTcGVjaWZ5IGEgY2hpbGQga2V5IHRvIHJlbW92ZS4gSWYgbm8ga2V5IGlzIHNwZWNpZmllZCwgdGhlXG4gICAgICAvLyAgICAgICAgICAgICBlbnRpcmUgb2JqZWN0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSByZW1vdGUgZGF0YSBzdG9yZS5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZVxuICAgICAgLy8gb2JqZWN0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSByZW1vdmVkIGZyb20gdGhlIHNlcnZlci5cbiAgICAgIG9iamVjdC4kcmVtb3ZlID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IHNlbGYuX3EuZGVmZXIoKTtcblxuICAgICAgICBmdW5jdGlvbiBfcmVtb3ZlQ2IoZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgc2VsZi5fZlJlZi5yZWYoKS5jaGlsZChrZXkpLnJlbW92ZShfcmVtb3ZlQ2IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuX2ZSZWYucmVmKCkucmVtb3ZlKF9yZW1vdmVDYik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8vIEdldCBhbiBBbmd1bGFyRmlyZSB3cmFwcGVyIGZvciBhIG5hbWVkIGNoaWxkLiBUaGlzIGZ1bmN0aW9uIHRha2VzXG4gICAgICAvLyBvbmUgbWFuZGF0b3J5IGFyZ3VtZW50OlxuICAgICAgLy9cbiAgICAgIC8vICAgICogYGtleWA6IFRoZSBrZXkgbmFtZSB0aGF0IHdpbGwgcG9pbnQgdG8gdGhlIGNoaWxkIHJlZmVyZW5jZSB0byBiZVxuICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuZWQuXG4gICAgICBvYmplY3QuJGNoaWxkID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHZhciBhZiA9IG5ldyBBbmd1bGFyRmlyZShcbiAgICAgICAgICBzZWxmLl9xLCBzZWxmLl9wYXJzZSwgc2VsZi5fdGltZW91dCwgc2VsZi5fZlJlZi5yZWYoKS5jaGlsZChrZXkpXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBhZi5jb25zdHJ1Y3QoKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIEF0dGFjaCBhbiBldmVudCBoYW5kbGVyIGZvciB3aGVuIHRoZSBvYmplY3QgaXMgY2hhbmdlZC4gWW91IGNhbiBhdHRhY2hcbiAgICAgIC8vIGhhbmRsZXJzIGZvciBhbGwgRmlyZWJhc2UgZXZlbnRzIGxpa2UgXCJjaGlsZF9hZGRlZFwiLCBcInZhbHVlXCIsIGFuZFxuICAgICAgLy8gXCJjaGlsZF9yZW1vdmVkXCIuIEFkZGl0aW9uYWxseSwgdGhlIGZvbGxvd2luZyBldmVudHMsIHNwZWNpZmljIHRvXG4gICAgICAvLyBBbmd1bGFyRmlyZSwgY2FuIGJlIGxpc3RlbmVkIHRvLlxuICAgICAgLy9cbiAgICAgIC8vICAtIFwiY2hhbmdlXCI6IFRoZSBwcm92aWRlZCBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgbG9jYWxcbiAgICAgIC8vICAgICAgICAgICAgICBvYmplY3QgaXMgbW9kaWZpZWQgYmVjYXVzZSB0aGUgcmVtb3RlIGRhdGEgd2FzIHVwZGF0ZWQuXG4gICAgICAvLyAgLSBcImxvYWRlZFwiOiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkICpvbmNlKiwgd2hlbiB0aGUgaW5pdGlhbFxuICAgICAgLy8gICAgICAgICAgICAgIGRhdGEgaGFzIGJlZW4gbG9hZGVkLiAnb2JqZWN0JyB3aWxsIGJlIGFuIGVtcHR5XG4gICAgICAvLyAgICAgICAgICAgICAgb2JqZWN0ICh7fSkgdW50aWwgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gICAgICBvYmplY3QuJG9uID0gZnVuY3Rpb24odHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYoIHNlbGYuX29uLmhhc093blByb3BlcnR5KHR5cGUpICkge1xuICAgICAgICAgIHNlbGYuX3NlbmRJbml0RXZlbnQodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgIC8vIE9uZSBleGNlcHRpb24gaWYgbWFkZSBmb3IgdGhlICdsb2FkZWQnIGV2ZW50LiBJZiB3ZSBhbHJlYWR5IGxvYWRlZFxuICAgICAgICAgIC8vIGRhdGEgKHBlcmhhcHMgYmVjYXVzZSBpdCB3YXMgc3luY2VkKSwgc2ltcGx5IGZpcmUgdGhlIGNhbGxiYWNrLlxuICAgICAgICAgIGlmICh0eXBlICE9PSBcImxvYWRlZFwiIHx8ICF0aGlzLl9sb2FkZWQpIHtcbiAgICAgICAgICAgIHNlbGYuX29uW3R5cGVdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGV2ZW50IHR5cGUgXCIgKyB0eXBlICsgXCIgc3BlY2lmaWVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9O1xuXG4gICAgICAvLyBEZXRhY2ggYW4gZXZlbnQgaGFuZGxlciBmcm9tIGEgc3BlY2lmaWVkIGV2ZW50IHR5cGUuIElmIG5vIGNhbGxiYWNrXG4gICAgICAvLyBpcyBzcGVjaWZpZWQsIGFsbCBldmVudCBoYW5kbGVycyBmb3IgdGhlIHNwZWNpZmllZCBldmVudCB0eXBlIHdpbGxcbiAgICAgIC8vIGJlIGRldGFjaGVkLlxuICAgICAgLy9cbiAgICAgIC8vIElmIG5vIHR5cGUgaWYgcHJvdmlkZWQsIHN5bmNocm9uaXphdGlvbiBmb3IgdGhpcyBpbnN0YW5jZSBvZiAkZmlyZWJhc2VcbiAgICAgIC8vIHdpbGwgYmUgdHVybmVkIG9mZiBjb21wbGV0ZS5cbiAgICAgIG9iamVjdC4kb2ZmID0gZnVuY3Rpb24odHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHNlbGYuX29uLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBzZWxmLl9vblt0eXBlXS5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgc2VsZi5fb25bdHlwZV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5fb25bdHlwZV0gPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fZlJlZi5vZmYoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQXV0aGVudGljYXRlIHRoaXMgRmlyZWJhc2UgcmVmZXJlbmNlIHdpdGggYSBjdXN0b20gYXV0aCB0b2tlbi5cbiAgICAgIC8vIFJlZmVyIHRvIHRoZSBGaXJlYmFzZSBkb2N1bWVudGF0aW9uIG9uIFwiQ3VzdG9tIExvZ2luXCIgZm9yIGRldGFpbHMuXG4gICAgICAvLyBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiBhdXRoZW50aWNhdGlvbiBpc1xuICAgICAgLy8gc3VjY2Vzc2Z1bGx5IGNvbXBsZXRlZC5cbiAgICAgIG9iamVjdC4kYXV0aCA9IGZ1bmN0aW9uKHRva2VuKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IHNlbGYuX3EuZGVmZXIoKTtcbiAgICAgICAgc2VsZi5fZlJlZi5hdXRoKHRva2VuLCBmdW5jdGlvbihlcnIsIG9iaikge1xuICAgICAgICAgIGlmIChlcnIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKG9iaik7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbihyZWopIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QocmVqKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBjdXJyZW50IGluZGV4LCB3aGljaCBpcyBhIGxpc3Qgb2Yga2V5IG5hbWVzIGluIGFuIGFycmF5LFxuICAgICAgLy8gb3JkZXJlZCBieSB0aGVpciBGaXJlYmFzZSBwcmlvcml0eS5cbiAgICAgIG9iamVjdC4kZ2V0SW5kZXggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuY29weShzZWxmLl9pbmRleCk7XG4gICAgICB9O1xuXG4gICAgICAvLyBSZXR1cm4gdGhlIHJlZmVyZW5jZSB1c2VkIGJ5IHRoaXMgb2JqZWN0LlxuICAgICAgb2JqZWN0LiRnZXRSZWYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX2ZSZWYucmVmKCk7XG4gICAgICB9O1xuXG4gICAgICBzZWxmLl9vYmplY3QgPSBvYmplY3Q7XG4gICAgICBzZWxmLl9nZXRJbml0aWFsVmFsdWUoKTtcblxuICAgICAgcmV0dXJuIHNlbGYuX29iamVjdDtcbiAgICB9LFxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgZmV0Y2hpbmcgdGhlIGluaXRpYWwgZGF0YSBmb3IgdGhlXG4gICAgLy8gZ2l2ZW4gcmVmZXJlbmNlIGFuZCBhdHRhY2hpbmcgYXBwcm9wcmlhdGUgY2hpbGQgZXZlbnQgaGFuZGxlcnMuXG4gICAgX2dldEluaXRpYWxWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIHN0b3JlIGNoYW5nZXMgdG8gY2hpbGRyZW4gYW5kIHVwZGF0ZSB0aGUgaW5kZXggb2Yga2V5cyBhcHByb3ByaWF0ZWx5XG4gICAgICBmdW5jdGlvbiBfcHJvY2Vzc1NuYXBzaG90KHNuYXBzaG90LCBwcmV2Q2hpbGQpIHtcbiAgICAgICAgdmFyIGtleSA9IHNuYXBzaG90Lm5hbWUoKTtcbiAgICAgICAgdmFyIHZhbCA9IHNuYXBzaG90LnZhbCgpO1xuXG4gICAgICAgIC8vIElmIHRoZSBpdGVtIGFscmVhZHkgZXhpc3RzIGluIHRoZSBpbmRleCwgcmVtb3ZlIGl0IGZpcnN0LlxuICAgICAgICB2YXIgY3VySWR4ID0gc2VsZi5faW5kZXguaW5kZXhPZihrZXkpO1xuICAgICAgICBpZiAoY3VySWR4ICE9PSAtMSkge1xuICAgICAgICAgIHNlbGYuX2luZGV4LnNwbGljZShjdXJJZHgsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIGluZGV4LiBUaGlzIGlzIHVzZWQgYnkgJGdldEluZGV4IGFuZCBvcmRlckJ5UHJpb3JpdHkuXG4gICAgICAgIGlmIChwcmV2Q2hpbGQpIHtcbiAgICAgICAgICB2YXIgcHJldklkeCA9IHNlbGYuX2luZGV4LmluZGV4T2YocHJldkNoaWxkKTtcbiAgICAgICAgICBzZWxmLl9pbmRleC5zcGxpY2UocHJldklkeCArIDEsIDAsIGtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5faW5kZXgudW5zaGlmdChrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgdGhlIHByaW9yaXR5IG9mIHRoZSBjdXJyZW50IHByb3BlcnR5IGFzIFwiJHByaW9yaXR5XCIuIENoYW5naW5nXG4gICAgICAgIC8vIHRoZSB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IHdpbGwgYWxzbyB1cGRhdGUgdGhlIHByaW9yaXR5IG9mIHRoZVxuICAgICAgICAvLyBvYmplY3QgKHNlZSBfcGFyc2VPYmplY3QpLlxuICAgICAgICBpZiAoIV9pc1ByaW1pdGl2ZSh2YWwpICYmIHNuYXBzaG90LmdldFByaW9yaXR5KCkgIT09IG51bGwpIHtcbiAgICAgICAgICB2YWwuJHByaW9yaXR5ID0gc25hcHNob3QuZ2V0UHJpb3JpdHkoKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLl91cGRhdGVNb2RlbChrZXksIHZhbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBhdHRhY2ggYW5kIGJyb2FkY2FzdCBldmVudHMuXG4gICAgICBmdW5jdGlvbiBfaGFuZGxlQW5kQnJvYWRjYXN0RXZlbnQodHlwZSwgaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oc25hcHNob3QsIHByZXZDaGlsZCkge1xuICAgICAgICAgIGhhbmRsZXIoc25hcHNob3QsIHByZXZDaGlsZCk7XG4gICAgICAgICAgc2VsZi5fYnJvYWRjYXN0RXZlbnQodHlwZSwgc2VsZi5fbWFrZUV2ZW50U25hcHNob3Qoc25hcHNob3QubmFtZSgpLCBzbmFwc2hvdC52YWwoKSwgcHJldkNoaWxkKSk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF9oYW5kbGVGaXJlYmFzZUV2ZW50KHR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgc2VsZi5fZlJlZi5vbih0eXBlLCBfaGFuZGxlQW5kQnJvYWRjYXN0RXZlbnQodHlwZSwgaGFuZGxlcikpO1xuICAgICAgfVxuICAgICAgX2hhbmRsZUZpcmViYXNlRXZlbnQoXCJjaGlsZF9hZGRlZFwiLCBfcHJvY2Vzc1NuYXBzaG90KTtcbiAgICAgIF9oYW5kbGVGaXJlYmFzZUV2ZW50KFwiY2hpbGRfbW92ZWRcIiwgX3Byb2Nlc3NTbmFwc2hvdCk7XG4gICAgICBfaGFuZGxlRmlyZWJhc2VFdmVudChcImNoaWxkX2NoYW5nZWRcIiwgX3Byb2Nlc3NTbmFwc2hvdCk7XG4gICAgICBfaGFuZGxlRmlyZWJhc2VFdmVudChcImNoaWxkX3JlbW92ZWRcIiwgZnVuY3Rpb24oc25hcHNob3QpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGZyb20gaW5kZXguXG4gICAgICAgIHZhciBrZXkgPSBzbmFwc2hvdC5uYW1lKCk7XG4gICAgICAgIHZhciBpZHggPSBzZWxmLl9pbmRleC5pbmRleE9mKGtleSk7XG4gICAgICAgIHNlbGYuX2luZGV4LnNwbGljZShpZHgsIDEpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIGxvY2FsIG1vZGVsLlxuICAgICAgICBzZWxmLl91cGRhdGVNb2RlbChrZXksIG51bGwpO1xuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIF9pc1ByaW1pdGl2ZSh2KSB7XG4gICAgICAgIHJldHVybiB2ID09PSBudWxsIHx8IHR5cGVvZih2KSAhPT0gJ29iamVjdCc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF9pbml0aWFsTG9hZCh2YWx1ZSkge1xuICAgICAgICAvLyBDYWxsIGhhbmRsZXJzIGZvciB0aGUgXCJsb2FkZWRcIiBldmVudC5cbiAgICAgICAgc2VsZi5fbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgc2VsZi5fYnJvYWRjYXN0RXZlbnQoXCJsb2FkZWRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVOdWxsVmFsdWVzKHZhbHVlKSB7XG4gICAgICAgIC8vIE5VTExzIGFyZSBoYW5kbGVkIHNwZWNpYWxseS4gSWYgdGhlcmUncyBhIDMtd2F5IGRhdGEgYmluZGluZ1xuICAgICAgICAvLyBvbiBhIGxvY2FsIHByaW1pdGl2ZSwgdGhlbiB1cGRhdGUgdGhhdCwgb3RoZXJ3aXNlIHN3aXRjaCB0byBvYmplY3RcbiAgICAgICAgLy8gYmluZGluZyB1c2luZyBjaGlsZCBldmVudHMuXG4gICAgICAgIGlmIChzZWxmLl9ib3VuZCAmJiB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHZhciBsb2NhbCA9IHNlbGYuX3BhcnNlT2JqZWN0KHNlbGYuX3BhcnNlKHNlbGYuX25hbWUpKHNlbGYuX3Njb3BlKSk7XG4gICAgICAgICAgc3dpdGNoICh0eXBlb2YgbG9jYWwpIHtcbiAgICAgICAgICAvLyBQcmltaXRpdmUgZGVmYXVsdHMuXG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgIHZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICB2YWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSBoYW5kbGUgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyBoZXJlIHRvZ2V0aGVyLiBUaGVyZSBpcyBubyBoYXJtIGluIGhhdmluZ1xuICAgICAgLy8gY2hpbGRfKiBsaXN0ZW5lcnMgYXR0YWNoZWQ7IGlmIHRoZSBkYXRhIHN1ZGRlbmx5IGNoYW5nZXMgYmV0d2VlbiBhbiBvYmplY3RcbiAgICAgIC8vIGFuZCBhIHByaW1pdGl2ZSwgdGhlIGNoaWxkX2FkZGVkL3JlbW92ZWQgZXZlbnRzIHdpbGwgZmlyZSwgYW5kIG91ciBkYXRhIGhlcmVcbiAgICAgIC8vIHdpbGwgZ2V0IHVwZGF0ZWQgYWNjb3JkaW5nbHkgc28gd2Ugc2hvdWxkIGJlIGFibGUgdG8gdHJhbnNpdGlvbiB3aXRob3V0IGlzc3VlXG4gICAgICBzZWxmLl9mUmVmLm9uKCd2YWx1ZScsIGZ1bmN0aW9uKHNuYXApIHtcbiAgICAgICAgLy8gcHJpbWl0aXZlIGhhbmRsaW5nXG4gICAgICAgIHZhciB2YWx1ZSA9IHNuYXAudmFsKCk7XG4gICAgICAgIGlmKCBfaXNQcmltaXRpdmUodmFsdWUpICkge1xuICAgICAgICAgIHZhbHVlID0gaGFuZGxlTnVsbFZhbHVlcyh2YWx1ZSk7XG4gICAgICAgICAgc2VsZi5fdXBkYXRlUHJpbWl0aXZlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgc2VsZi5fb2JqZWN0LiR2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJyb2FkY2FzdCB0aGUgdmFsdWUgZXZlbnRcbiAgICAgICAgc2VsZi5fYnJvYWRjYXN0RXZlbnQoJ3ZhbHVlJywgc2VsZi5fbWFrZUV2ZW50U25hcHNob3Qoc25hcC5uYW1lKCksIHZhbHVlKSk7XG5cbiAgICAgICAgLy8gYnJvYWRjYXN0IGluaXRpYWwgbG9hZGVkIGV2ZW50IG9uY2UgZGF0YSBhbmQgaW5kaWNlcyBhcmUgc2V0IHVwIGFwcHJvcHJpYXRlbHlcbiAgICAgICAgaWYoICFzZWxmLl9sb2FkZWQgKSB7XG4gICAgICAgICAgX2luaXRpYWxMb2FkKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIENhbGxlZCB3aGVuZXZlciB0aGVyZSBpcyBhIHJlbW90ZSBjaGFuZ2UuIEFwcGxpZXMgdGhlbSB0byB0aGUgbG9jYWxcbiAgICAvLyBtb2RlbCBmb3IgYm90aCBleHBsaWNpdCBhbmQgaW1wbGljaXQgc3luYyBtb2Rlcy5cbiAgICBfdXBkYXRlTW9kZWw6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9vYmplY3Rba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX29iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENhbGwgY2hhbmdlIGhhbmRsZXJzLlxuICAgICAgdGhpcy5fYnJvYWRjYXN0RXZlbnQoXCJjaGFuZ2VcIiwga2V5KTtcblxuICAgICAgLy8gdXBkYXRlIEFuZ3VsYXIgYnkgZm9yY2luZyBhIGNvbXBpbGUgZXZlbnRcbiAgICAgIHRoaXMuX3RyaWdnZXJNb2RlbFVwZGF0ZSgpO1xuICAgIH0sXG5cbiAgICAvLyB0aGlzIG1ldGhvZCB0cmlnZ2VycyBhIHNlbGYuX3RpbWVvdXQgZXZlbnQsIHdoaWNoIGZvcmNlcyBBbmd1bGFyIHRvIHJ1biAkYXBwbHkoKVxuICAgIC8vIGFuZCBjb21waWxlIHRoZSBET00gY29udGVudFxuICAgIF90cmlnZ2VyTW9kZWxVcGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gc2luY2UgdGhlIHRpbWVvdXQgcnVucyBhc3luY2hyb25vdXNseSwgbXVsdGlwbGUgdXBkYXRlcyBjb3VsZCBpbnZva2UgdGhpcyBtZXRob2RcbiAgICAgIC8vIGJlZm9yZSBpdCBpcyBhY3R1YWxseSBleGVjdXRlZCAodGhpcyBvY2N1cnMgd2hlbiBGaXJlYmFzZSBzZW5kcyBpdCdzIGluaXRpYWwgZGVsdWdlIG9mIGRhdGFcbiAgICAgIC8vIGJhY2sgdG8gb3VyIF9nZXRJbml0aWFsVmFsdWUoKSBtZXRob2QsIG9yIHdoZW4gdGhlcmUgYXJlIGxvY2FsbHkgY2FjaGVkIGNoYW5nZXMpXG4gICAgICAvLyBXZSBkb24ndCB3YW50IHRvIHRyaWdnZXIgaXQgbXVsdGlwbGUgdGltZXMgaWYgd2UgY2FuIGhlbHAsIGNyZWF0aW5nIG11bHRpcGxlIGRpcnR5IGNoZWNrc1xuICAgICAgLy8gYW5kICRhcHBseSBvcGVyYXRpb25zLCB3aGljaCBhcmUgY29zdGx5LCBzbyBpZiBvbmUgaXMgYWxyZWFkeSBxdWV1ZWQsIHdlIGp1c3Qgd2FpdCBmb3JcbiAgICAgIC8vIGl0IHRvIGRvIGl0cyB3b3JrLlxuICAgICAgaWYoICF0aGlzLl9ydW5uaW5nVGltZXIgKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5fcnVubmluZ1RpbWVyID0gc2VsZi5fdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLl9ydW5uaW5nVGltZXIgPSBudWxsO1xuXG4gICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gaW1wbGljaXQgYmluZGluZywgYWxzbyB1cGRhdGUgdGhlIGxvY2FsIG1vZGVsLlxuICAgICAgICAgIGlmICghc2VsZi5fYm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgY3VycmVudCA9IHNlbGYuX29iamVjdDtcbiAgICAgICAgICB2YXIgbG9jYWwgPSBzZWxmLl9wYXJzZShzZWxmLl9uYW1lKShzZWxmLl9zY29wZSk7XG4gICAgICAgICAgLy8gSWYgcmVtb3RlIHZhbHVlIG1hdGNoZXMgbG9jYWwgdmFsdWUsIGRvbid0IGRvIGFueXRoaW5nLCBvdGhlcndpc2VcbiAgICAgICAgICAvLyBhcHBseSB0aGUgY2hhbmdlLlxuICAgICAgICAgIGlmICghYW5ndWxhci5lcXVhbHMoY3VycmVudCwgbG9jYWwpKSB7XG4gICAgICAgICAgICBzZWxmLl9wYXJzZShzZWxmLl9uYW1lKS5hc3NpZ24oc2VsZi5fc2NvcGUsIGFuZ3VsYXIuY29weShjdXJyZW50KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gQ2FsbGVkIHdoZW5ldmVyIHRoZXJlIGlzIGEgcmVtb3RlIGNoYW5nZSBmb3IgYSBwcmltaXRpdmUgdmFsdWUuXG4gICAgX3VwZGF0ZVByaW1pdGl2ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHNlbGYuX3RpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFByaW1pdGl2ZSB2YWx1ZXMgYXJlIHJlcHJlc2VudGVkIGFzIGEgc3BlY2lhbCBvYmplY3RcbiAgICAgICAgLy8geyR2YWx1ZTogdmFsdWV9LiBPbmx5IHVwZGF0ZSBpZiB0aGUgcmVtb3RlIHZhbHVlIGlzIGRpZmZlcmVudCBmcm9tXG4gICAgICAgIC8vIHRoZSBsb2NhbCB2YWx1ZS5cbiAgICAgICAgaWYgKCFzZWxmLl9vYmplY3QuJHZhbHVlIHx8XG4gICAgICAgICAgICAhYW5ndWxhci5lcXVhbHMoc2VsZi5fb2JqZWN0LiR2YWx1ZSwgdmFsdWUpKSB7XG4gICAgICAgICAgc2VsZi5fb2JqZWN0LiR2YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsbCBjaGFuZ2UgaGFuZGxlcnMuXG4gICAgICAgIHNlbGYuX2Jyb2FkY2FzdEV2ZW50KFwiY2hhbmdlXCIpO1xuXG4gICAgICAgIC8vIElmIHRoZXJlJ3MgYW4gaW1wbGljaXQgYmluZGluZywgc2ltcGx5IHVwZGF0ZSB0aGUgbG9jYWwgc2NvcGUgbW9kZWwuXG4gICAgICAgIGlmIChzZWxmLl9ib3VuZCkge1xuICAgICAgICAgIHZhciBsb2NhbCA9IHNlbGYuX3BhcnNlT2JqZWN0KHNlbGYuX3BhcnNlKHNlbGYuX25hbWUpKHNlbGYuX3Njb3BlKSk7XG4gICAgICAgICAgaWYgKCFhbmd1bGFyLmVxdWFscyhsb2NhbCwgdmFsdWUpKSB7XG4gICAgICAgICAgICBzZWxmLl9wYXJzZShzZWxmLl9uYW1lKS5hc3NpZ24oc2VsZi5fc2NvcGUsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBJZiBldmVudCBoYW5kbGVycyBmb3IgYSBzcGVjaWZpZWQgZXZlbnQgd2VyZSBhdHRhY2hlZCwgY2FsbCB0aGVtLlxuICAgIF9icm9hZGNhc3RFdmVudDogZnVuY3Rpb24oZXZ0LCBwYXJhbSkge1xuICAgICAgdmFyIGNicyA9IHRoaXMuX29uW2V2dF0gfHwgW107XG4gICAgICBpZiggZXZ0ID09PSAnbG9hZGVkJyApIHtcbiAgICAgICAgdGhpcy5fb25bZXZ0XSA9IFtdOyAvLyByZWxlYXNlIG1lbW9yeVxuICAgICAgfVxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBmdW5jdGlvbiBfd3JhcFRpbWVvdXQoY2IsIHBhcmFtKSB7XG4gICAgICAgIHNlbGYuX3RpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY2IocGFyYW0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNicy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYnNbaV0gPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBfd3JhcFRpbWVvdXQoY2JzW2ldLCBwYXJhbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIHRyaWdnZXJzIGFuIGluaXRpYWwgZXZlbnQgZm9yIGxvYWRlZCwgdmFsdWUsIGFuZCBjaGlsZF9hZGRlZCBldmVudHMgKHdoaWNoIGdldCBpbW1lZGlhdGUgZmVlZGJhY2spXG4gICAgX3NlbmRJbml0RXZlbnQ6IGZ1bmN0aW9uKGV2dCwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmKCBzZWxmLl9sb2FkZWQgJiYgWydjaGlsZF9hZGRlZCcsICdsb2FkZWQnLCAndmFsdWUnXS5pbmRleE9mKGV2dCkgPiAtMSApIHtcbiAgICAgICAgc2VsZi5fdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcGFyc2VkVmFsdWUgPSBhbmd1bGFyLmlzT2JqZWN0KHNlbGYuX29iamVjdCk/IHNlbGYuX3BhcnNlT2JqZWN0KHNlbGYuX29iamVjdCkgOiBzZWxmLl9vYmplY3Q7XG4gICAgICAgICAgc3dpdGNoKGV2dCkge1xuICAgICAgICAgIGNhc2UgJ2xvYWRlZCc6XG4gICAgICAgICAgICBjYWxsYmFjayhwYXJzZWRWYWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgICAgICBjYWxsYmFjayhzZWxmLl9tYWtlRXZlbnRTbmFwc2hvdChzZWxmLl9mUmVmLm5hbWUoKSwgcGFyc2VkVmFsdWUsIG51bGwpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2NoaWxkX2FkZGVkJzpcbiAgICAgICAgICAgIHNlbGYuX2l0ZXJhdGVDaGlsZHJlbihwYXJzZWRWYWx1ZSwgZnVuY3Rpb24obmFtZSwgdmFsLCBwcmV2KSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKHNlbGYuX21ha2VFdmVudFNuYXBzaG90KG5hbWUsIHZhbCwgcHJldikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OiAvLyBub3QgcmVhY2hhYmxlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gYXNzdW1pbmcgZGF0YSBpcyBhbiBvYmplY3QsIHRoaXMgbWV0aG9kIHdpbGwgaXRlcmF0ZSBhbGxcbiAgICAvLyBjaGlsZCBrZXlzIGFuZCBpbnZva2UgY2FsbGJhY2sgd2l0aCAoa2V5LCB2YWx1ZSwgcHJldkNoaWxkKVxuICAgIF9pdGVyYXRlQ2hpbGRyZW46IGZ1bmN0aW9uKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICBpZiggdGhpcy5fbG9hZGVkICYmIGFuZ3VsYXIuaXNPYmplY3QoZGF0YSkgKSB7XG4gICAgICAgIHZhciBwcmV2ID0gbnVsbDtcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgIGlmKCBkYXRhLmhhc093blByb3BlcnR5KGtleSkgKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhrZXksIGRhdGFba2V5XSwgcHJldik7XG4gICAgICAgICAgICBwcmV2ID0ga2V5O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBjcmVhdGVzIGEgc25hcHNob3Qgb2JqZWN0IGNvbXBhdGlibGUgd2l0aCBfYnJvYWRjYXN0RXZlbnQgbm90aWZpY2F0aW9uc1xuICAgIF9tYWtlRXZlbnRTbmFwc2hvdDogZnVuY3Rpb24oa2V5LCB2YWx1ZSwgcHJldkNoaWxkKSB7XG4gICAgICBpZiggYW5ndWxhci5pc1VuZGVmaW5lZChwcmV2Q2hpbGQpICkge1xuICAgICAgICBwcmV2Q2hpbGQgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc25hcHNob3Q6IHtcbiAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIHByZXZDaGlsZDogcHJldkNoaWxkXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYSAzLXdheSBiaW5kaW5nIGJldHdlZW4gdGhlIHByb3ZpZGVkIHNjb3BlIG1vZGVsXG4gICAgLy8gYW5kIEZpcmViYXNlLiBBbGwgY2hhbmdlcyBtYWRlIHRvIHRoZSBsb2NhbCBtb2RlbCBhcmUgc2F2ZWQgdG8gRmlyZWJhc2VcbiAgICAvLyBhbmQgY2hhbmdlcyB0byB0aGUgcmVtb3RlIGRhdGEgYXV0b21hdGljYWxseSBhcHBlYXIgb24gdGhlIGxvY2FsIG1vZGVsLlxuICAgIF9iaW5kOiBmdW5jdGlvbihzY29wZSwgbmFtZSwgZGVmYXVsdEZuKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZGVmZXJyZWQgPSBzZWxmLl9xLmRlZmVyKCk7XG5cbiAgICAgIC8vIF91cGRhdGVNb2RlbCBvciBfdXBkYXRlUHJpbWl0aXZlIHdpbGwgdGFrZSBjYXJlIG9mIHVwZGF0aW5nIHRoZSBsb2NhbFxuICAgICAgLy8gbW9kZWwgaWYgX2JvdW5kIGlzIHNldCB0byB0cnVlLlxuICAgICAgc2VsZi5fbmFtZSA9IG5hbWU7XG4gICAgICBzZWxmLl9ib3VuZCA9IHRydWU7XG4gICAgICBzZWxmLl9zY29wZSA9IHNjb3BlO1xuXG4gICAgICAvLyBJZiB0aGUgbG9jYWwgbW9kZWwgaXMgYW4gb2JqZWN0LCBjYWxsIGFuIHVwZGF0ZSB0byBzZXQgbG9jYWwgdmFsdWVzLlxuICAgICAgdmFyIGxvY2FsID0gc2VsZi5fcGFyc2UobmFtZSkoc2NvcGUpO1xuICAgICAgaWYgKGxvY2FsICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGxvY2FsID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgc2VsZi5fZlJlZi5yZWYoKS51cGRhdGUoc2VsZi5fcGFyc2VPYmplY3QobG9jYWwpKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2UncmUgcmVzcG9uc2libGUgZm9yIHNldHRpbmcgdXAgc2NvcGUuJHdhdGNoIHRvIHJlZmxlY3QgbG9jYWwgY2hhbmdlc1xuICAgICAgLy8gb24gdGhlIEZpcmViYXNlIGRhdGEuXG4gICAgICB2YXIgdW5iaW5kID0gc2NvcGUuJHdhdGNoKG5hbWUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBJZiB0aGUgbmV3IGxvY2FsIHZhbHVlIG1hdGNoZXMgdGhlIGN1cnJlbnQgcmVtb3RlIHZhbHVlLCB3ZSBkb24ndFxuICAgICAgICAvLyB0cmlnZ2VyIGEgcmVtb3RlIHVwZGF0ZS5cbiAgICAgICAgdmFyIGxvY2FsID0gc2VsZi5fcGFyc2VPYmplY3Qoc2VsZi5fcGFyc2UobmFtZSkoc2NvcGUpKTtcbiAgICAgICAgaWYgKHNlbGYuX29iamVjdC4kdmFsdWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgYW5ndWxhci5lcXVhbHMobG9jYWwsIHNlbGYuX29iamVjdC4kdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuZXF1YWxzKGxvY2FsLCBzZWxmLl9wYXJzZU9iamVjdChzZWxmLl9vYmplY3QpKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBsb2NhbCBtb2RlbCBpcyB1bmRlZmluZWQgb3IgdGhlIHJlbW90ZSBkYXRhIGhhc24ndCBiZWVuXG4gICAgICAgIC8vIGxvYWRlZCB5ZXQsIGRvbid0IHVwZGF0ZS5cbiAgICAgICAgaWYgKGxvY2FsID09PSB1bmRlZmluZWQgfHwgIXNlbGYuX2xvYWRlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVzZSB1cGRhdGUgaWYgbGltaXRzIGFyZSBpbiBlZmZlY3QsIHNldCBpZiBub3QuXG4gICAgICAgIGlmIChzZWxmLl9mUmVmLnNldCkge1xuICAgICAgICAgIHNlbGYuX2ZSZWYuc2V0KGxvY2FsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9mUmVmLnJlZigpLnVwZGF0ZShsb2NhbCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRydWUpO1xuXG4gICAgICAvLyBXaGVuIHRoZSBzY29wZSBpcyBkZXN0cm95ZWQsIHVuYmluZCBhdXRvbWF0aWNhbGx5LlxuICAgICAgc2NvcGUuJG9uKFwiJGRlc3Ryb3lcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHVuYmluZCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE9uY2Ugd2UgcmVjZWl2ZSB0aGUgaW5pdGlhbCB2YWx1ZSwgdGhlIHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZC5cbiAgICAgIHNlbGYuX2ZSZWYub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uKHNuYXApIHtcbiAgICAgICAgc2VsZi5fdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBIQUNLIC8gRklYTUU6IE9iamVjdHMgcmVxdWlyZSBhIHNlY29uZCBldmVudCBsb29wIHJ1biwgc2luY2Ugd2VcbiAgICAgICAgICAvLyBzd2l0Y2ggZnJvbSB2YWx1ZSBldmVudHMgdG8gY2hpbGRfYWRkZWQuIFNlZSAjMjA5IG9uIEdpdGh1Yi5cbiAgICAgICAgICBpZiAodHlwZW9mIHNuYXAudmFsKCkgIT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHJlbW90ZSB2YWx1ZSBpcyBub3Qgc2V0IGFuZCBkZWZhdWx0Rm4gd2FzIHByb3ZpZGVkLFxuICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgbG9jYWwgdmFsdWUgd2l0aCB0aGUgcmVzdWx0IG9mIGRlZmF1bHRGbigpLlxuICAgICAgICAgICAgaWYgKHNuYXAudmFsKCkgPT0gbnVsbCAmJiB0eXBlb2YgZGVmYXVsdEZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIHNjb3BlW25hbWVdID0gZGVmYXVsdEZuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHVuYmluZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuX3RpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSByZW1vdGUgdmFsdWUgaXMgbm90IHNldCBhbmQgZGVmYXVsdEZuIHdhcyBwcm92aWRlZCxcbiAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgbG9jYWwgdmFsdWUgd2l0aCB0aGUgcmVzdWx0IG9mIGRlZmF1bHRGbigpLlxuICAgICAgICAgICAgICBpZiAoc25hcC52YWwoKSA9PSBudWxsICYmIHR5cGVvZiBkZWZhdWx0Rm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBzY29wZVtuYW1lXSA9IGRlZmF1bHRGbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodW5iaW5kKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfSxcblxuICAgIC8vIFBhcnNlIGEgbG9jYWwgbW9kZWwsIHJlbW92aW5nIGFsbCBwcm9wZXJ0aWVzIGJlZ2lubmluZyB3aXRoIFwiJFwiIGFuZFxuICAgIC8vIGNvbnZlcnRpbmcgJHByaW9yaXR5IHRvIFwiLnByaW9yaXR5XCIuXG4gICAgX3BhcnNlT2JqZWN0OiBmdW5jdGlvbihvYmopIHtcbiAgICAgIGZ1bmN0aW9uIF9maW5kUmVwbGFjZVByaW9yaXR5KGl0ZW0pIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBpdGVtKSB7XG4gICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgIGlmIChwcm9wID09IFwiJHByaW9yaXR5XCIpIHtcbiAgICAgICAgICAgICAgaXRlbVtcIi5wcmlvcml0eVwiXSA9IGl0ZW0uJHByaW9yaXR5O1xuICAgICAgICAgICAgICBkZWxldGUgaXRlbS4kcHJpb3JpdHk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtW3Byb3BdID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgX2ZpbmRSZXBsYWNlUHJpb3JpdHkoaXRlbVtwcm9wXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSB1c2UgdG9Kc29uL2Zyb21Kc29uIHRvIHJlbW92ZSAkJGhhc2hLZXkgYW5kIG90aGVycy4gQ2FuIGJlIHJlcGxhY2VkXG4gICAgICAvLyBieSBhbmd1bGFyLmNvcHksIGJ1dCBvbmx5IGZvciBsYXRlciB2ZXJzaW9ucyBvZiBBbmd1bGFySlMuXG4gICAgICB2YXIgbmV3T2JqID0gX2ZpbmRSZXBsYWNlUHJpb3JpdHkoYW5ndWxhci5jb3B5KG9iaikpO1xuICAgICAgcmV0dXJuIGFuZ3VsYXIuZnJvbUpzb24oYW5ndWxhci50b0pzb24obmV3T2JqKSk7XG4gICAgfVxuICB9O1xuXG5cbiAgLy8gRGVmaW5lcyB0aGUgYCRmaXJlYmFzZVNpbXBsZUxvZ2luYCBzZXJ2aWNlIHRoYXQgcHJvdmlkZXMgc2ltcGxlXG4gIC8vIHVzZXIgYXV0aGVudGljYXRpb24gc3VwcG9ydCBmb3IgQW5ndWxhckZpcmUuXG4gIGFuZ3VsYXIubW9kdWxlKFwiZmlyZWJhc2VcIikuZmFjdG9yeShcIiRmaXJlYmFzZVNpbXBsZUxvZ2luXCIsIFtcbiAgICBcIiRxXCIsIFwiJHRpbWVvdXRcIiwgXCIkcm9vdFNjb3BlXCIsIGZ1bmN0aW9uKCRxLCAkdCwgJHJzKSB7XG4gICAgICAvLyBUaGUgZmFjdG9yeSByZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBhdXRoZW50aWNhdGlvbiBzdGF0ZVxuICAgICAgLy8gb2YgdGhlIGN1cnJlbnQgdXNlci4gVGhpcyBzZXJ2aWNlIHRha2VzIG9uZSBhcmd1bWVudDpcbiAgICAgIC8vXG4gICAgICAvLyAgICogYHJlZmAgICAgIDogQSBGaXJlYmFzZSByZWZlcmVuY2UuXG4gICAgICAvL1xuICAgICAgLy8gVGhlIHJldHVybmVkIG9iamVjdCBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAgLy9cbiAgICAgIC8vICAqIGB1c2VyYDogU2V0IHRvIFwibnVsbFwiIGlmIHRoZSB1c2VyIGlzIGN1cnJlbnRseSBsb2dnZWQgb3V0LiBUaGlzXG4gICAgICAvLyAgICB2YWx1ZSB3aWxsIGJlIGNoYW5nZWQgdG8gYW4gb2JqZWN0IHdoZW4gdGhlIHVzZXIgc3VjY2Vzc2Z1bGx5IGxvZ3NcbiAgICAgIC8vICAgIGluLiBUaGlzIG9iamVjdCB3aWxsIGNvbnRhaW4gZGV0YWlscyBvZiB0aGUgbG9nZ2VkIGluIHVzZXIuIFRoZVxuICAgICAgLy8gICAgZXhhY3QgcHJvcGVydGllcyB3aWxsIHZhcnkgYmFzZWQgb24gdGhlIG1ldGhvZCB1c2VkIHRvIGxvZ2luLCBidXRcbiAgICAgIC8vICAgIHdpbGwgYXQgYSBtaW5pbXVtIGNvbnRhaW4gdGhlIGBpZGAgYW5kIGBwcm92aWRlcmAgcHJvcGVydGllcy5cbiAgICAgIC8vXG4gICAgICAvLyBUaGUgcmV0dXJuZWQgb2JqZWN0IHdpbGwgYWxzbyBoYXZlIHRoZSBmb2xsb3dpbmcgbWV0aG9kcyBhdmFpbGFibGU6XG4gICAgICAvLyAkbG9naW4oKSwgJGxvZ291dCgpLCAkY3JlYXRlVXNlcigpLCAkY2hhbmdlUGFzc3dvcmQoKSwgJHJlbW92ZVVzZXIoKSxcbiAgICAgIC8vIGFuZCAkZ2V0Q3VycmVudFVzZXIoKS5cbiAgICAgIHJldHVybiBmdW5jdGlvbihyZWYpIHtcbiAgICAgICAgdmFyIGF1dGggPSBuZXcgQW5ndWxhckZpcmVBdXRoKCRxLCAkdCwgJHJzLCByZWYpO1xuICAgICAgICByZXR1cm4gYXV0aC5jb25zdHJ1Y3QoKTtcbiAgICAgIH07XG4gICAgfVxuICBdKTtcblxuICBBbmd1bGFyRmlyZUF1dGggPSBmdW5jdGlvbigkcSwgJHQsICRycywgcmVmKSB7XG4gICAgdGhpcy5fcSA9ICRxO1xuICAgIHRoaXMuX3RpbWVvdXQgPSAkdDtcbiAgICB0aGlzLl9yb290U2NvcGUgPSAkcnM7XG4gICAgdGhpcy5fbG9naW5EZWZlcnJlZCA9IG51bGw7XG4gICAgdGhpcy5fZ2V0Q3VycmVudFVzZXJEZWZlcnJlZCA9IFtdO1xuICAgIHRoaXMuX2N1cnJlbnRVc2VyRGF0YSA9IHVuZGVmaW5lZDtcblxuICAgIGlmICh0eXBlb2YgcmVmID09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIGEgRmlyZWJhc2UgcmVmZXJlbmNlIGluc3RlYWQgXCIgK1xuICAgICAgICBcIm9mIGEgVVJMLCBlZzogbmV3IEZpcmViYXNlKHVybClcIik7XG4gICAgfVxuICAgIHRoaXMuX2ZSZWYgPSByZWY7XG4gIH07XG5cbiAgQW5ndWxhckZpcmVBdXRoLnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9iamVjdCA9IHtcbiAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgICAgJGxvZ2luOiB0aGlzLmxvZ2luLmJpbmQodGhpcyksXG4gICAgICAgICRsb2dvdXQ6IHRoaXMubG9nb3V0LmJpbmQodGhpcyksXG4gICAgICAgICRjcmVhdGVVc2VyOiB0aGlzLmNyZWF0ZVVzZXIuYmluZCh0aGlzKSxcbiAgICAgICAgJGNoYW5nZVBhc3N3b3JkOiB0aGlzLmNoYW5nZVBhc3N3b3JkLmJpbmQodGhpcyksXG4gICAgICAgICRyZW1vdmVVc2VyOiB0aGlzLnJlbW92ZVVzZXIuYmluZCh0aGlzKSxcbiAgICAgICAgJGdldEN1cnJlbnRVc2VyOiB0aGlzLmdldEN1cnJlbnRVc2VyLmJpbmQodGhpcyksXG4gICAgICAgICRzZW5kUGFzc3dvcmRSZXNldEVtYWlsOiB0aGlzLnNlbmRQYXNzd29yZFJlc2V0RW1haWwuYmluZCh0aGlzKVxuICAgICAgfTtcbiAgICAgIHRoaXMuX29iamVjdCA9IG9iamVjdDtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBTaW1wbGUgTG9naW4uXG4gICAgICBpZiAoIXdpbmRvdy5GaXJlYmFzZVNpbXBsZUxvZ2luKSB7XG4gICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXCJGaXJlYmFzZVNpbXBsZUxvZ2luIGlzIHVuZGVmaW5lZC4gXCIgK1xuICAgICAgICAgIFwiRGlkIHlvdSBmb3JnZXQgdG8gaW5jbHVkZSBmaXJlYmFzZS1zaW1wbGUtbG9naW4uanM/XCIpO1xuICAgICAgICB0aGlzLl9yb290U2NvcGUuJGJyb2FkY2FzdChcIiRmaXJlYmFzZVNpbXBsZUxvZ2luOmVycm9yXCIsIGVycik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNsaWVudCA9IG5ldyBGaXJlYmFzZVNpbXBsZUxvZ2luKHRoaXMuX2ZSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25Mb2dpbkV2ZW50LmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5fYXV0aENsaWVudCA9IGNsaWVudDtcbiAgICAgIHJldHVybiB0aGlzLl9vYmplY3Q7XG4gICAgfSxcblxuICAgIC8vIFRoZSBsb2dpbiBtZXRob2QgdGFrZXMgYSBwcm92aWRlciAoZm9yIFNpbXBsZSBMb2dpbikgYW5kIGF1dGhlbnRpY2F0ZXNcbiAgICAvLyB0aGUgRmlyZWJhc2UgcmVmZXJlbmNlIHdpdGggd2hpY2ggdGhlIHNlcnZpY2Ugd2FzIGluaXRpYWxpemVkLiBUaGlzXG4gICAgLy8gbWV0aG9kIHJldHVybnMgYSBwcm9taXNlLCB3aGljaCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhlIGxvZ2luIHN1Y2NlZWRzXG4gICAgLy8gKGFuZCByZWplY3RlZCB3aGVuIGFuIGVycm9yIG9jY3VycykuXG4gICAgbG9naW46IGZ1bmN0aW9uKHByb3ZpZGVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLl9xLmRlZmVyKCk7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIFRvIGF2b2lkIHRoZSBwcm9taXNlIGZyb20gYmVpbmcgZnVsZmlsbGVkIGJ5IG91ciBpbml0aWFsIGxvZ2luIHN0YXRlLFxuICAgICAgLy8gbWFrZSBzdXJlIHdlIGhhdmUgaXQgYmVmb3JlIHRyaWdnZXJpbmcgdGhlIGxvZ2luIGFuZCBjcmVhdGluZyBhIG5ld1xuICAgICAgLy8gcHJvbWlzZS5cbiAgICAgIHRoaXMuZ2V0Q3VycmVudFVzZXIoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLl9sb2dpbkRlZmVycmVkID0gZGVmZXJyZWQ7XG4gICAgICAgIHNlbGYuX2F1dGhDbGllbnQubG9naW4ocHJvdmlkZXIsIG9wdGlvbnMpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0sXG5cbiAgICAvLyBVbmF1dGhlbnRpY2F0ZSB0aGUgRmlyZWJhc2UgcmVmZXJlbmNlLlxuICAgIGxvZ291dDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBUZWxsIHRoZSBzaW1wbGUgbG9naW4gY2xpZW50IHRvIGxvZyB1cyBvdXQuXG4gICAgICB0aGlzLl9hdXRoQ2xpZW50LmxvZ291dCgpO1xuXG4gICAgICAvLyBGb3JnZXQgd2hvIHdlIHdlcmUsIHNvIHRoYXQgYW55IGdldEN1cnJlbnRVc2VyIGNhbGxzIHdpbGwgd2FpdCBmb3JcbiAgICAgIC8vIGFub3RoZXIgdXNlciBldmVudC5cbiAgICAgIGRlbGV0ZSB0aGlzLl9jdXJyZW50VXNlckRhdGE7XG4gICAgfSxcblxuICAgIC8vIENyZWF0ZXMgYSB1c2VyIGZvciBGaXJlYmFzZSBTaW1wbGUgTG9naW4uIEZ1bmN0aW9uICdjYicgcmVjZWl2ZXMgYW5cbiAgICAvLyBlcnJvciBhcyB0aGUgZmlyc3QgYXJndW1lbnQgYW5kIGEgU2ltcGxlIExvZ2luIHVzZXIgb2JqZWN0IGFzIHRoZSBzZWNvbmRcbiAgICAvLyBhcmd1bWVudC4gTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gb25seSBjcmVhdGVzIHRoZSB1c2VyLCBpZiB5b3Ugd2lzaCB0b1xuICAgIC8vIGxvZyBpbiBhcyB0aGUgbmV3bHkgY3JlYXRlZCB1c2VyLCBjYWxsICRsb2dpbigpIGFmdGVyIHRoZSBwcm9taXNlIGZvclxuICAgIC8vIHRoaXMgbWV0aG9kIGhhcyBiZWVuIGZ1bGZpbGxlZC5cbiAgICBjcmVhdGVVc2VyOiBmdW5jdGlvbihlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuX3EuZGVmZXIoKTtcblxuICAgICAgc2VsZi5fYXV0aENsaWVudC5jcmVhdGVVc2VyKGVtYWlsLCBwYXNzd29yZCwgZnVuY3Rpb24oZXJyLCB1c2VyKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBzZWxmLl9yb290U2NvcGUuJGJyb2FkY2FzdChcIiRmaXJlYmFzZVNpbXBsZUxvZ2luOmVycm9yXCIsIGVycik7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh1c2VyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0sXG5cbiAgICAvLyBDaGFuZ2VzIHRoZSBwYXNzd29yZCBmb3IgYSBGaXJlYmFzZSBTaW1wbGUgTG9naW4gdXNlci4gVGFrZSBhbiBlbWFpbCxcbiAgICAvLyBvbGQgcGFzc3dvcmQgYW5kIG5ldyBwYXNzd29yZCBhcyB0aHJlZSBtYW5kYXRvcnkgYXJndW1lbnRzLiBSZXR1cm5zIGFcbiAgICAvLyBwcm9taXNlLlxuICAgIGNoYW5nZVBhc3N3b3JkOiBmdW5jdGlvbihlbWFpbCwgb2xkUGFzc3dvcmQsIG5ld1Bhc3N3b3JkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLl9xLmRlZmVyKCk7XG5cbiAgICAgIHNlbGYuX2F1dGhDbGllbnQuY2hhbmdlUGFzc3dvcmQoZW1haWwsIG9sZFBhc3N3b3JkLCBuZXdQYXNzd29yZCxcbiAgICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgc2VsZi5fcm9vdFNjb3BlLiRicm9hZGNhc3QoXCIkZmlyZWJhc2VTaW1wbGVMb2dpbjplcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0sXG5cbiAgICAvLyBHZXRzIGEgcHJvbWlzZSBmb3IgdGhlIGN1cnJlbnQgdXNlciBpbmZvLlxuICAgIGdldEN1cnJlbnRVc2VyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuX3EuZGVmZXIoKTtcblxuICAgICAgaWYgKHNlbGYuX2N1cnJlbnRVc2VyRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoc2VsZi5fY3VycmVudFVzZXJEYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuX2dldEN1cnJlbnRVc2VyRGVmZXJyZWQucHVzaChkZWZlcnJlZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0sXG5cbiAgICAvLyBSZW1vdmUgYSB1c2VyIGZvciB0aGUgbGlzdGVkIGVtYWlsIGFkZHJlc3MuIFJldHVybnMgYSBwcm9taXNlLlxuICAgIHJlbW92ZVVzZXI6IGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy5fcS5kZWZlcigpO1xuXG4gICAgICBzZWxmLl9hdXRoQ2xpZW50LnJlbW92ZVVzZXIoZW1haWwsIHBhc3N3b3JkLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHNlbGYuX3Jvb3RTY29wZS4kYnJvYWRjYXN0KFwiJGZpcmViYXNlU2ltcGxlTG9naW46ZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9LFxuXG4gICAgLy8gU2VuZCBhIHBhc3N3b3JkIHJlc2V0IGVtYWlsIHRvIHRoZSB1c2VyIGZvciBhbiBlbWFpbCArIHBhc3N3b3JkIGFjY291bnQuXG4gICAgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbDogZnVuY3Rpb24oZW1haWwpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuX3EuZGVmZXIoKTtcblxuICAgICAgc2VsZi5fYXV0aENsaWVudC5zZW5kUGFzc3dvcmRSZXNldEVtYWlsKGVtYWlsLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHNlbGYuX3Jvb3RTY29wZS4kYnJvYWRjYXN0KFwiJGZpcmViYXNlU2ltcGxlTG9naW46ZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9LFxuXG4gICAgLy8gSW50ZXJuYWwgY2FsbGJhY2sgZm9yIGFueSBTaW1wbGUgTG9naW4gZXZlbnQuXG4gICAgX29uTG9naW5FdmVudDogZnVuY3Rpb24oZXJyLCB1c2VyKSB7XG4gICAgICAvLyBIQUNLIC0tIGNhbGxzIHRvIGxvZ291dCgpIHRyaWdnZXIgZXZlbnRzIGV2ZW4gaWYgd2UncmUgbm90IGxvZ2dlZCBpbixcbiAgICAgIC8vIG1ha2luZyB1cyBnZXQgZXh0cmEgZXZlbnRzLiBUaHJvdyB0aGVtIGF3YXkuIFRoaXMgc2hvdWxkIGJlIGZpeGVkIGJ5XG4gICAgICAvLyBjaGFuZ2luZyBTaW1wbGUgTG9naW4gc28gdGhhdCBpdHMgY2FsbGJhY2tzIHJlZmVyIGRpcmVjdGx5IHRvIHRoZVxuICAgICAgLy8gYWN0aW9uIHRoYXQgY2F1c2VkIHRoZW0uXG4gICAgICBpZiAodGhpcy5fY3VycmVudFVzZXJEYXRhID09PSB1c2VyICYmIGVyciA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgaWYgKHNlbGYuX2xvZ2luRGVmZXJyZWQpIHtcbiAgICAgICAgICBzZWxmLl9sb2dpbkRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgICAgIHNlbGYuX2xvZ2luRGVmZXJyZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuX3Jvb3RTY29wZS4kYnJvYWRjYXN0KFwiJGZpcmViYXNlU2ltcGxlTG9naW46ZXJyb3JcIiwgZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRVc2VyRGF0YSA9IHVzZXI7XG5cbiAgICAgICAgc2VsZi5fdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLl9vYmplY3QudXNlciA9IHVzZXI7XG4gICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIHNlbGYuX3Jvb3RTY29wZS4kYnJvYWRjYXN0KFwiJGZpcmViYXNlU2ltcGxlTG9naW46bG9naW5cIiwgdXNlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuX3Jvb3RTY29wZS4kYnJvYWRjYXN0KFwiJGZpcmViYXNlU2ltcGxlTG9naW46bG9nb3V0XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2VsZi5fbG9naW5EZWZlcnJlZCkge1xuICAgICAgICAgICAgc2VsZi5fbG9naW5EZWZlcnJlZC5yZXNvbHZlKHVzZXIpO1xuICAgICAgICAgICAgc2VsZi5fbG9naW5EZWZlcnJlZCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChzZWxmLl9nZXRDdXJyZW50VXNlckRlZmVycmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBkZWYgPSBzZWxmLl9nZXRDdXJyZW50VXNlckRlZmVycmVkLnBvcCgpO1xuICAgICAgICAgICAgZGVmLnJlc29sdmUodXNlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuIiwiKGZ1bmN0aW9uKCkge2Z1bmN0aW9uIGcoYSl7dGhyb3cgYTt9dmFyIGo9dm9pZCAwLGs9ITAsbD1udWxsLG89ITE7ZnVuY3Rpb24gYWEoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYV19fWZ1bmN0aW9uIHIoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGF9fXZhciB0LGJhPXRoaXM7ZnVuY3Rpb24gY2EoKXt9ZnVuY3Rpb24gZGEoYSl7YS55Yz1mdW5jdGlvbigpe3JldHVybiBhLmRkP2EuZGQ6YS5kZD1uZXcgYX19XG5mdW5jdGlvbiBlYShhKXt2YXIgYj10eXBlb2YgYTtpZihcIm9iamVjdFwiPT1iKWlmKGEpe2lmKGEgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm5cImFycmF5XCI7aWYoYSBpbnN0YW5jZW9mIE9iamVjdClyZXR1cm4gYjt2YXIgYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk7aWYoXCJbb2JqZWN0IFdpbmRvd11cIj09YylyZXR1cm5cIm9iamVjdFwiO2lmKFwiW29iamVjdCBBcnJheV1cIj09Y3x8XCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RoJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5zcGxpY2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcInNwbGljZVwiKSlyZXR1cm5cImFycmF5XCI7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1jfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5jYWxsJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO1xuZWxzZSBpZihcImZ1bmN0aW9uXCI9PWImJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBhLmNhbGwpcmV0dXJuXCJvYmplY3RcIjtyZXR1cm4gYn1mdW5jdGlvbiB1KGEpe3JldHVybiBhIT09an1mdW5jdGlvbiBmYShhKXt2YXIgYj1lYShhKTtyZXR1cm5cImFycmF5XCI9PWJ8fFwib2JqZWN0XCI9PWImJlwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aH1mdW5jdGlvbiB2KGEpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhfWZ1bmN0aW9uIGdhKGEpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBhfWZ1bmN0aW9uIGhhKGEpe3ZhciBiPXR5cGVvZiBhO3JldHVyblwib2JqZWN0XCI9PWImJmEhPWx8fFwiZnVuY3Rpb25cIj09Yn1NYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpO2Z1bmN0aW9uIGlhKGEsYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfVxuZnVuY3Rpb24gamEoYSxiLGMpe2F8fGcoRXJyb3IoKSk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjLGQpO3JldHVybiBhLmFwcGx5KGIsYyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19ZnVuY3Rpb24gdyhhLGIsYyl7dz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2lhOmphO3JldHVybiB3LmFwcGx5KGwsYXJndW1lbnRzKX1mdW5jdGlvbiBrYShhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5XZD1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgY307ZnVuY3Rpb24gbGEoYSl7YT1TdHJpbmcoYSk7aWYoL15cXHMqJC8udGVzdChhKT8wOi9eW1xcXSw6e31cXHNcXHUyMDI4XFx1MjAyOV0qJC8udGVzdChhLnJlcGxhY2UoL1xcXFxbXCJcXFxcXFwvYmZucnR1XS9nLFwiQFwiKS5yZXBsYWNlKC9cIlteXCJcXFxcXFxuXFxyXFx1MjAyOFxcdTIwMjlcXHgwMC1cXHgwOFxceDEwLVxceDFmXFx4ODAtXFx4OWZdKlwifHRydWV8ZmFsc2V8bnVsbHwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPy9nLFwiXVwiKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpbXFxzXFx1MjAyOFxcdTIwMjldKlxcWykrL2csXCJcIikpKXRyeXtyZXR1cm4gZXZhbChcIihcIithK1wiKVwiKX1jYXRjaChiKXt9ZyhFcnJvcihcIkludmFsaWQgSlNPTiBzdHJpbmc6IFwiK2EpKX1mdW5jdGlvbiBtYSgpe3RoaXMuZGM9an1cbmZ1bmN0aW9uIG5hKGEsYixjKXtzd2l0Y2godHlwZW9mIGIpe2Nhc2UgXCJzdHJpbmdcIjpvYShiLGMpO2JyZWFrO2Nhc2UgXCJudW1iZXJcIjpjLnB1c2goaXNGaW5pdGUoYikmJiFpc05hTihiKT9iOlwibnVsbFwiKTticmVhaztjYXNlIFwiYm9vbGVhblwiOmMucHVzaChiKTticmVhaztjYXNlIFwidW5kZWZpbmVkXCI6Yy5wdXNoKFwibnVsbFwiKTticmVhaztjYXNlIFwib2JqZWN0XCI6aWYoYj09bCl7Yy5wdXNoKFwibnVsbFwiKTticmVha31pZihcImFycmF5XCI9PWVhKGIpKXt2YXIgZD1iLmxlbmd0aDtjLnB1c2goXCJbXCIpO2Zvcih2YXIgZT1cIlwiLGY9MDtmPGQ7ZisrKWMucHVzaChlKSxlPWJbZl0sbmEoYSxhLmRjP2EuZGMuY2FsbChiLFN0cmluZyhmKSxlKTplLGMpLGU9XCIsXCI7Yy5wdXNoKFwiXVwiKTticmVha31jLnB1c2goXCJ7XCIpO2Q9XCJcIjtmb3IoZiBpbiBiKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLGYpJiYoZT1iW2ZdLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJihjLnB1c2goZCksXG5vYShmLGMpLGMucHVzaChcIjpcIiksbmEoYSxhLmRjP2EuZGMuY2FsbChiLGYsZSk6ZSxjKSxkPVwiLFwiKSk7Yy5wdXNoKFwifVwiKTticmVhaztjYXNlIFwiZnVuY3Rpb25cIjpicmVhaztkZWZhdWx0OmcoRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiK3R5cGVvZiBiKSl9fXZhciBwYT17J1wiJzonXFxcXFwiJyxcIlxcXFxcIjpcIlxcXFxcXFxcXCIsXCIvXCI6XCJcXFxcL1wiLFwiXFxiXCI6XCJcXFxcYlwiLFwiXFxmXCI6XCJcXFxcZlwiLFwiXFxuXCI6XCJcXFxcblwiLFwiXFxyXCI6XCJcXFxcclwiLFwiXFx0XCI6XCJcXFxcdFwiLFwiXFx4MEJcIjpcIlxcXFx1MDAwYlwifSxxYT0vXFx1ZmZmZi8udGVzdChcIlxcdWZmZmZcIik/L1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx1ZmZmZl0vZzovW1xcXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHhmZl0vZztcbmZ1bmN0aW9uIG9hKGEsYil7Yi5wdXNoKCdcIicsYS5yZXBsYWNlKHFhLGZ1bmN0aW9uKGEpe2lmKGEgaW4gcGEpcmV0dXJuIHBhW2FdO3ZhciBiPWEuY2hhckNvZGVBdCgwKSxlPVwiXFxcXHVcIjsxNj5iP2UrPVwiMDAwXCI6MjU2PmI/ZSs9XCIwMFwiOjQwOTY+YiYmKGUrPVwiMFwiKTtyZXR1cm4gcGFbYV09ZStiLnRvU3RyaW5nKDE2KX0pLCdcIicpfTtmdW5jdGlvbiB5KGEpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgSlNPTiYmdShKU09OLnN0cmluZ2lmeSkpYT1KU09OLnN0cmluZ2lmeShhKTtlbHNle3ZhciBiPVtdO25hKG5ldyBtYSxhLGIpO2E9Yi5qb2luKFwiXCIpfXJldHVybiBhfTtmdW5jdGlvbiByYShhKXtmb3IodmFyIGI9W10sYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YS5jaGFyQ29kZUF0KGQpOzU1Mjk2PD1lJiY1NjMxOT49ZSYmKGUtPTU1Mjk2LGQrKyx6KGQ8YS5sZW5ndGgsXCJTdXJyb2dhdGUgcGFpciBtaXNzaW5nIHRyYWlsIHN1cnJvZ2F0ZS5cIiksZT02NTUzNisoZTw8MTApKyhhLmNoYXJDb2RlQXQoZCktNTYzMjApKTsxMjg+ZT9iW2MrK109ZTooMjA0OD5lP2JbYysrXT1lPj42fDE5MjooNjU1MzY+ZT9iW2MrK109ZT4+MTJ8MjI0OihiW2MrK109ZT4+MTh8MjQwLGJbYysrXT1lPj4xMiY2M3wxMjgpLGJbYysrXT1lPj42JjYzfDEyOCksYltjKytdPWUmNjN8MTI4KX1yZXR1cm4gYn07ZnVuY3Rpb24gQShhLGIsYyxkKXt2YXIgZTtkPGI/ZT1cImF0IGxlYXN0IFwiK2I6ZD5jJiYoZT0wPT09Yz9cIm5vbmVcIjpcIm5vIG1vcmUgdGhhbiBcIitjKTtlJiZnKEVycm9yKGErXCIgZmFpbGVkOiBXYXMgY2FsbGVkIHdpdGggXCIrZCsoMT09PWQ/XCIgYXJndW1lbnQuXCI6XCIgYXJndW1lbnRzLlwiKStcIiBFeHBlY3RzIFwiK2UrXCIuXCIpKX1mdW5jdGlvbiBCKGEsYixjKXt2YXIgZD1cIlwiO3N3aXRjaChiKXtjYXNlIDE6ZD1jP1wiZmlyc3RcIjpcIkZpcnN0XCI7YnJlYWs7Y2FzZSAyOmQ9Yz9cInNlY29uZFwiOlwiU2Vjb25kXCI7YnJlYWs7Y2FzZSAzOmQ9Yz9cInRoaXJkXCI6XCJUaGlyZFwiO2JyZWFrO2Nhc2UgNDpkPWM/XCJmb3VydGhcIjpcIkZvdXJ0aFwiO2JyZWFrO2RlZmF1bHQ6c2EuYXNzZXJ0KG8sXCJlcnJvclByZWZpeF8gY2FsbGVkIHdpdGggYXJndW1lbnROdW1iZXIgPiA0LiAgTmVlZCB0byB1cGRhdGUgaXQ/XCIpfXJldHVybiBhK1wiIGZhaWxlZDogXCIrKGQrXCIgYXJndW1lbnQgXCIpfVxuZnVuY3Rpb24gQyhhLGIsYyxkKXsoIWR8fHUoYykpJiZcImZ1bmN0aW9uXCIhPWVhKGMpJiZnKEVycm9yKEIoYSxiLGQpK1wibXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLlwiKSl9ZnVuY3Rpb24gdGEoYSxiLGMpe3UoYykmJighaGEoYyl8fGM9PT1sKSYmZyhFcnJvcihCKGEsYixrKStcIm11c3QgYmUgYSB2YWxpZCBjb250ZXh0IG9iamVjdC5cIikpfTtmdW5jdGlvbiBEKGEsYil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpfWZ1bmN0aW9uIHVhKGEsYil7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYikpcmV0dXJuIGFbYl19O3ZhciBzYT17fSx2YT0vW1xcW1xcXS4jJFxcL10vLHdhPS9bXFxbXFxdLiMkXS87ZnVuY3Rpb24geGEoYSl7cmV0dXJuIHYoYSkmJjAhPT1hLmxlbmd0aCYmIXZhLnRlc3QoYSl9ZnVuY3Rpb24geWEoYSxiLGMpeyghY3x8dShiKSkmJnphKEIoYSwxLGMpLGIpfVxuZnVuY3Rpb24gemEoYSxiLGMsZCl7Y3x8KGM9MCk7ZHx8KGQ9W10pO3UoYil8fGcoRXJyb3IoYStcImNvbnRhaW5zIHVuZGVmaW5lZFwiK0FhKGQpKSk7XCJmdW5jdGlvblwiPT1lYShiKSYmZyhFcnJvcihhK1wiY29udGFpbnMgYSBmdW5jdGlvblwiK0FhKGQpK1wiIHdpdGggY29udGVudHM6IFwiK2IudG9TdHJpbmcoKSkpO0JhKGIpJiZnKEVycm9yKGErXCJjb250YWlucyBcIitiLnRvU3RyaW5nKCkrQWEoZCkpKTsxRTM8YyYmZyhuZXcgVHlwZUVycm9yKGErXCJjb250YWlucyBhIGN5Y2xpYyBvYmplY3QgdmFsdWUgKFwiK2Quc2xpY2UoMCwxMDApLmpvaW4oXCIuXCIpK1wiLi4uKVwiKSk7dihiKSYmKGIubGVuZ3RoPjEwNDg1NzYwLzMmJjEwNDg1NzYwPHJhKGIpLmxlbmd0aCkmJmcoRXJyb3IoYStcImNvbnRhaW5zIGEgc3RyaW5nIGdyZWF0ZXIgdGhhbiAxMDQ4NTc2MCB1dGY4IGJ5dGVzXCIrQWEoZCkrXCIgKCdcIitiLnN1YnN0cmluZygwLDUwKStcIi4uLicpXCIpKTtpZihoYShiKSlmb3IodmFyIGUgaW4gYilEKGIsXG5lKSYmKFwiLnByaW9yaXR5XCIhPT1lJiYoXCIudmFsdWVcIiE9PWUmJlwiLnN2XCIhPT1lJiYheGEoZSkpJiZnKEVycm9yKGErXCJjb250YWlucyBhbiBpbnZhbGlkIGtleSAoXCIrZStcIilcIitBYShkKSsnLiAgS2V5cyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCIvXCIsIFwiW1wiLCBvciBcIl1cIicpKSxkLnB1c2goZSksemEoYSxiW2VdLGMrMSxkKSxkLnBvcCgpKX1mdW5jdGlvbiBBYShhKXtyZXR1cm4gMD09YS5sZW5ndGg/XCJcIjpcIiBpbiBwcm9wZXJ0eSAnXCIrYS5qb2luKFwiLlwiKStcIidcIn1mdW5jdGlvbiBDYShhLGIpe2hhKGIpfHxnKEVycm9yKEIoYSwxLG8pK1wiIG11c3QgYmUgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNoaWxkcmVuIHRvIHJlcGxhY2UuXCIpKTt5YShhLGIsbyl9XG5mdW5jdGlvbiBEYShhLGIsYyxkKXtpZighZHx8dShjKSljIT09bCYmKCFnYShjKSYmIXYoYykmJighaGEoYyl8fCFEKGMsXCIuc3ZcIikpKSYmZyhFcnJvcihCKGEsYixkKStcIm11c3QgYmUgYSB2YWxpZCBmaXJlYmFzZSBwcmlvcml0eSAobnVsbCBvciBhIHN0cmluZy4pXCIpKX1mdW5jdGlvbiBFYShhLGIsYyl7aWYoIWN8fHUoYikpc3dpdGNoKGIpe2Nhc2UgXCJ2YWx1ZVwiOmNhc2UgXCJjaGlsZF9hZGRlZFwiOmNhc2UgXCJjaGlsZF9yZW1vdmVkXCI6Y2FzZSBcImNoaWxkX2NoYW5nZWRcIjpjYXNlIFwiY2hpbGRfbW92ZWRcIjpicmVhaztkZWZhdWx0OmcoRXJyb3IoQihhLDEsYykrJ211c3QgYmUgYSB2YWxpZCBldmVudCB0eXBlOiBcInZhbHVlXCIsIFwiY2hpbGRfYWRkZWRcIiwgXCJjaGlsZF9yZW1vdmVkXCIsIFwiY2hpbGRfY2hhbmdlZFwiLCBvciBcImNoaWxkX21vdmVkXCIuJykpfX1cbmZ1bmN0aW9uIEZhKGEsYil7dShiKSYmIXhhKGIpJiZnKEVycm9yKEIoYSwyLGspKyd3YXMgYW4gaW52YWxpZCBrZXk6IFwiJytiKydcIi4gIEZpcmViYXNlIGtleXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiL1wiLCBcIltcIiwgb3IgXCJdXCIpLicpKX1mdW5jdGlvbiBHYShhLGIpeyghdihiKXx8MD09PWIubGVuZ3RofHx3YS50ZXN0KGIpKSYmZyhFcnJvcihCKGEsMSxvKSsnd2FzIGFuIGludmFsaWQgcGF0aDogXCInK2IrJ1wiLiBQYXRocyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCJbXCIsIG9yIFwiXVwiJykpfWZ1bmN0aW9uIEUoYSxiKXtcIi5pbmZvXCI9PT1GKGIpJiZnKEVycm9yKGErXCIgZmFpbGVkOiBDYW4ndCBtb2RpZnkgZGF0YSB1bmRlciAvLmluZm8vXCIpKX07ZnVuY3Rpb24gSChhLGIsYyxkLGUsZixoKXt0aGlzLm49YTt0aGlzLnBhdGg9Yjt0aGlzLkJhPWM7dGhpcy5kYT1kO3RoaXMudWE9ZTt0aGlzLnphPWY7dGhpcy5SYT1oO3UodGhpcy5kYSkmJih1KHRoaXMuemEpJiZ1KHRoaXMuQmEpKSYmZyhcIlF1ZXJ5OiBDYW4ndCBjb21iaW5lIHN0YXJ0QXQoKSwgZW5kQXQoKSwgYW5kIGxpbWl0KCkuXCIpfUgucHJvdG90eXBlLkxjPWZ1bmN0aW9uKCl7QShcIlF1ZXJ5LnJlZlwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gbmV3IEoodGhpcy5uLHRoaXMucGF0aCl9O0gucHJvdG90eXBlLnJlZj1ILnByb3RvdHlwZS5MYztcbkgucHJvdG90eXBlLllhPWZ1bmN0aW9uKGEsYil7QShcIlF1ZXJ5Lm9uXCIsMiw0LGFyZ3VtZW50cy5sZW5ndGgpO0VhKFwiUXVlcnkub25cIixhLG8pO0MoXCJRdWVyeS5vblwiLDIsYixvKTt2YXIgYz1IYShcIlF1ZXJ5Lm9uXCIsYXJndW1lbnRzWzJdLGFyZ3VtZW50c1szXSk7dGhpcy5uLk1iKHRoaXMsYSxiLGMuY2FuY2VsLGMuUyk7cmV0dXJuIGJ9O0gucHJvdG90eXBlLm9uPUgucHJvdG90eXBlLllhO0gucHJvdG90eXBlLnRiPWZ1bmN0aW9uKGEsYixjKXtBKFwiUXVlcnkub2ZmXCIsMCwzLGFyZ3VtZW50cy5sZW5ndGgpO0VhKFwiUXVlcnkub2ZmXCIsYSxrKTtDKFwiUXVlcnkub2ZmXCIsMixiLGspO3RhKFwiUXVlcnkub2ZmXCIsMyxjKTt0aGlzLm4uY2ModGhpcyxhLGIsYyl9O0gucHJvdG90eXBlLm9mZj1ILnByb3RvdHlwZS50YjtcbkgucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhoKXtmJiYoZj1vLGUudGIoYSxjKSxiLmNhbGwoZC5TLGgpKX1BKFwiUXVlcnkub25jZVwiLDIsNCxhcmd1bWVudHMubGVuZ3RoKTtFYShcIlF1ZXJ5Lm9uY2VcIixhLG8pO0MoXCJRdWVyeS5vbmNlXCIsMixiLG8pO3ZhciBkPUhhKFwiUXVlcnkub25jZVwiLGFyZ3VtZW50c1syXSxhcmd1bWVudHNbM10pLGU9dGhpcyxmPWs7dGhpcy5ZYShhLGMsZnVuY3Rpb24oYil7ZS50YihhLGMpO2QuY2FuY2VsJiZkLmNhbmNlbC5jYWxsKGQuUyxiKX0pfTtILnByb3RvdHlwZS5vbmNlPUgucHJvdG90eXBlLkpkO1xuSC5wcm90b3R5cGUuQ2Q9ZnVuY3Rpb24oYSl7QShcIlF1ZXJ5LmxpbWl0XCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpOyghZ2EoYSl8fE1hdGguZmxvb3IoYSkhPT1hfHwwPj1hKSYmZyhcIlF1ZXJ5LmxpbWl0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7cmV0dXJuIG5ldyBIKHRoaXMubix0aGlzLnBhdGgsYSx0aGlzLmRhLHRoaXMudWEsdGhpcy56YSx0aGlzLlJhKX07SC5wcm90b3R5cGUubGltaXQ9SC5wcm90b3R5cGUuQ2Q7SC5wcm90b3R5cGUuU2Q9ZnVuY3Rpb24oYSxiKXtBKFwiUXVlcnkuc3RhcnRBdFwiLDAsMixhcmd1bWVudHMubGVuZ3RoKTtEYShcIlF1ZXJ5LnN0YXJ0QXRcIiwxLGEsayk7RmEoXCJRdWVyeS5zdGFydEF0XCIsYik7dShhKXx8KGI9YT1sKTtyZXR1cm4gbmV3IEgodGhpcy5uLHRoaXMucGF0aCx0aGlzLkJhLGEsYix0aGlzLnphLHRoaXMuUmEpfTtILnByb3RvdHlwZS5zdGFydEF0PUgucHJvdG90eXBlLlNkO1xuSC5wcm90b3R5cGUueGQ9ZnVuY3Rpb24oYSxiKXtBKFwiUXVlcnkuZW5kQXRcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCk7RGEoXCJRdWVyeS5lbmRBdFwiLDEsYSxrKTtGYShcIlF1ZXJ5LmVuZEF0XCIsYik7cmV0dXJuIG5ldyBIKHRoaXMubix0aGlzLnBhdGgsdGhpcy5CYSx0aGlzLmRhLHRoaXMudWEsYSxiKX07SC5wcm90b3R5cGUuZW5kQXQ9SC5wcm90b3R5cGUueGQ7ZnVuY3Rpb24gSWEoYSl7dmFyIGI9e307dShhLmRhKSYmKGIuc3A9YS5kYSk7dShhLnVhKSYmKGIuc249YS51YSk7dShhLnphKSYmKGIuZXA9YS56YSk7dShhLlJhKSYmKGIuZW49YS5SYSk7dShhLkJhKSYmKGIubD1hLkJhKTt1KGEuZGEpJiYodShhLnVhKSYmYS5kYT09PWwmJmEudWE9PT1sKSYmKGIudmY9XCJsXCIpO3JldHVybiBifUgucHJvdG90eXBlLkthPWZ1bmN0aW9uKCl7dmFyIGE9SmEoSWEodGhpcykpO3JldHVyblwie31cIj09PWE/XCJkZWZhdWx0XCI6YX07XG5mdW5jdGlvbiBIYShhLGIsYyl7dmFyIGQ9e307YiYmYz8oZC5jYW5jZWw9YixDKGEsMyxkLmNhbmNlbCxrKSxkLlM9Yyx0YShhLDQsZC5TKSk6YiYmKFwib2JqZWN0XCI9PT10eXBlb2YgYiYmYiE9PWw/ZC5TPWI6XCJmdW5jdGlvblwiPT09dHlwZW9mIGI/ZC5jYW5jZWw9YjpnKEVycm9yKEIoYSwzLGspK1wibXVzdCBlaXRoZXIgYmUgYSBjYW5jZWwgY2FsbGJhY2sgb3IgYSBjb250ZXh0IG9iamVjdC5cIikpKTtyZXR1cm4gZH07ZnVuY3Rpb24gSyhhKXtpZihhIGluc3RhbmNlb2YgSylyZXR1cm4gYTtpZigxPT1hcmd1bWVudHMubGVuZ3RoKXt0aGlzLm09YS5zcGxpdChcIi9cIik7Zm9yKHZhciBiPTAsYz0wO2M8dGhpcy5tLmxlbmd0aDtjKyspMDx0aGlzLm1bY10ubGVuZ3RoJiYodGhpcy5tW2JdPXRoaXMubVtjXSxiKyspO3RoaXMubS5sZW5ndGg9Yjt0aGlzLlo9MH1lbHNlIHRoaXMubT1hcmd1bWVudHNbMF0sdGhpcy5aPWFyZ3VtZW50c1sxXX1mdW5jdGlvbiBGKGEpe3JldHVybiBhLlo+PWEubS5sZW5ndGg/bDphLm1bYS5aXX1mdW5jdGlvbiBLYShhKXt2YXIgYj1hLlo7YjxhLm0ubGVuZ3RoJiZiKys7cmV0dXJuIG5ldyBLKGEubSxiKX10PUsucHJvdG90eXBlO3QudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIGE9XCJcIixiPXRoaXMuWjtiPHRoaXMubS5sZW5ndGg7YisrKVwiXCIhPT10aGlzLm1bYl0mJihhKz1cIi9cIit0aGlzLm1bYl0pO3JldHVybiBhfHxcIi9cIn07XG50LnBhcmVudD1mdW5jdGlvbigpe2lmKHRoaXMuWj49dGhpcy5tLmxlbmd0aClyZXR1cm4gbDtmb3IodmFyIGE9W10sYj10aGlzLlo7Yjx0aGlzLm0ubGVuZ3RoLTE7YisrKWEucHVzaCh0aGlzLm1bYl0pO3JldHVybiBuZXcgSyhhLDApfTt0LkY9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9dGhpcy5aO2M8dGhpcy5tLmxlbmd0aDtjKyspYi5wdXNoKHRoaXMubVtjXSk7aWYoYSBpbnN0YW5jZW9mIEspZm9yKGM9YS5aO2M8YS5tLmxlbmd0aDtjKyspYi5wdXNoKGEubVtjXSk7ZWxzZXthPWEuc3BsaXQoXCIvXCIpO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspMDxhW2NdLmxlbmd0aCYmYi5wdXNoKGFbY10pfXJldHVybiBuZXcgSyhiLDApfTt0LmY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5aPj10aGlzLm0ubGVuZ3RofTtcbmZ1bmN0aW9uIExhKGEsYil7dmFyIGM9RihhKTtpZihjPT09bClyZXR1cm4gYjtpZihjPT09RihiKSlyZXR1cm4gTGEoS2EoYSksS2EoYikpO2coXCJJTlRFUk5BTCBFUlJPUjogaW5uZXJQYXRoIChcIitiK1wiKSBpcyBub3Qgd2l0aGluIG91dGVyUGF0aCAoXCIrYStcIilcIil9dC5jb250YWlucz1mdW5jdGlvbihhKXt2YXIgYj0wO2lmKHRoaXMubS5sZW5ndGg+YS5tLmxlbmd0aClyZXR1cm4gbztmb3IoO2I8dGhpcy5tLmxlbmd0aDspe2lmKHRoaXMubVtiXSE9PWEubVtiXSlyZXR1cm4gbzsrK2J9cmV0dXJuIGt9O2Z1bmN0aW9uIE1hKCl7dGhpcy5jaGlsZHJlbj17fTt0aGlzLnBjPTA7dGhpcy52YWx1ZT1sfWZ1bmN0aW9uIE5hKGEsYixjKXt0aGlzLkNhPWE/YTpcIlwiO3RoaXMuemI9Yj9iOmw7dGhpcy56PWM/YzpuZXcgTWF9ZnVuY3Rpb24gTChhLGIpe2Zvcih2YXIgYz1iIGluc3RhbmNlb2YgSz9iOm5ldyBLKGIpLGQ9YSxlOyhlPUYoYykpIT09bDspZD1uZXcgTmEoZSxkLHVhKGQuei5jaGlsZHJlbixlKXx8bmV3IE1hKSxjPUthKGMpO3JldHVybiBkfXQ9TmEucHJvdG90eXBlO3Quaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnoudmFsdWV9O2Z1bmN0aW9uIE0oYSxiKXt6KFwidW5kZWZpbmVkXCIhPT10eXBlb2YgYik7YS56LnZhbHVlPWI7T2EoYSl9dC5sYj1mdW5jdGlvbigpe3JldHVybiAwPHRoaXMuei5wY307dC5mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaygpPT09bCYmIXRoaXMubGIoKX07XG50Lnc9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIHRoaXMuei5jaGlsZHJlbilhKG5ldyBOYShiLHRoaXMsdGhpcy56LmNoaWxkcmVuW2JdKSl9O2Z1bmN0aW9uIFBhKGEsYixjLGQpe2MmJiFkJiZiKGEpO2EudyhmdW5jdGlvbihhKXtQYShhLGIsayxkKX0pO2MmJmQmJmIoYSl9ZnVuY3Rpb24gUWEoYSxiLGMpe2ZvcihhPWM/YTphLnBhcmVudCgpO2EhPT1sOyl7aWYoYihhKSlyZXR1cm4gazthPWEucGFyZW50KCl9cmV0dXJuIG99dC5wYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBLKHRoaXMuemI9PT1sP3RoaXMuQ2E6dGhpcy56Yi5wYXRoKCkrXCIvXCIrdGhpcy5DYSl9O3QubmFtZT1hYShcIkNhXCIpO3QucGFyZW50PWFhKFwiemJcIik7XG5mdW5jdGlvbiBPYShhKXtpZihhLnpiIT09bCl7dmFyIGI9YS56YixjPWEuQ2EsZD1hLmYoKSxlPUQoYi56LmNoaWxkcmVuLGMpO2QmJmU/KGRlbGV0ZSBiLnouY2hpbGRyZW5bY10sYi56LnBjLS0sT2EoYikpOiFkJiYhZSYmKGIuei5jaGlsZHJlbltjXT1hLnosYi56LnBjKyssT2EoYikpfX07ZnVuY3Rpb24gUmEoYSxiKXt0aGlzLk9hPWE/YTpTYTt0aGlzLmNhPWI/YjpUYX1mdW5jdGlvbiBTYShhLGIpe3JldHVybiBhPGI/LTE6YT5iPzE6MH10PVJhLnByb3RvdHlwZTt0Lm5hPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBSYSh0aGlzLk9hLHRoaXMuY2EubmEoYSxiLHRoaXMuT2EpLmNvcHkobCxsLG8sbCxsKSl9O3QucmVtb3ZlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgUmEodGhpcy5PYSx0aGlzLmNhLnJlbW92ZShhLHRoaXMuT2EpLmNvcHkobCxsLG8sbCxsKSl9O3QuZ2V0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPXRoaXMuY2E7IWMuZigpOyl7Yj10aGlzLk9hKGEsYy5rZXkpO2lmKDA9PT1iKXJldHVybiBjLnZhbHVlOzA+Yj9jPWMubGVmdDowPGImJihjPWMucmlnaHQpfXJldHVybiBsfTtcbmZ1bmN0aW9uIFVhKGEsYil7Zm9yKHZhciBjLGQ9YS5jYSxlPWw7IWQuZigpOyl7Yz1hLk9hKGIsZC5rZXkpO2lmKDA9PT1jKXtpZihkLmxlZnQuZigpKXJldHVybiBlP2Uua2V5Omw7Zm9yKGQ9ZC5sZWZ0OyFkLnJpZ2h0LmYoKTspZD1kLnJpZ2h0O3JldHVybiBkLmtleX0wPmM/ZD1kLmxlZnQ6MDxjJiYoZT1kLGQ9ZC5yaWdodCl9ZyhFcnJvcihcIkF0dGVtcHRlZCB0byBmaW5kIHByZWRlY2Vzc29yIGtleSBmb3IgYSBub25leGlzdGVudCBrZXkuICBXaGF0IGdpdmVzP1wiKSl9dC5mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2EuZigpfTt0LmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2EuY291bnQoKX07dC5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhLnJiKCl9O3QuV2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYS5XYSgpfTt0LkFhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNhLkFhKGEpfTt0LkxhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNhLkxhKGEpfTtcbnQuVWE9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBWYSh0aGlzLmNhLGEpfTtmdW5jdGlvbiBWYShhLGIpe3RoaXMubGQ9Yjtmb3IodGhpcy5RYj1bXTshYS5mKCk7KXRoaXMuUWIucHVzaChhKSxhPWEubGVmdH1mdW5jdGlvbiBXYShhKXtpZigwPT09YS5RYi5sZW5ndGgpcmV0dXJuIGw7dmFyIGI9YS5RYi5wb3AoKSxjO2M9YS5sZD9hLmxkKGIua2V5LGIudmFsdWUpOntrZXk6Yi5rZXksdmFsdWU6Yi52YWx1ZX07Zm9yKGI9Yi5yaWdodDshYi5mKCk7KWEuUWIucHVzaChiKSxiPWIubGVmdDtyZXR1cm4gY31mdW5jdGlvbiBYYShhLGIsYyxkLGUpe3RoaXMua2V5PWE7dGhpcy52YWx1ZT1iO3RoaXMuY29sb3I9YyE9bD9jOms7dGhpcy5sZWZ0PWQhPWw/ZDpUYTt0aGlzLnJpZ2h0PWUhPWw/ZTpUYX10PVhhLnByb3RvdHlwZTtcbnQuY29weT1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBuZXcgWGEoYSE9bD9hOnRoaXMua2V5LGIhPWw/Yjp0aGlzLnZhbHVlLGMhPWw/Yzp0aGlzLmNvbG9yLGQhPWw/ZDp0aGlzLmxlZnQsZSE9bD9lOnRoaXMucmlnaHQpfTt0LmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVmdC5jb3VudCgpKzErdGhpcy5yaWdodC5jb3VudCgpfTt0LmY9cihvKTt0LkFhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmxlZnQuQWEoYSl8fGEodGhpcy5rZXksdGhpcy52YWx1ZSl8fHRoaXMucmlnaHQuQWEoYSl9O3QuTGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmlnaHQuTGEoYSl8fGEodGhpcy5rZXksdGhpcy52YWx1ZSl8fHRoaXMubGVmdC5MYShhKX07ZnVuY3Rpb24gWWEoYSl7cmV0dXJuIGEubGVmdC5mKCk/YTpZYShhLmxlZnQpfXQucmI9ZnVuY3Rpb24oKXtyZXR1cm4gWWEodGhpcykua2V5fTtcbnQuV2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yaWdodC5mKCk/dGhpcy5rZXk6dGhpcy5yaWdodC5XYSgpfTt0Lm5hPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2U9dGhpcztkPWMoYSxlLmtleSk7ZT0wPmQ/ZS5jb3B5KGwsbCxsLGUubGVmdC5uYShhLGIsYyksbCk6MD09PWQ/ZS5jb3B5KGwsYixsLGwsbCk6ZS5jb3B5KGwsbCxsLGwsZS5yaWdodC5uYShhLGIsYykpO3JldHVybiBaYShlKX07ZnVuY3Rpb24gJGEoYSl7aWYoYS5sZWZ0LmYoKSlyZXR1cm4gVGE7IWEubGVmdC5OKCkmJiFhLmxlZnQubGVmdC5OKCkmJihhPWNiKGEpKTthPWEuY29weShsLGwsbCwkYShhLmxlZnQpLGwpO3JldHVybiBaYShhKX1cbnQucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtjPXRoaXM7aWYoMD5iKGEsYy5rZXkpKSFjLmxlZnQuZigpJiYoIWMubGVmdC5OKCkmJiFjLmxlZnQubGVmdC5OKCkpJiYoYz1jYihjKSksYz1jLmNvcHkobCxsLGwsYy5sZWZ0LnJlbW92ZShhLGIpLGwpO2Vsc2V7Yy5sZWZ0Lk4oKSYmKGM9ZGIoYykpOyFjLnJpZ2h0LmYoKSYmKCFjLnJpZ2h0Lk4oKSYmIWMucmlnaHQubGVmdC5OKCkpJiYoYz1lYihjKSxjLmxlZnQubGVmdC5OKCkmJihjPWRiKGMpLGM9ZWIoYykpKTtpZigwPT09YihhLGMua2V5KSl7aWYoYy5yaWdodC5mKCkpcmV0dXJuIFRhO2Q9WWEoYy5yaWdodCk7Yz1jLmNvcHkoZC5rZXksZC52YWx1ZSxsLGwsJGEoYy5yaWdodCkpfWM9Yy5jb3B5KGwsbCxsLGwsYy5yaWdodC5yZW1vdmUoYSxiKSl9cmV0dXJuIFphKGMpfTt0Lk49YWEoXCJjb2xvclwiKTtcbmZ1bmN0aW9uIFphKGEpe2EucmlnaHQuTigpJiYhYS5sZWZ0Lk4oKSYmKGE9ZmIoYSkpO2EubGVmdC5OKCkmJmEubGVmdC5sZWZ0Lk4oKSYmKGE9ZGIoYSkpO2EubGVmdC5OKCkmJmEucmlnaHQuTigpJiYoYT1lYihhKSk7cmV0dXJuIGF9ZnVuY3Rpb24gY2IoYSl7YT1lYihhKTthLnJpZ2h0LmxlZnQuTigpJiYoYT1hLmNvcHkobCxsLGwsbCxkYihhLnJpZ2h0KSksYT1mYihhKSxhPWViKGEpKTtyZXR1cm4gYX1mdW5jdGlvbiBmYihhKXt2YXIgYjtiPWEuY29weShsLGwsayxsLGEucmlnaHQubGVmdCk7cmV0dXJuIGEucmlnaHQuY29weShsLGwsYS5jb2xvcixiLGwpfWZ1bmN0aW9uIGRiKGEpe3ZhciBiO2I9YS5jb3B5KGwsbCxrLGEubGVmdC5yaWdodCxsKTtyZXR1cm4gYS5sZWZ0LmNvcHkobCxsLGEuY29sb3IsbCxiKX1cbmZ1bmN0aW9uIGViKGEpe3ZhciBiLGM7Yj1hLmxlZnQuY29weShsLGwsIWEubGVmdC5jb2xvcixsLGwpO2M9YS5yaWdodC5jb3B5KGwsbCwhYS5yaWdodC5jb2xvcixsLGwpO3JldHVybiBhLmNvcHkobCxsLCFhLmNvbG9yLGIsYyl9ZnVuY3Rpb24gZ2IoKXt9dD1nYi5wcm90b3R5cGU7dC5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QubmE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFhhKGEsYixqLGosail9O3QucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuY291bnQ9cigwKTt0LmY9cihrKTt0LkFhPXIobyk7dC5MYT1yKG8pO3QucmI9cihsKTt0LldhPXIobCk7dC5OPXIobyk7dmFyIFRhPW5ldyBnYjt2YXIgaGI9QXJyYXkucHJvdG90eXBlLGliPWhiLmZvckVhY2g/ZnVuY3Rpb24oYSxiLGMpe2hiLmZvckVhY2guY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT12KGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKX0samI9aGIubWFwP2Z1bmN0aW9uKGEsYixjKXtyZXR1cm4gaGIubWFwLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9QXJyYXkoZCksZj12KGEpP2Euc3BsaXQoXCJcIik6YSxoPTA7aDxkO2grKyloIGluIGYmJihlW2hdPWIuY2FsbChjLGZbaF0saCxhKSk7cmV0dXJuIGV9O2Z1bmN0aW9uIGtiKCl7fTtmdW5jdGlvbiBsYigpe3RoaXMuQj1bXTt0aGlzLm9jPVtdO3RoaXMuc2Q9W107dGhpcy5XYj1bXTt0aGlzLldiWzBdPTEyODtmb3IodmFyIGE9MTs2ND5hOysrYSl0aGlzLldiW2FdPTA7dGhpcy5yZXNldCgpfWthKGxiLGtiKTtsYi5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLkJbMF09MTczMjU4NDE5Mzt0aGlzLkJbMV09NDAyMzIzMzQxNzt0aGlzLkJbMl09MjU2MjM4MzEwMjt0aGlzLkJbM109MjcxNzMzODc4O3RoaXMuQls0XT0zMjg1Mzc3NTIwO3RoaXMuVWM9dGhpcy5tYj0wfTtcbmZ1bmN0aW9uIG1iKGEsYil7dmFyIGM7Y3x8KGM9MCk7Zm9yKHZhciBkPWEuc2QsZT1jO2U8Yys2NDtlKz00KWRbZS80XT1iW2VdPDwyNHxiW2UrMV08PDE2fGJbZSsyXTw8OHxiW2UrM107Zm9yKGU9MTY7ODA+ZTtlKyspe3ZhciBmPWRbZS0zXV5kW2UtOF1eZFtlLTE0XV5kW2UtMTZdO2RbZV09KGY8PDF8Zj4+PjMxKSY0Mjk0OTY3Mjk1fWM9YS5CWzBdO2Zvcih2YXIgaD1hLkJbMV0saT1hLkJbMl0sbT1hLkJbM10sbj1hLkJbNF0scCxlPTA7ODA+ZTtlKyspNDA+ZT8yMD5lPyhmPW1eaCYoaV5tKSxwPTE1MTg1MDAyNDkpOihmPWheaV5tLHA9MTg1OTc3NTM5Myk6NjA+ZT8oZj1oJml8bSYoaHxpKSxwPTI0MDA5NTk3MDgpOihmPWheaV5tLHA9MzM5NTQ2OTc4MiksZj0oYzw8NXxjPj4+MjcpK2YrbitwK2RbZV0mNDI5NDk2NzI5NSxuPW0sbT1pLGk9KGg8PDMwfGg+Pj4yKSY0Mjk0OTY3Mjk1LGg9YyxjPWY7YS5CWzBdPWEuQlswXStjJjQyOTQ5NjcyOTU7YS5CWzFdPWEuQlsxXStoJlxuNDI5NDk2NzI5NTthLkJbMl09YS5CWzJdK2kmNDI5NDk2NzI5NTthLkJbM109YS5CWzNdK20mNDI5NDk2NzI5NTthLkJbNF09YS5CWzRdK24mNDI5NDk2NzI5NX1sYi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7dShiKXx8KGI9YS5sZW5ndGgpO3ZhciBjPXRoaXMub2MsZD10aGlzLm1iLGU9MDtpZih2KGEpKWZvcig7ZTxiOyljW2QrK109YS5jaGFyQ29kZUF0KGUrKyksNjQ9PWQmJihtYih0aGlzLGMpLGQ9MCk7ZWxzZSBmb3IoO2U8YjspY1tkKytdPWFbZSsrXSw2ND09ZCYmKG1iKHRoaXMsYyksZD0wKTt0aGlzLm1iPWQ7dGhpcy5VYys9Yn07ZnVuY3Rpb24gbmIoKXt0aGlzLk5hPXt9O3RoaXMubGVuZ3RoPTB9bmIucHJvdG90eXBlLnNldEl0ZW09ZnVuY3Rpb24oYSxiKXtEKHRoaXMuTmEsYSl8fCh0aGlzLmxlbmd0aCs9MSk7dGhpcy5OYVthXT1ifTtuYi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gRCh0aGlzLk5hLGEpP3RoaXMuTmFbYV06bH07bmIucHJvdG90eXBlLnJlbW92ZUl0ZW09ZnVuY3Rpb24oYSl7RCh0aGlzLk5hLGEpJiYodGhpcy5sZW5ndGgtPTEsZGVsZXRlIHRoaXMuTmFbYV0pfTt2YXIgb2I9bDtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIHNlc3Npb25TdG9yYWdlKXRyeXtzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiZmlyZWJhc2Utc2VudGluZWxcIixcImNhY2hlXCIpLHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oXCJmaXJlYmFzZS1zZW50aW5lbFwiKSxvYj1zZXNzaW9uU3RvcmFnZX1jYXRjaChwYil7b2I9bmV3IG5ifWVsc2Ugb2I9bmV3IG5iO2Z1bmN0aW9uIHFiKGEsYixjLGQpe3RoaXMuaG9zdD1hLnRvTG93ZXJDYXNlKCk7dGhpcy5kb21haW49dGhpcy5ob3N0LnN1YnN0cih0aGlzLmhvc3QuaW5kZXhPZihcIi5cIikrMSk7dGhpcy5lYz1iO3RoaXMuc2I9Yzt0aGlzLmZhPWR8fG9iLmdldEl0ZW0oYSl8fHRoaXMuaG9zdH1mdW5jdGlvbiByYihhLGIpe2IhPT1hLmZhJiYoYS5mYT1iLFwicy1cIj09PWEuZmEuc3Vic3RyKDAsMikmJm9iLnNldEl0ZW0oYS5ob3N0LGEuZmEpKX1xYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5lYz9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK3RoaXMuaG9zdH07dmFyIHNiLHRiLHViLHZiO2Z1bmN0aW9uIHdiKCl7cmV0dXJuIGJhLm5hdmlnYXRvcj9iYS5uYXZpZ2F0b3IudXNlckFnZW50Omx9dmI9dWI9dGI9c2I9bzt2YXIgeGI7aWYoeGI9d2IoKSl7dmFyIHliPWJhLm5hdmlnYXRvcjtzYj0wPT14Yi5pbmRleE9mKFwiT3BlcmFcIik7dGI9IXNiJiYtMSE9eGIuaW5kZXhPZihcIk1TSUVcIik7dWI9IXNiJiYtMSE9eGIuaW5kZXhPZihcIldlYktpdFwiKTt2Yj0hc2ImJiF1YiYmXCJHZWNrb1wiPT15Yi5wcm9kdWN0fXZhciB6Yj10YixBYj12YixCYj11Yjt2YXIgQ2I7aWYoc2ImJmJhLm9wZXJhKXt2YXIgRGI9YmEub3BlcmEudmVyc2lvbjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBEYiYmRGIoKX1lbHNlIEFiP0NiPS9ydlxcOihbXlxcKTtdKykoXFwpfDspLzp6Yj9DYj0vTVNJRVxccysoW15cXCk7XSspKFxcKXw7KS86QmImJihDYj0vV2ViS2l0XFwvKFxcUyspLyksQ2ImJkNiLmV4ZWMod2IoKSk7dmFyIEViPWwsRmI9bDtcbmZ1bmN0aW9uIEdiKGEsYil7ZmEoYSl8fGcoRXJyb3IoXCJlbmNvZGVCeXRlQXJyYXkgdGFrZXMgYW4gYXJyYXkgYXMgYSBwYXJhbWV0ZXJcIikpO2lmKCFFYil7RWI9e307RmI9e307Zm9yKHZhciBjPTA7NjU+YztjKyspRWJbY109XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLmNoYXJBdChjKSxGYltjXT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV8uXCIuY2hhckF0KGMpfWZvcih2YXIgYz1iP0ZiOkViLGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSs9Myl7dmFyIGY9YVtlXSxoPWUrMTxhLmxlbmd0aCxpPWg/YVtlKzFdOjAsbT1lKzI8YS5sZW5ndGgsbj1tP2FbZSsyXTowLHA9Zj4+MixmPShmJjMpPDw0fGk+PjQsaT0oaSYxNSk8PDJ8bj4+NixuPW4mNjM7bXx8KG49NjQsaHx8KGk9NjQpKTtkLnB1c2goY1twXSxjW2ZdLGNbaV0sY1tuXSl9cmV0dXJuIGQuam9pbihcIlwiKX1cbjt2YXIgSGIsSWI9MTtIYj1mdW5jdGlvbigpe3JldHVybiBJYisrfTtmdW5jdGlvbiB6KGEsYil7YXx8ZyhFcnJvcihcIkZpcmViYXNlIElOVEVSTkFMIEFTU0VSVCBGQUlMRUQ6XCIrYikpfWZ1bmN0aW9uIEpiKGEpe3ZhciBiPXJhKGEpLGE9bmV3IGxiO2EudXBkYXRlKGIpO3ZhciBiPVtdLGM9OCphLlVjOzU2PmEubWI/YS51cGRhdGUoYS5XYiw1Ni1hLm1iKTphLnVwZGF0ZShhLldiLDY0LShhLm1iLTU2KSk7Zm9yKHZhciBkPTYzOzU2PD1kO2QtLSlhLm9jW2RdPWMmMjU1LGMvPTI1NjttYihhLGEub2MpO2ZvcihkPWM9MDs1PmQ7ZCsrKWZvcih2YXIgZT0yNDswPD1lO2UtPTgpYltjKytdPWEuQltkXT4+ZSYyNTU7cmV0dXJuIEdiKGIpfVxuZnVuY3Rpb24gS2IoKXtmb3IodmFyIGE9XCJcIixiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylhPWZhKGFyZ3VtZW50c1tiXSk/YStLYi5hcHBseShsLGFyZ3VtZW50c1tiXSk6XCJvYmplY3RcIj09PXR5cGVvZiBhcmd1bWVudHNbYl0/YSt5KGFyZ3VtZW50c1tiXSk6YSthcmd1bWVudHNbYl0sYSs9XCIgXCI7cmV0dXJuIGF9dmFyIExiPWwsTWI9aztmdW5jdGlvbiBOKCl7TWI9PT1rJiYoTWI9byxMYj09PWwmJlwidHJ1ZVwiPT09b2IuZ2V0SXRlbShcImxvZ2dpbmdfZW5hYmxlZFwiKSYmTmIoaykpO2lmKExiKXt2YXIgYT1LYi5hcHBseShsLGFyZ3VtZW50cyk7TGIoYSl9fWZ1bmN0aW9uIE9iKGEpe3JldHVybiBmdW5jdGlvbigpe04oYSxhcmd1bWVudHMpfX1cbmZ1bmN0aW9uIFBiKCl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlKXt2YXIgYT1cIkZJUkVCQVNFIElOVEVSTkFMIEVSUk9SOiBcIitLYi5hcHBseShsLGFyZ3VtZW50cyk7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlLmVycm9yP2NvbnNvbGUuZXJyb3IoYSk6Y29uc29sZS5sb2coYSl9fWZ1bmN0aW9uIFFiKCl7dmFyIGE9S2IuYXBwbHkobCxhcmd1bWVudHMpO2coRXJyb3IoXCJGSVJFQkFTRSBGQVRBTCBFUlJPUjogXCIrYSkpfWZ1bmN0aW9uIFAoKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUpe3ZhciBhPVwiRklSRUJBU0UgV0FSTklORzogXCIrS2IuYXBwbHkobCxhcmd1bWVudHMpO1widW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZS53YXJuP2NvbnNvbGUud2FybihhKTpjb25zb2xlLmxvZyhhKX19XG5mdW5jdGlvbiBCYShhKXtyZXR1cm4gZ2EoYSkmJihhIT1hfHxhPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWSl9ZnVuY3Rpb24gUmIoYSxiKXtyZXR1cm4gYSE9PWI/YT09PWw/LTE6Yj09PWw/MTp0eXBlb2YgYSE9PXR5cGVvZiBiP1wibnVtYmVyXCI9PT10eXBlb2YgYT8tMToxOmE+Yj8xOi0xOjB9ZnVuY3Rpb24gU2IoYSxiKXtpZihhPT09YilyZXR1cm4gMDt2YXIgYz1UYihhKSxkPVRiKGIpO3JldHVybiBjIT09bD9kIT09bD9jLWQ6LTE6ZCE9PWw/MTphPGI/LTE6MX1mdW5jdGlvbiBVYihhLGIpe2lmKGImJmEgaW4gYilyZXR1cm4gYlthXTtnKEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBrZXkgKFwiK2ErXCIpIGluIG9iamVjdDogXCIreShiKSkpfVxuZnVuY3Rpb24gSmEoYSl7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBhfHxhPT09bClyZXR1cm4geShhKTt2YXIgYj1bXSxjO2ZvcihjIGluIGEpYi5wdXNoKGMpO2Iuc29ydCgpO2M9XCJ7XCI7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspMCE9PWQmJihjKz1cIixcIiksYys9eShiW2RdKSxjKz1cIjpcIixjKz1KYShhW2JbZF1dKTtyZXR1cm4gYytcIn1cIn1mdW5jdGlvbiBWYihhLGIpe2lmKGEubGVuZ3RoPD1iKXJldHVyblthXTtmb3IodmFyIGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCs9YilkK2I+YT9jLnB1c2goYS5zdWJzdHJpbmcoZCxhLmxlbmd0aCkpOmMucHVzaChhLnN1YnN0cmluZyhkLGQrYikpO3JldHVybiBjfWZ1bmN0aW9uIFdiKGEsYil7aWYoXCJhcnJheVwiPT1lYShhKSlmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYyliKGMsYVtjXSk7ZWxzZSBYYihhLGIpfVxuZnVuY3Rpb24gWWIoYSl7eighQmEoYSkpO3ZhciBiLGMsZCxlOzA9PT1hPyhkPWM9MCxiPS1JbmZpbml0eT09PTEvYT8xOjApOihiPTA+YSxhPU1hdGguYWJzKGEpLGE+PU1hdGgucG93KDIsLTEwMjIpPyhkPU1hdGgubWluKE1hdGguZmxvb3IoTWF0aC5sb2coYSkvTWF0aC5MTjIpLDEwMjMpLGM9ZCsxMDIzLGQ9TWF0aC5yb3VuZChhKk1hdGgucG93KDIsNTItZCktTWF0aC5wb3coMiw1MikpKTooYz0wLGQ9TWF0aC5yb3VuZChhL01hdGgucG93KDIsLTEwNzQpKSkpO2U9W107Zm9yKGE9NTI7YTthLT0xKWUucHVzaChkJTI/MTowKSxkPU1hdGguZmxvb3IoZC8yKTtmb3IoYT0xMTthO2EtPTEpZS5wdXNoKGMlMj8xOjApLGM9TWF0aC5mbG9vcihjLzIpO2UucHVzaChiPzE6MCk7ZS5yZXZlcnNlKCk7Yj1lLmpvaW4oXCJcIik7Yz1cIlwiO2ZvcihhPTA7NjQ+YTthKz04KWQ9cGFyc2VJbnQoYi5zdWJzdHIoYSw4KSwyKS50b1N0cmluZygxNiksMT09PWQubGVuZ3RoJiYoZD1cIjBcIitkKSxjKz1kO1xucmV0dXJuIGMudG9Mb3dlckNhc2UoKX12YXIgWmI9L14tP1xcZHsxLDEwfSQvO2Z1bmN0aW9uIFRiKGEpe3JldHVybiBaYi50ZXN0KGEpJiYoYT1wYXJzZUludChhKSwtMjE0NzQ4MzY0ODw9YSYmMjE0NzQ4MzY0Nz49YSk/YTpsfWZ1bmN0aW9uICRiKGEpe3RyeXthKCl9Y2F0Y2goYil7c2V0VGltZW91dChmdW5jdGlvbigpe2coYil9KX19O2Z1bmN0aW9uIGFjKGEsYil7dGhpcy5EPWE7eih0aGlzLkQhPT1sLFwiTGVhZk5vZGUgc2hvdWxkbid0IGJlIGNyZWF0ZWQgd2l0aCBudWxsIHZhbHVlLlwiKTt0aGlzLlphPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgYj9iOmx9dD1hYy5wcm90b3R5cGU7dC5NPXIoayk7dC5qPWFhKFwiWmFcIik7dC5FYT1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IGFjKHRoaXMuRCxhKX07dC5MPWZ1bmN0aW9uKCl7cmV0dXJuIFF9O3QuUD1mdW5jdGlvbihhKXtyZXR1cm4gRihhKT09PWw/dGhpczpRfTt0LmVhPXIobCk7dC5HPWZ1bmN0aW9uKGEsYil7cmV0dXJuKG5ldyBSKS5HKGEsYikuRWEodGhpcy5aYSl9O3QueGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1GKGEpO3JldHVybiBjPT09bD9iOnRoaXMuRyhjLFEueGEoS2EoYSksYikpfTt0LmY9cihvKTt0LlJiPXIoMCk7dC5VPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0aGlzLmooKSE9PWw/e1wiLnZhbHVlXCI6dGhpcy5rKCksXCIucHJpb3JpdHlcIjp0aGlzLmooKX06dGhpcy5rKCl9O1xudC5oYXNoPWZ1bmN0aW9uKCl7dmFyIGE9XCJcIjt0aGlzLmooKSE9PWwmJihhKz1cInByaW9yaXR5OlwiK2JjKHRoaXMuaigpKStcIjpcIik7dmFyIGI9dHlwZW9mIHRoaXMuRCxhPWErKGIrXCI6XCIpLGE9XCJudW1iZXJcIj09PWI/YStZYih0aGlzLkQpOmErdGhpcy5EO3JldHVybiBKYihhKX07dC5rPWFhKFwiRFwiKTt0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiB0aGlzLkQ/J1wiJyt0aGlzLkQrJ1wiJzp0aGlzLkR9O2Z1bmN0aW9uIGNjKGEsYil7cmV0dXJuIFJiKGEuaWEsYi5pYSl8fFNiKGEubmFtZSxiLm5hbWUpfWZ1bmN0aW9uIGRjKGEsYil7cmV0dXJuIFNiKGEubmFtZSxiLm5hbWUpfWZ1bmN0aW9uIGVjKGEsYil7cmV0dXJuIFNiKGEsYil9O2Z1bmN0aW9uIFIoYSxiKXt0aGlzLm89YXx8bmV3IFJhKGVjKTt0aGlzLlphPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgYj9iOmx9dD1SLnByb3RvdHlwZTt0Lk09cihvKTt0Lmo9YWEoXCJaYVwiKTt0LkVhPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgUih0aGlzLm8sYSl9O3QuRz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuby5yZW1vdmUoYSk7YiYmYi5mKCkmJihiPWwpO2IhPT1sJiYoYz1jLm5hKGEsYikpO3JldHVybiBiJiZiLmooKSE9PWw/bmV3IGZjKGMsbCx0aGlzLlphKTpuZXcgUihjLHRoaXMuWmEpfTt0LnhhPWZ1bmN0aW9uKGEsYil7dmFyIGM9RihhKTtpZihjPT09bClyZXR1cm4gYjt2YXIgZD10aGlzLkwoYykueGEoS2EoYSksYik7cmV0dXJuIHRoaXMuRyhjLGQpfTt0LmY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vLmYoKX07dC5SYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm8uY291bnQoKX07dmFyIGdjPS9eXFxkKyQvO3Q9Ui5wcm90b3R5cGU7XG50LlU9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKCkpcmV0dXJuIGw7dmFyIGI9e30sYz0wLGQ9MCxlPWs7dGhpcy53KGZ1bmN0aW9uKGYsaCl7YltmXT1oLlUoYSk7YysrO2UmJmdjLnRlc3QoZik/ZD1NYXRoLm1heChkLE51bWJlcihmKSk6ZT1vfSk7aWYoIWEmJmUmJmQ8MipjKXt2YXIgZj1bXSxoO2ZvcihoIGluIGIpZltoXT1iW2hdO3JldHVybiBmfWEmJnRoaXMuaigpIT09bCYmKGJbXCIucHJpb3JpdHlcIl09dGhpcy5qKCkpO3JldHVybiBifTt0Lmhhc2g9ZnVuY3Rpb24oKXt2YXIgYT1cIlwiO3RoaXMuaigpIT09bCYmKGErPVwicHJpb3JpdHk6XCIrYmModGhpcy5qKCkpK1wiOlwiKTt0aGlzLncoZnVuY3Rpb24oYixjKXt2YXIgZD1jLmhhc2goKTtcIlwiIT09ZCYmKGErPVwiOlwiK2IrXCI6XCIrZCl9KTtyZXR1cm5cIlwiPT09YT9cIlwiOkpiKGEpfTt0Lkw9ZnVuY3Rpb24oYSl7YT10aGlzLm8uZ2V0KGEpO3JldHVybiBhPT09bD9ROmF9O1xudC5QPWZ1bmN0aW9uKGEpe3ZhciBiPUYoYSk7cmV0dXJuIGI9PT1sP3RoaXM6dGhpcy5MKGIpLlAoS2EoYSkpfTt0LmVhPWZ1bmN0aW9uKGEpe3JldHVybiBVYSh0aGlzLm8sYSl9O3QuYmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vLnJiKCl9O3QuY2Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vLldhKCl9O3Qudz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vLkFhKGEpfTt0LnZjPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm8uTGEoYSl9O3QuVWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vLlVhKCl9O3QudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1cIntcIixiPWs7dGhpcy53KGZ1bmN0aW9uKGMsZCl7Yj9iPW86YSs9XCIsIFwiO2ErPSdcIicrYysnXCIgOiAnK2QudG9TdHJpbmcoKX0pO3JldHVybiBhKz1cIn1cIn07dmFyIFE9bmV3IFI7ZnVuY3Rpb24gZmMoYSxiLGMpe1IuY2FsbCh0aGlzLGEsYyk7Yj09PWwmJihiPW5ldyBSYShjYyksYS5BYShmdW5jdGlvbihhLGMpe2I9Yi5uYSh7bmFtZTphLGlhOmMuaigpfSxjKX0pKTt0aGlzLnRhPWJ9a2EoZmMsUik7dD1mYy5wcm90b3R5cGU7dC5HPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5MKGEpLGQ9dGhpcy5vLGU9dGhpcy50YTtjIT09bCYmKGQ9ZC5yZW1vdmUoYSksZT1lLnJlbW92ZSh7bmFtZTphLGlhOmMuaigpfSkpO2ImJmIuZigpJiYoYj1sKTtiIT09bCYmKGQ9ZC5uYShhLGIpLGU9ZS5uYSh7bmFtZTphLGlhOmIuaigpfSxiKSk7cmV0dXJuIG5ldyBmYyhkLGUsdGhpcy5qKCkpfTt0LmVhPWZ1bmN0aW9uKGEsYil7dmFyIGM9VWEodGhpcy50YSx7bmFtZTphLGlhOmIuaigpfSk7cmV0dXJuIGM/Yy5uYW1lOmx9O3Qudz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50YS5BYShmdW5jdGlvbihiLGMpe3JldHVybiBhKGIubmFtZSxjKX0pfTtcbnQudmM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGEuTGEoZnVuY3Rpb24oYixjKXtyZXR1cm4gYShiLm5hbWUsYyl9KX07dC5VYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhLlVhKGZ1bmN0aW9uKGEsYil7cmV0dXJue2tleTphLm5hbWUsdmFsdWU6Yn19KX07dC5iZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhLmYoKT9sOnRoaXMudGEucmIoKS5uYW1lfTt0LmNkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGEuZigpP2w6dGhpcy50YS5XYSgpLm5hbWV9O2Z1bmN0aW9uIFMoYSxiKXtpZihhPT09bClyZXR1cm4gUTt2YXIgYz1sO1wib2JqZWN0XCI9PT10eXBlb2YgYSYmXCIucHJpb3JpdHlcImluIGE/Yz1hW1wiLnByaW9yaXR5XCJdOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgYiYmKGM9Yik7eihjPT09bHx8XCJzdHJpbmdcIj09PXR5cGVvZiBjfHxcIm51bWJlclwiPT09dHlwZW9mIGN8fFwib2JqZWN0XCI9PT10eXBlb2YgYyYmXCIuc3ZcImluIGMpO1wib2JqZWN0XCI9PT10eXBlb2YgYSYmKFwiLnZhbHVlXCJpbiBhJiZhW1wiLnZhbHVlXCJdIT09bCkmJihhPWFbXCIudmFsdWVcIl0pO2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYXx8XCIuc3ZcImluIGEpcmV0dXJuIG5ldyBhYyhhLGMpO2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7dmFyIGQ9USxlO2ZvcihlIGluIGEpaWYoRChhLGUpJiZcIi5cIiE9PWUuc3Vic3RyaW5nKDAsMSkpe3ZhciBmPVMoYVtlXSk7aWYoZi5NKCl8fCFmLmYoKSlkPWQuRyhlLGYpfXJldHVybiBkLkVhKGMpfXZhciBoPVtdLGk9e30sbT1vO1diKGEsZnVuY3Rpb24oYixcbmMpe2lmKFwic3RyaW5nXCIhPT10eXBlb2YgY3x8XCIuXCIhPT1jLnN1YnN0cmluZygwLDEpKXt2YXIgZD1TKGFbY10pO2QuZigpfHwobT1tfHxkLmooKSE9PWwsaC5wdXNoKHtuYW1lOmMsaWE6ZC5qKCl9KSxpW2NdPWQpfX0pO2Q9aGMoaCxpLG8pO3JldHVybiBtPyhlPWhjKGgsaSxrKSxuZXcgZmMoZCxlLGMpKTpuZXcgUihkLGMpfXZhciBpYz1NYXRoLmxvZygyKTtmdW5jdGlvbiBqYyhhKXt0aGlzLmNvdW50PXBhcnNlSW50KE1hdGgubG9nKGErMSkvaWMpO3RoaXMuWmM9dGhpcy5jb3VudC0xO3RoaXMudWQ9YSsxJnBhcnNlSW50KEFycmF5KHRoaXMuY291bnQrMSkuam9pbihcIjFcIiksMil9XG5mdW5jdGlvbiBoYyhhLGIsYyl7ZnVuY3Rpb24gZChkLGYpe3ZhciBoPW4tZCxwPW47bi09ZDt2YXIgcT1hW2hdLm5hbWUsaD1uZXcgWGEoYz9hW2hdOnEsYltxXSxmLGwsZShoKzEscCkpO2k/aS5sZWZ0PWg6bT1oO2k9aH1mdW5jdGlvbiBlKGQsZil7dmFyIGg9Zi1kO2lmKDA9PWgpcmV0dXJuIGw7aWYoMT09aCl7dmFyIGg9YVtkXS5uYW1lLGk9Yz9hW2RdOmg7cmV0dXJuIG5ldyBYYShpLGJbaF0sbyxsLGwpfXZhciBpPXBhcnNlSW50KGgvMikrZCxtPWUoZCxpKSxuPWUoaSsxLGYpLGg9YVtpXS5uYW1lLGk9Yz9hW2ldOmg7cmV0dXJuIG5ldyBYYShpLGJbaF0sbyxtLG4pfXZhciBmPWM/Y2M6ZGM7YS5zb3J0KGYpO3ZhciBoLGY9bmV3IGpjKGEubGVuZ3RoKSxpPWwsbT1sLG49YS5sZW5ndGg7Zm9yKGg9MDtoPGYuY291bnQ7KytoKXt2YXIgcD0hKGYudWQmMTw8Zi5aYyk7Zi5aYy0tO3ZhciBxPU1hdGgucG93KDIsZi5jb3VudC0oaCsxKSk7cD9kKHEsbyk6KGQocSxvKSxkKHEsaykpfWg9XG5tO2Y9Yz9jYzplYztyZXR1cm4gaCE9PWw/bmV3IFJhKGYsaCk6bmV3IFJhKGYpfWZ1bmN0aW9uIGJjKGEpe3JldHVyblwibnVtYmVyXCI9PT10eXBlb2YgYT9cIm51bWJlcjpcIitZYihhKTpcInN0cmluZzpcIithfTtmdW5jdGlvbiBUKGEsYil7dGhpcy56PWE7dGhpcy5iYz1ifVQucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXtBKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LnZhbFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy56LlUoKX07VC5wcm90b3R5cGUudmFsPVQucHJvdG90eXBlLlU7VC5wcm90b3R5cGUueWQ9ZnVuY3Rpb24oKXtBKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmV4cG9ydFZhbFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy56LlUoayl9O1QucHJvdG90eXBlLmV4cG9ydFZhbD1ULnByb3RvdHlwZS55ZDtULnByb3RvdHlwZS5GPWZ1bmN0aW9uKGEpe0EoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuY2hpbGRcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCk7Z2EoYSkmJihhPVN0cmluZyhhKSk7R2EoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuY2hpbGRcIixhKTt2YXIgYj1uZXcgSyhhKSxjPXRoaXMuYmMuRihiKTtyZXR1cm4gbmV3IFQodGhpcy56LlAoYiksYyl9O1xuVC5wcm90b3R5cGUuY2hpbGQ9VC5wcm90b3R5cGUuRjtULnByb3RvdHlwZS5BYz1mdW5jdGlvbihhKXtBKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO0dhKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsYSk7dmFyIGI9bmV3IEsoYSk7cmV0dXJuIXRoaXMuei5QKGIpLmYoKX07VC5wcm90b3R5cGUuaGFzQ2hpbGQ9VC5wcm90b3R5cGUuQWM7VC5wcm90b3R5cGUuaj1mdW5jdGlvbigpe0EoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZ2V0UHJpb3JpdHlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuei5qKCl9O1QucHJvdG90eXBlLmdldFByaW9yaXR5PVQucHJvdG90eXBlLmo7XG5ULnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGEpe0EoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZm9yRWFjaFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtDKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmZvckVhY2hcIiwxLGEsbyk7aWYodGhpcy56Lk0oKSlyZXR1cm4gbzt2YXIgYj10aGlzO3JldHVybiB0aGlzLnoudyhmdW5jdGlvbihjLGQpe3JldHVybiBhKG5ldyBUKGQsYi5iYy5GKGMpKSl9KX07VC5wcm90b3R5cGUuZm9yRWFjaD1ULnByb3RvdHlwZS5mb3JFYWNoO1QucHJvdG90eXBlLmxiPWZ1bmN0aW9uKCl7QShcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5oYXNDaGlsZHJlblwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy56Lk0oKT9vOiF0aGlzLnouZigpfTtULnByb3RvdHlwZS5oYXNDaGlsZHJlbj1ULnByb3RvdHlwZS5sYjtcblQucHJvdG90eXBlLm5hbWU9ZnVuY3Rpb24oKXtBKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lm5hbWVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuYmMubmFtZSgpfTtULnByb3RvdHlwZS5uYW1lPVQucHJvdG90eXBlLm5hbWU7VC5wcm90b3R5cGUuUmI9ZnVuY3Rpb24oKXtBKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lm51bUNoaWxkcmVuXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLnouUmIoKX07VC5wcm90b3R5cGUubnVtQ2hpbGRyZW49VC5wcm90b3R5cGUuUmI7VC5wcm90b3R5cGUuTGM9ZnVuY3Rpb24oKXtBKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LnJlZlwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5iY307VC5wcm90b3R5cGUucmVmPVQucHJvdG90eXBlLkxjO2Z1bmN0aW9uIGtjKGEpe3ooXCJhcnJheVwiPT1lYShhKSYmMDxhLmxlbmd0aCk7dGhpcy50ZD1hO3RoaXMucWI9e319a2MucHJvdG90eXBlLnhjPWZ1bmN0aW9uKCl7fTtrYy5wcm90b3R5cGUuV2M9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMucWJbYV18fFtdLGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdLlcuYXBwbHkoYltjXS5TLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9O2tjLnByb3RvdHlwZS5ZYT1mdW5jdGlvbihhLGIsYyl7bWModGhpcyxhKTt0aGlzLnFiW2FdPXRoaXMucWJbYV18fFtdO3RoaXMucWJbYV0ucHVzaCh7VzpiLFM6Y30pOyhhPXRoaXMueGMoYSkpJiZiLmFwcGx5KGMsYSl9O2tjLnByb3RvdHlwZS50Yj1mdW5jdGlvbihhLGIsYyl7bWModGhpcyxhKTtmb3IodmFyIGE9dGhpcy5xYlthXXx8W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGFbZF0uVz09PWImJighY3x8Yz09PWFbZF0uUykpe2Euc3BsaWNlKGQsMSk7YnJlYWt9fTtcbmZ1bmN0aW9uIG1jKGEsYil7dmFyIGM9YS50ZCxkO2E6e2Q9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1ifTtmb3IodmFyIGU9Yy5sZW5ndGgsZj12KGMpP2Muc3BsaXQoXCJcIik6YyxoPTA7aDxlO2grKylpZihoIGluIGYmJmQuY2FsbChqLGZbaF0pKXtkPWg7YnJlYWsgYX1kPS0xfXooMD5kP2w6dihjKT9jLmNoYXJBdChkKTpjW2RdLFwiVW5rbm93biBldmVudDogXCIrYil9O2Z1bmN0aW9uIG5jKCl7a2MuY2FsbCh0aGlzLFtcInZpc2libGVcIl0pO3ZhciBhLGI7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudCYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyJiYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC5oaWRkZW4/KGI9XCJ2aXNpYmlsaXR5Y2hhbmdlXCIsYT1cImhpZGRlblwiKTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50Lm1vekhpZGRlbj8oYj1cIm1venZpc2liaWxpdHljaGFuZ2VcIixhPVwibW96SGlkZGVuXCIpOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQubXNIaWRkZW4/KGI9XCJtc3Zpc2liaWxpdHljaGFuZ2VcIixhPVwibXNIaWRkZW5cIik6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC53ZWJraXRIaWRkZW4mJihiPVwid2Via2l0dmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJ3ZWJraXRIaWRkZW5cIikpO3RoaXMuZ2I9aztpZihiKXt2YXIgYz10aGlzO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoYixcbmZ1bmN0aW9uKCl7dmFyIGI9IWRvY3VtZW50W2FdO2lmKGIhPT1jLmdiKXtjLmdiPWI7Yy5XYyhcInZpc2libGVcIixiKX19LG8pfX1rYShuYyxrYyk7ZGEobmMpO25jLnByb3RvdHlwZS54Yz1mdW5jdGlvbihhKXt6KFwidmlzaWJsZVwiPT09YSk7cmV0dXJuW3RoaXMuZ2JdfTtmdW5jdGlvbiBvYyhhKXt0aGlzLkhjPWE7dGhpcy5ZYj1bXTt0aGlzLlFhPTA7dGhpcy5xYz0tMTt0aGlzLklhPWx9O2Z1bmN0aW9uIFhiKGEsYil7Zm9yKHZhciBjIGluIGEpYi5jYWxsKGosYVtjXSxjLGEpfWZ1bmN0aW9uIHBjKGEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gYSliW2NdPWFbY107cmV0dXJuIGJ9O2Z1bmN0aW9uIHFjKCl7dGhpcy5pYj17fX1mdW5jdGlvbiByYyhhLGIsYyl7dShjKXx8KGM9MSk7RChhLmliLGIpfHwoYS5pYltiXT0wKTthLmliW2JdKz1jfXFjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gcGModGhpcy5pYil9O2Z1bmN0aW9uIHNjKGEpe3RoaXMudmQ9YTt0aGlzLlBiPWx9c2MucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmQuZ2V0KCksYj1wYyhhKTtpZih0aGlzLlBiKWZvcih2YXIgYyBpbiB0aGlzLlBiKWJbY10tPXRoaXMuUGJbY107dGhpcy5QYj1hO3JldHVybiBifTtmdW5jdGlvbiB0YyhhLGIpe3RoaXMuUmM9e307dGhpcy5oYz1uZXcgc2MoYSk7dGhpcy51PWI7c2V0VGltZW91dCh3KHRoaXMuamQsdGhpcyksMTArNkU0Kk1hdGgucmFuZG9tKCkpfXRjLnByb3RvdHlwZS5qZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaGMuZ2V0KCksYj17fSxjPW8sZDtmb3IoZCBpbiBhKTA8YVtkXSYmRCh0aGlzLlJjLGQpJiYoYltkXT1hW2RdLGM9ayk7YyYmKGE9dGhpcy51LGEuViYmKGI9e2M6Yn0sYS5lKFwicmVwb3J0U3RhdHNcIixiKSxhLkRhKFwic1wiLGIpKSk7c2V0VGltZW91dCh3KHRoaXMuamQsdGhpcyksNkU1Kk1hdGgucmFuZG9tKCkpfTt2YXIgdWM9e30sdmM9e307ZnVuY3Rpb24gd2MoYSl7YT1hLnRvU3RyaW5nKCk7dWNbYV18fCh1Y1thXT1uZXcgcWMpO3JldHVybiB1Y1thXX07dmFyIHhjPWw7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBNb3pXZWJTb2NrZXQ/eGM9TW96V2ViU29ja2V0OlwidW5kZWZpbmVkXCIhPT10eXBlb2YgV2ViU29ja2V0JiYoeGM9V2ViU29ja2V0KTtmdW5jdGlvbiB5YyhhLGIsYyl7dGhpcy5yYz1hO3RoaXMuZT1PYih0aGlzLnJjKTt0aGlzLmZyYW1lcz10aGlzLm9iPWw7dGhpcy5UYz0wO3RoaXMuJD13YyhiKTt0aGlzLlBhPShiLmVjP1wid3NzOi8vXCI6XCJ3czovL1wiKStiLmZhK1wiLy53cz92PTVcIjtiLmhvc3QhPT1iLmZhJiYodGhpcy5QYT10aGlzLlBhK1wiJm5zPVwiK2Iuc2IpO2MmJih0aGlzLlBhPXRoaXMuUGErXCImcz1cIitjKX12YXIgemM7XG55Yy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIpe3RoaXMuaGE9Yjt0aGlzLkdkPWE7dGhpcy5lKFwid2Vic29ja2V0IGNvbm5lY3RpbmcgdG8gXCIrdGhpcy5QYSk7dGhpcy5ZPW5ldyB4Yyh0aGlzLlBhKTt0aGlzLmpiPW87dmFyIGM9dGhpczt0aGlzLlkub25vcGVuPWZ1bmN0aW9uKCl7Yy5lKFwiV2Vic29ja2V0IGNvbm5lY3RlZC5cIik7Yy5qYj1rfTt0aGlzLlkub25jbG9zZT1mdW5jdGlvbigpe2MuZShcIldlYnNvY2tldCBjb25uZWN0aW9uIHdhcyBkaXNjb25uZWN0ZWQuXCIpO2MuWT1sO2MuSmEoKX07dGhpcy5ZLm9ubWVzc2FnZT1mdW5jdGlvbihhKXtpZihjLlkhPT1sKWlmKGE9YS5kYXRhLHJjKGMuJCxcImJ5dGVzX3JlY2VpdmVkXCIsYS5sZW5ndGgpLEFjKGMpLGMuZnJhbWVzIT09bClCYyhjLGEpO2Vsc2V7YTp7eihjLmZyYW1lcz09PWwsXCJXZSBhbHJlYWR5IGhhdmUgYSBmcmFtZSBidWZmZXJcIik7aWYoND49YS5sZW5ndGgpe3ZhciBiPU51bWJlcihhKTtpZighaXNOYU4oYikpe2MuVGM9XG5iO2MuZnJhbWVzPVtdO2E9bDticmVhayBhfX1jLlRjPTE7Yy5mcmFtZXM9W119YSE9PWwmJkJjKGMsYSl9fTt0aGlzLlkub25lcnJvcj1mdW5jdGlvbihhKXtjLmUoXCJXZWJTb2NrZXQgZXJyb3IuICBDbG9zaW5nIGNvbm5lY3Rpb24uXCIpO2EuZGF0YSYmYy5lKGEuZGF0YSk7Yy5KYSgpfX07eWMucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7fTt5Yy5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiEoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBuYXZpZ2F0b3ImJlwiT3BlcmFcIj09PW5hdmlnYXRvci5hcHBOYW1lKSYmeGMhPT1sJiYhemN9O2Z1bmN0aW9uIEJjKGEsYil7YS5mcmFtZXMucHVzaChiKTtpZihhLmZyYW1lcy5sZW5ndGg9PWEuVGMpe3ZhciBjPWEuZnJhbWVzLmpvaW4oXCJcIik7YS5mcmFtZXM9bDtjPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgSlNPTiYmdShKU09OLnBhcnNlKT9KU09OLnBhcnNlKGMpOmxhKGMpO2EuR2QoYyl9fVxueWMucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oYSl7QWModGhpcyk7YT15KGEpO3JjKHRoaXMuJCxcImJ5dGVzX3NlbnRcIixhLmxlbmd0aCk7YT1WYihhLDE2Mzg0KTsxPGEubGVuZ3RoJiZ0aGlzLlkuc2VuZChTdHJpbmcoYS5sZW5ndGgpKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl0aGlzLlkuc2VuZChhW2JdKX07eWMucHJvdG90eXBlLkliPWZ1bmN0aW9uKCl7dGhpcy5IYT1rO3RoaXMub2ImJihjbGVhckludGVydmFsKHRoaXMub2IpLHRoaXMub2I9bCk7dGhpcy5ZJiYodGhpcy5ZLmNsb3NlKCksdGhpcy5ZPWwpfTt5Yy5wcm90b3R5cGUuSmE9ZnVuY3Rpb24oKXt0aGlzLkhhfHwodGhpcy5lKFwiV2ViU29ja2V0IGlzIGNsb3NpbmcgaXRzZWxmXCIpLHRoaXMuSWIoKSx0aGlzLmhhJiYodGhpcy5oYSh0aGlzLmpiKSx0aGlzLmhhPWwpKX07eWMucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5IYXx8KHRoaXMuZShcIldlYlNvY2tldCBpcyBiZWluZyBjbG9zZWRcIiksdGhpcy5JYigpKX07XG5mdW5jdGlvbiBBYyhhKXtjbGVhckludGVydmFsKGEub2IpO2Eub2I9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXthLlkuc2VuZChcIjBcIik7QWMoYSl9LDQ1RTMpfTtmdW5jdGlvbiBDYygpe3RoaXMuc2V0PXt9fXQ9Q2MucHJvdG90eXBlO3QuYWRkPWZ1bmN0aW9uKGEsYil7dGhpcy5zZXRbYV09YiE9PWw/YjprfTt0LmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBEKHRoaXMuc2V0LGEpfTt0LmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb250YWlucyhhKT90aGlzLnNldFthXTpqfTt0LnJlbW92ZT1mdW5jdGlvbihhKXtkZWxldGUgdGhpcy5zZXRbYV19O3QuZj1mdW5jdGlvbigpe3ZhciBhO2E6e2ZvcihhIGluIHRoaXMuc2V0KXthPW87YnJlYWsgYX1hPWt9cmV0dXJuIGF9O3QuY291bnQ9ZnVuY3Rpb24oKXt2YXIgYT0wLGI7Zm9yKGIgaW4gdGhpcy5zZXQpYSsrO3JldHVybiBhfTtmdW5jdGlvbiBVKGEsYil7Zm9yKHZhciBjIGluIGEuc2V0KUQoYS5zZXQsYykmJmIoYyxhLnNldFtjXSl9dC5rZXlzPWZ1bmN0aW9uKCl7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLnNldClEKHRoaXMuc2V0LGIpJiZhLnB1c2goYik7cmV0dXJuIGF9O3ZhciBEYz1cInBMUENvbW1hbmRcIixFYz1cInBSVExQQ0JcIjtmdW5jdGlvbiBGYyhhLGIsYyl7dGhpcy5yYz1hO3RoaXMuZT1PYihhKTt0aGlzLlZkPWI7dGhpcy4kPXdjKGIpO3RoaXMuZ2M9Yzt0aGlzLmpiPW87dGhpcy5MYj1mdW5jdGlvbihhKXtiLmhvc3QhPT1iLmZhJiYoYS5ucz1iLnNiKTt2YXIgYz1bXSxmO2ZvcihmIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGYrXCI9XCIrYVtmXSk7cmV0dXJuKGIuZWM/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKStiLmZhK1wiLy5scD9cIitjLmpvaW4oXCImXCIpfX12YXIgR2MsSGM7XG5GYy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtpZighZC5IYSl7ZC5qYT1uZXcgSWMoZnVuY3Rpb24oYSxiLGMsZSxmKXtyYyhkLiQsXCJieXRlc19yZWNlaXZlZFwiLHkoYXJndW1lbnRzKS5sZW5ndGgpO2lmKGQuamEpaWYoZC5GYSYmKGNsZWFyVGltZW91dChkLkZhKSxkLkZhPWwpLGQuamI9ayxcInN0YXJ0XCI9PWEpZC5pZD1iLGQuaGQ9YztlbHNlIGlmKFwiY2xvc2VcIj09PWEpaWYoYil7ZC5qYS5mYz1vO3ZhciBoPWQuZWQ7aC5xYz1iO2guSWE9ZnVuY3Rpb24oKXtkLkphKCl9O2gucWM8aC5RYSYmKGguSWEoKSxoLklhPWwpfWVsc2UgZC5KYSgpO2Vsc2UgZyhFcnJvcihcIlVucmVjb2duaXplZCBjb21tYW5kIHJlY2VpdmVkOiBcIithKSl9LGZ1bmN0aW9uKGEsYil7cmMoZC4kLFwiYnl0ZXNfcmVjZWl2ZWRcIix5KGFyZ3VtZW50cykubGVuZ3RoKTt2YXIgYz1kLmVkO2ZvcihjLlliW2FdPWI7Yy5ZYltjLlFhXTspe3ZhciBlPWMuWWJbYy5RYV07ZGVsZXRlIGMuWWJbYy5RYV07XG5mb3IodmFyIGY9MDtmPGUubGVuZ3RoOysrZilpZihlW2ZdKXt2YXIgaD1jOyRiKGZ1bmN0aW9uKCl7aC5IYyhlW2ZdKX0pfWlmKGMuUWE9PT1jLnFjKXtjLklhJiYoY2xlYXJUaW1lb3V0KGMuSWEpLGMuSWEoKSxjLklhPWwpO2JyZWFrfWMuUWErK319LGZ1bmN0aW9uKCl7ZC5KYSgpfSxkLkxiKTt2YXIgYT17c3RhcnQ6XCJ0XCJ9O2Euc2VyPU1hdGguZmxvb3IoMUU4Kk1hdGgucmFuZG9tKCkpO2QuamEuamMmJihhLmNiPWQuamEuamMpO2Eudj1cIjVcIjtkLmdjJiYoYS5zPWQuZ2MpO2E9ZC5MYihhKTtkLmUoXCJDb25uZWN0aW5nIHZpYSBsb25nLXBvbGwgdG8gXCIrYSk7SmMoZC5qYSxhLGZ1bmN0aW9uKCl7fSl9fXRoaXMuWWM9MDt0aGlzLlE9Yjt0aGlzLmVkPW5ldyBvYyhhKTt0aGlzLkhhPW87dmFyIGQ9dGhpczt0aGlzLkZhPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmUoXCJUaW1lZCBvdXQgdHJ5aW5nIHRvIGNvbm5lY3QuXCIpO2QuSmEoKTtkLkZhPWx9LDNFNCk7aWYoXCJjb21wbGV0ZVwiPT09XG5kb2N1bWVudC5yZWFkeVN0YXRlKWMoKTtlbHNle3ZhciBlPW8sZj1mdW5jdGlvbigpe2RvY3VtZW50LmJvZHk/ZXx8KGU9ayxjKCkpOnNldFRpbWVvdXQoZiwxMCl9O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI/KGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsZixvKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmLG8pKTpkb2N1bWVudC5hdHRhY2hFdmVudCYmKGRvY3VtZW50LmF0dGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsZnVuY3Rpb24oKXtcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZmKCl9LG8pLHdpbmRvdy5hdHRhY2hFdmVudChcIm9ubG9hZFwiLGYsbykpfX07XG5GYy5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmphLGI9dGhpcy5oZDthLkVkPXRoaXMuaWQ7YS5GZD1iO2ZvcihhLm1jPWs7S2MoYSk7KTthPXRoaXMuaWQ7Yj10aGlzLmhkO3RoaXMuWGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTt2YXIgYz17ZGZyYW1lOlwidFwifTtjLmlkPWE7Yy5wdz1iO2E9dGhpcy5MYihjKTt0aGlzLlhhLnNyYz1hO3RoaXMuWGEuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuWGEpfTtGYy5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiFIYyYmIShcIm9iamVjdFwiPT09dHlwZW9mIHdpbmRvdyYmd2luZG93LmNocm9tZSYmd2luZG93LmNocm9tZS5leHRlbnNpb24mJiEvXmNocm9tZS8udGVzdCh3aW5kb3cubG9jYXRpb24uaHJlZikpJiYhKFwib2JqZWN0XCI9PT10eXBlb2YgV2luZG93cyYmXCJvYmplY3RcIj09PXR5cGVvZiBXaW5kb3dzLlVkKSYmKEdjfHxrKX07XG5GYy5wcm90b3R5cGUuSWI9ZnVuY3Rpb24oKXt0aGlzLkhhPWs7dGhpcy5qYSYmKHRoaXMuamEuY2xvc2UoKSx0aGlzLmphPWwpO3RoaXMuWGEmJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuWGEpLHRoaXMuWGE9bCk7dGhpcy5GYSYmKGNsZWFyVGltZW91dCh0aGlzLkZhKSx0aGlzLkZhPWwpfTtGYy5wcm90b3R5cGUuSmE9ZnVuY3Rpb24oKXt0aGlzLkhhfHwodGhpcy5lKFwiTG9uZ3BvbGwgaXMgY2xvc2luZyBpdHNlbGZcIiksdGhpcy5JYigpLHRoaXMuUSYmKHRoaXMuUSh0aGlzLmpiKSx0aGlzLlE9bCkpfTtGYy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLkhhfHwodGhpcy5lKFwiTG9uZ3BvbGwgaXMgYmVpbmcgY2xvc2VkLlwiKSx0aGlzLkliKCkpfTtcbkZjLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGEpe2E9eShhKTtyYyh0aGlzLiQsXCJieXRlc19zZW50XCIsYS5sZW5ndGgpO2Zvcih2YXIgYT1yYShhKSxhPUdiKGEsayksYT1WYihhLDE4NDApLGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5qYTtjLkJiLnB1c2goe09kOnRoaXMuWWMsVGQ6YS5sZW5ndGgsJGM6YVtiXX0pO2MubWMmJktjKGMpO3RoaXMuWWMrK319O1xuZnVuY3Rpb24gSWMoYSxiLGMsZCl7dGhpcy5MYj1kO3RoaXMuaGE9Yzt0aGlzLkpjPW5ldyBDYzt0aGlzLkJiPVtdO3RoaXMuc2M9TWF0aC5mbG9vcigxRTgqTWF0aC5yYW5kb20oKSk7dGhpcy5mYz1rO3RoaXMuamM9SGIoKTt3aW5kb3dbRGMrdGhpcy5qY109YTt3aW5kb3dbRWMrdGhpcy5qY109YjthPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7YS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2lmKGRvY3VtZW50LmJvZHkpe2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7dHJ5e2EuY29udGVudFdpbmRvdy5kb2N1bWVudHx8TihcIk5vIElFIGRvbWFpbiBzZXR0aW5nIHJlcXVpcmVkXCIpfWNhdGNoKGUpe2Euc3JjPVwiamF2YXNjcmlwdDp2b2lkKChmdW5jdGlvbigpe2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC5kb21haW49J1wiK2RvY3VtZW50LmRvbWFpbitcIic7ZG9jdW1lbnQuY2xvc2UoKTt9KSgpKVwifX1lbHNlIGcoXCJEb2N1bWVudCBib2R5IGhhcyBub3QgaW5pdGlhbGl6ZWQuIFdhaXQgdG8gaW5pdGlhbGl6ZSBGaXJlYmFzZSB1bnRpbCBhZnRlciB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXCIpO1xuYS5jb250ZW50RG9jdW1lbnQ/YS55YT1hLmNvbnRlbnREb2N1bWVudDphLmNvbnRlbnRXaW5kb3c/YS55YT1hLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6YS5kb2N1bWVudCYmKGEueWE9YS5kb2N1bWVudCk7dGhpcy5YPWE7YT1cIlwiO3RoaXMuWC5zcmMmJlwiamF2YXNjcmlwdDpcIj09PXRoaXMuWC5zcmMuc3Vic3RyKDAsMTEpJiYoYT0nPHNjcmlwdD5kb2N1bWVudC5kb21haW49XCInK2RvY3VtZW50LmRvbWFpbisnXCI7PFxcL3NjcmlwdD4nKTthPVwiPGh0bWw+PGJvZHk+XCIrYStcIjwvYm9keT48L2h0bWw+XCI7dHJ5e3RoaXMuWC55YS5vcGVuKCksdGhpcy5YLnlhLndyaXRlKGEpLHRoaXMuWC55YS5jbG9zZSgpfWNhdGNoKGYpe04oXCJmcmFtZSB3cml0aW5nIGV4Y2VwdGlvblwiKSxmLnN0YWNrJiZOKGYuc3RhY2spLE4oZil9fVxuSWMucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5tYz1vO2lmKHRoaXMuWCl7dGhpcy5YLnlhLmJvZHkuaW5uZXJIVE1MPVwiXCI7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5YIT09bCYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYS5YKSxhLlg9bCl9LDApfXZhciBiPXRoaXMuaGE7YiYmKHRoaXMuaGE9bCxiKCkpfTtcbmZ1bmN0aW9uIEtjKGEpe2lmKGEubWMmJmEuZmMmJmEuSmMuY291bnQoKTwoMDxhLkJiLmxlbmd0aD8yOjEpKXthLnNjKys7dmFyIGI9e307Yi5pZD1hLkVkO2IucHc9YS5GZDtiLnNlcj1hLnNjO2Zvcih2YXIgYj1hLkxiKGIpLGM9XCJcIixkPTA7MDxhLkJiLmxlbmd0aDspaWYoMTg3MD49YS5CYlswXS4kYy5sZW5ndGgrMzArYy5sZW5ndGgpe3ZhciBlPWEuQmIuc2hpZnQoKSxjPWMrXCImc2VnXCIrZCtcIj1cIitlLk9kK1wiJnRzXCIrZCtcIj1cIitlLlRkK1wiJmRcIitkK1wiPVwiK2UuJGM7ZCsrfWVsc2UgYnJlYWs7dmFyIGI9YitjLGY9YS5zYzthLkpjLmFkZChmKTt2YXIgaD1mdW5jdGlvbigpe2EuSmMucmVtb3ZlKGYpO0tjKGEpfSxpPXNldFRpbWVvdXQoaCwyNUUzKTtKYyhhLGIsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaSk7aCgpfSk7cmV0dXJuIGt9cmV0dXJuIG99XG5mdW5jdGlvbiBKYyhhLGIsYyl7c2V0VGltZW91dChmdW5jdGlvbigpe3RyeXtpZihhLmZjKXt2YXIgZD1hLlgueWEuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtkLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjtkLmFzeW5jPWs7ZC5zcmM9YjtkLm9ubG9hZD1kLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3ZhciBhPWQucmVhZHlTdGF0ZTtpZighYXx8XCJsb2FkZWRcIj09PWF8fFwiY29tcGxldGVcIj09PWEpZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9bCxkLnBhcmVudE5vZGUmJmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSxjKCl9O2Qub25lcnJvcj1mdW5jdGlvbigpe04oXCJMb25nLXBvbGwgc2NyaXB0IGZhaWxlZCB0byBsb2FkOiBcIitiKTthLmZjPW87YS5jbG9zZSgpfTthLlgueWEuYm9keS5hcHBlbmRDaGlsZChkKX19Y2F0Y2goZSl7fX0sMSl9O2Z1bmN0aW9uIExjKCl7dmFyIGE9W107V2IoTWMsZnVuY3Rpb24oYixjKXtjJiZjLmlzQXZhaWxhYmxlKCkmJmEucHVzaChjKX0pO3RoaXMuaWM9YX12YXIgTWM9W0ZjLHtpc0F2YWlsYWJsZTpyKG8pfSx5Y107ZnVuY3Rpb24gTmMoYSxiLGMsZCxlLGYpe3RoaXMuaWQ9YTt0aGlzLmU9T2IoXCJjOlwiK3RoaXMuaWQrXCI6XCIpO3RoaXMuSGM9Yzt0aGlzLndiPWQ7dGhpcy5RPWU7dGhpcy5HYz1mO3RoaXMuTz1iO3RoaXMuWGI9W107dGhpcy5YYz0wO3RoaXMuVmM9bmV3IExjO3RoaXMudmE9MDt0aGlzLmUoXCJDb25uZWN0aW9uIGNyZWF0ZWRcIik7T2ModGhpcyl9ZnVuY3Rpb24gT2MoYSl7dmFyIGI7dmFyIGM9YS5WYzswPGMuaWMubGVuZ3RoP2I9Yy5pY1swXTpnKEVycm9yKFwiTm8gdHJhbnNwb3J0cyBhdmFpbGFibGVcIikpO2EuSz1uZXcgYihcImM6XCIrYS5pZCtcIjpcIithLlhjKyssYS5PKTt2YXIgZD1QYyhhLGEuSyksZT1RYyhhLGEuSyk7YS5KYj1hLks7YS5IYj1hLks7YS5BPWw7c2V0VGltZW91dChmdW5jdGlvbigpe2EuSyYmYS5LLm9wZW4oZCxlKX0sMCl9XG5mdW5jdGlvbiBRYyhhLGIpe3JldHVybiBmdW5jdGlvbihjKXtiPT09YS5LPyhhLks9bCwhYyYmMD09PWEudmE/KGEuZShcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZmFpbGVkLlwiKSxcInMtXCI9PT1hLk8uZmEuc3Vic3RyKDAsMikmJihvYi5yZW1vdmVJdGVtKGEuTy5zYiksYS5PLmZhPWEuTy5ob3N0KSk6MT09PWEudmEmJmEuZShcIlJlYWx0aW1lIGNvbm5lY3Rpb24gbG9zdC5cIiksYS5jbG9zZSgpKTpiPT09YS5BPyhjPWEuQSxhLkE9bCwoYS5KYj09PWN8fGEuSGI9PT1jKSYmYS5jbG9zZSgpKTphLmUoXCJjbG9zaW5nIGFuIG9sZCBjb25uZWN0aW9uXCIpfX1cbmZ1bmN0aW9uIFBjKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKDIhPWEudmEpaWYoYj09PWEuSGIpe3ZhciBkPVViKFwidFwiLGMpLGM9VWIoXCJkXCIsYyk7aWYoXCJjXCI9PWQpe2lmKGQ9VWIoXCJ0XCIsYyksXCJkXCJpbiBjKWlmKGM9Yy5kLFwiaFwiPT09ZCl7dmFyIGQ9Yy50cyxlPWMudixmPWMuaDthLmdjPWMucztyYihhLk8sZik7aWYoMD09YS52YSYmKGEuSy5zdGFydCgpLGM9YS5LLGEuZShcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpLGEuSz1jLGEudmE9MSxhLndiJiYoYS53YihkKSxhLndiPWwpLFwiNVwiIT09ZSYmUChcIlByb3RvY29sIHZlcnNpb24gbWlzbWF0Y2ggZGV0ZWN0ZWRcIiksYz0xPGEuVmMuaWMubGVuZ3RoP2EuVmMuaWNbMV06bCkpYS5BPW5ldyBjKFwiYzpcIithLmlkK1wiOlwiK2EuWGMrKyxhLk8sYS5nYyksYS5BLm9wZW4oUGMoYSxhLkEpLFFjKGEsYS5BKSl9ZWxzZSBpZihcIm5cIj09PWQpe2EuZShcInJlY3ZkIGVuZCB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKTthLkhiPVxuYS5BO2ZvcihjPTA7YzxhLlhiLmxlbmd0aDsrK2MpYS5VYihhLlhiW2NdKTthLlhiPVtdO1JjKGEpfWVsc2VcInNcIj09PWQ/KGEuZShcIkNvbm5lY3Rpb24gc2h1dGRvd24gY29tbWFuZCByZWNlaXZlZC4gU2h1dHRpbmcgZG93bi4uLlwiKSxhLkdjJiYoYS5HYyhjKSxhLkdjPWwpLGEuUT1sLGEuY2xvc2UoKSk6XCJyXCI9PT1kPyhhLmUoXCJSZXNldCBwYWNrZXQgcmVjZWl2ZWQuICBOZXcgaG9zdDogXCIrYykscmIoYS5PLGMpLDE9PT1hLnZhP2EuY2xvc2UoKTooU2MoYSksT2MoYSkpKTpcImVcIj09PWQ/UGIoXCJTZXJ2ZXIgRXJyb3I6IFwiK2MpOlBiKFwiVW5rbm93biBjb250cm9sIHBhY2tldCBjb21tYW5kOiBcIitkKX1lbHNlXCJkXCI9PWQmJmEuVWIoYyl9ZWxzZSBiPT09YS5BPyhkPVViKFwidFwiLGMpLGM9VWIoXCJkXCIsYyksXCJjXCI9PWQ/XCJ0XCJpbiBjJiYoYz1jLnQsXCJhXCI9PT1jPyhhLkEuc3RhcnQoKSxhLmUoXCJzZW5kaW5nIGNsaWVudCBhY2sgb24gc2Vjb25kYXJ5XCIpLGEuQS5zZW5kKHt0OlwiY1wiLGQ6e3Q6XCJhXCIsXG5kOnt9fX0pLGEuZShcIkVuZGluZyB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKSxhLksuc2VuZCh7dDpcImNcIixkOnt0OlwiblwiLGQ6e319fSksYS5KYj1hLkEsUmMoYSkpOlwiclwiPT09YyYmKGEuZShcIkdvdCBhIHJlc2V0IG9uIHNlY29uZGFyeSwgY2xvc2luZyBpdFwiKSxhLkEuY2xvc2UoKSwoYS5KYj09PWEuQXx8YS5IYj09PWEuQSkmJmEuY2xvc2UoKSkpOlwiZFwiPT1kP2EuWGIucHVzaChjKTpnKEVycm9yKFwiVW5rbm93biBwcm90b2NvbCBsYXllcjogXCIrZCkpKTphLmUoXCJtZXNzYWdlIG9uIG9sZCBjb25uZWN0aW9uXCIpfX1OYy5wcm90b3R5cGUuTmM9ZnVuY3Rpb24oYSl7YT17dDpcImRcIixkOmF9OzEhPT10aGlzLnZhJiZnKFwiQ29ubmVjdGlvbiBpcyBub3QgY29ubmVjdGVkXCIpO3RoaXMuSmIuc2VuZChhKX07XG5mdW5jdGlvbiBSYyhhKXthLkpiPT09YS5BJiZhLkhiPT09YS5BJiYoYS5lKFwiY2xlYW5pbmcgdXAgYW5kIHByb21vdGluZyBhIGNvbm5lY3Rpb246IFwiK2EuQS5yYyksYS5LPWEuQSxhLkE9bCl9TmMucHJvdG90eXBlLlViPWZ1bmN0aW9uKGEpe3RoaXMuSGMoYSl9O05jLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpezIhPT10aGlzLnZhJiYodGhpcy5lKFwiQ2xvc2luZyByZWFsdGltZSBjb25uZWN0aW9uLlwiKSx0aGlzLnZhPTIsU2ModGhpcyksdGhpcy5RJiYodGhpcy5RKCksdGhpcy5RPWwpKX07ZnVuY3Rpb24gU2MoYSl7YS5lKFwiU2h1dHRpbmcgZG93biBhbGwgY29ubmVjdGlvbnNcIik7YS5LJiYoYS5LLmNsb3NlKCksYS5LPWwpO2EuQSYmKGEuQS5jbG9zZSgpLGEuQT1sKX07ZnVuY3Rpb24gVGMoKXtrYy5jYWxsKHRoaXMsW1wib25saW5lXCJdKTt0aGlzLnhiPWs7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIpe3ZhciBhPXRoaXM7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIixmdW5jdGlvbigpe2EueGJ8fGEuV2MoXCJvbmxpbmVcIixrKTthLnhiPWt9LG8pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLGZ1bmN0aW9uKCl7YS54YiYmYS5XYyhcIm9ubGluZVwiLG8pO2EueGI9b30sbyl9fWthKFRjLGtjKTtkYShUYyk7VGMucHJvdG90eXBlLnhjPWZ1bmN0aW9uKGEpe3ooXCJvbmxpbmVcIj09PWEpO3JldHVyblt0aGlzLnhiXX07ZnVuY3Rpb24gVmMoYSxiLGMsZCxlLGYpe3RoaXMuaWQ9V2MrKzt0aGlzLmU9T2IoXCJwOlwiK3RoaXMuaWQrXCI6XCIpO3RoaXMuTWE9azt0aGlzLmdhPXt9O3RoaXMuVD1bXTt0aGlzLnliPTA7dGhpcy52Yj1bXTt0aGlzLlY9bzt0aGlzLnBhPTFFMzt0aGlzLlZiPWJ8fGNhO3RoaXMuVGI9Y3x8Y2E7dGhpcy51Yj1kfHxjYTt0aGlzLkljPWV8fGNhO3RoaXMuemM9Znx8Y2E7dGhpcy5PPWE7dGhpcy5NYz1sO3RoaXMuWmI9W107dGhpcy5GYj17fTt0aGlzLk5kPTA7dGhpcy5wYj10aGlzLkRjPWw7WGModGhpcywwKTtuYy55YygpLllhKFwidmlzaWJsZVwiLHRoaXMuSWQsdGhpcyk7LTE9PT1hLmhvc3QuaW5kZXhPZihcImZibG9jYWxcIikmJlRjLnljKCkuWWEoXCJvbmxpbmVcIix0aGlzLkhkLHRoaXMpfXZhciBXYz0wLFljPTA7dD1WYy5wcm90b3R5cGU7XG50LkRhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0rK3RoaXMuTmQsYT17cjpkLGE6YSxiOmJ9O3RoaXMuZSh5KGEpKTt0aGlzLlY/dGhpcy5iYS5OYyhhKTp0aGlzLlpiLnB1c2goYSk7YyYmKHRoaXMuRmJbZF09Yyl9O2Z1bmN0aW9uIFpjKGEsYixjLGQsZSl7YS5lKFwiTGlzdGVuIG9uIFwiK2IrXCIgZm9yIFwiK2MpO3ZhciBmPXtwOmJ9LGQ9amIoZCxmdW5jdGlvbihhKXtyZXR1cm4gSWEoYSl9KTtcInt9XCIhPT1jJiYoZi5xPWQpO2Q9KChuZXcgRGF0ZSkuZ2V0VGltZSgpLTEzNzk0OTEyRTUpLzQzMkU2O2Q9TWF0aC5taW4oMSxNYXRoLm1heCgwLGQpKTtNYXRoLnJhbmRvbSgpPGQmJihmLmg9YS56YyhiKSk7YS5EYShcImxcIixmLGZ1bmN0aW9uKGQpe2EuZShcImxpc3RlbiByZXNwb25zZVwiLGQpO2Q9ZC5zO1wib2tcIiE9PWQmJiRjKGEsYixjKTtlJiZlKGQpfSl9XG50LmhiPWZ1bmN0aW9uKGEsYixjKXt0aGlzLkdhPXt3ZDphLGFkOm8sVzpiLE5iOmN9O3RoaXMuZShcIkF1dGhlbnRpY2F0aW5nIHVzaW5nIGNyZWRlbnRpYWw6IFwiK3RoaXMuR2EpO2FkKHRoaXMpfTt0LktiPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuR2E7dGhpcy51YihvKTt0aGlzLlYmJnRoaXMuRGEoXCJ1bmF1dGhcIix7fSl9O2Z1bmN0aW9uIGFkKGEpe3ZhciBiPWEuR2E7YS5WJiZiJiZhLkRhKFwiYXV0aFwiLHtjcmVkOmIud2R9LGZ1bmN0aW9uKGMpe3ZhciBkPWMucyxjPWMuZHx8XCJlcnJvclwiO1wib2tcIiE9PWQmJmEuR2E9PT1iJiZkZWxldGUgYS5HYTthLnViKFwib2tcIj09PWQpO2IuYWQ/XCJva1wiIT09ZCYmYi5OYiYmYi5OYihkLGMpOihiLmFkPWssYi5XJiZiLlcoZCxjKSl9KX1cbmZ1bmN0aW9uIGJkKGEsYixjLGQpe2I9Yi50b1N0cmluZygpOyRjKGEsYixjKSYmYS5WJiYoYS5lKFwiVW5saXN0ZW4gb24gXCIrYitcIiBmb3IgXCIrYyksYj17cDpifSxkPWpiKGQsZnVuY3Rpb24oYSl7cmV0dXJuIElhKGEpfSksXCJ7fVwiIT09YyYmKGIucT1kKSxhLkRhKFwidVwiLGIpKX1mdW5jdGlvbiBjZChhLGIsYyxkKXthLlY/ZGQoYSxcIm9cIixiLGMsZCk6YS52Yi5wdXNoKHtLYzpiLGFjdGlvbjpcIm9cIixkYXRhOmMsQzpkfSl9dC5GYz1mdW5jdGlvbihhLGIpe3RoaXMuVj9kZCh0aGlzLFwib2NcIixhLGwsYik6dGhpcy52Yi5wdXNoKHtLYzphLGFjdGlvbjpcIm9jXCIsZGF0YTpsLEM6Yn0pfTtmdW5jdGlvbiBkZChhLGIsYyxkLGUpe2M9e3A6YyxkOmR9O2EuZShcIm9uRGlzY29ubmVjdCBcIitiLGMpO2EuRGEoYixjLGZ1bmN0aW9uKGEpe2UmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGEucyl9LDApfSl9dC5wdXQ9ZnVuY3Rpb24oYSxiLGMsZCl7ZWQodGhpcyxcInBcIixhLGIsYyxkKX07XG5mdW5jdGlvbiBlZChhLGIsYyxkLGUsZil7Yz17cDpjLGQ6ZH07dShmKSYmKGMuaD1mKTthLlQucHVzaCh7YWN0aW9uOmIsa2Q6YyxDOmV9KTthLnliKys7Yj1hLlQubGVuZ3RoLTE7YS5WJiZmZChhLGIpfWZ1bmN0aW9uIGZkKGEsYil7dmFyIGM9YS5UW2JdLmFjdGlvbixkPWEuVFtiXS5rZCxlPWEuVFtiXS5DO2EuVFtiXS5LZD1hLlY7YS5EYShjLGQsZnVuY3Rpb24oZCl7YS5lKGMrXCIgcmVzcG9uc2VcIixkKTtkZWxldGUgYS5UW2JdO2EueWItLTswPT09YS55YiYmKGEuVD1bXSk7ZSYmZShkLnMpfSl9XG50LlViPWZ1bmN0aW9uKGEpe2lmKFwiclwiaW4gYSl7dGhpcy5lKFwiZnJvbSBzZXJ2ZXI6IFwiK3koYSkpO3ZhciBiPWEucixjPXRoaXMuRmJbYl07YyYmKGRlbGV0ZSB0aGlzLkZiW2JdLGMoYS5iKSl9ZWxzZVwiZXJyb3JcImluIGEmJmcoXCJBIHNlcnZlci1zaWRlIGVycm9yIGhhcyBvY2N1cnJlZDogXCIrYS5lcnJvciksXCJhXCJpbiBhJiYoYj1hLmEsYT1hLmIsdGhpcy5lKFwiaGFuZGxlU2VydmVyTWVzc2FnZVwiLGIsYSksXCJkXCI9PT1iP3RoaXMuVmIoYS5wLGEuZCk6XCJtXCI9PT1iP3RoaXMuVmIoYS5wLGEuZCxrKTpcImNcIj09PWI/KGI9YS5wLGE9KGE9YS5xKT9qYihhLGZ1bmN0aW9uKGEpe3JldHVybiBKYShhKX0pLmpvaW4oXCIkXCIpOlwie31cIiwoYT0kYyh0aGlzLGIsYSkpJiZhLkMmJmEuQyhcInBlcm1pc3Npb25fZGVuaWVkXCIpKTpcImFjXCI9PT1iPyhiPWEucyxhPWEuZCxjPXRoaXMuR2EsZGVsZXRlIHRoaXMuR2EsYyYmYy5OYiYmYy5OYihiLGEpLHRoaXMudWIobykpOlwic2RcIj09PWI/dGhpcy5NYz90aGlzLk1jKGEpOlxuXCJtc2dcImluIGEmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSYmY29uc29sZS5sb2coXCJGSVJFQkFTRTogXCIrYS5tc2cucmVwbGFjZShcIlxcblwiLFwiXFxuRklSRUJBU0U6IFwiKSk6UGIoXCJVbnJlY29nbml6ZWQgYWN0aW9uIHJlY2VpdmVkIGZyb20gc2VydmVyOiBcIit5KGIpK1wiXFxuQXJlIHlvdSB1c2luZyB0aGUgbGF0ZXN0IGNsaWVudD9cIikpfTtcbnQud2I9ZnVuY3Rpb24oYSl7dGhpcy5lKFwiY29ubmVjdGlvbiByZWFkeVwiKTt0aGlzLlY9azt0aGlzLnBiPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3RoaXMuSWMoe3NlcnZlclRpbWVPZmZzZXQ6YS0obmV3IERhdGUpLmdldFRpbWUoKX0pO2ZvcihhPTA7YTx0aGlzLlpiLmxlbmd0aDthKyspdGhpcy5iYS5OYyh0aGlzLlpiW2FdKTt0aGlzLlpiPVtdO2FkKHRoaXMpO2Zvcih2YXIgYiBpbiB0aGlzLmdhKWZvcih2YXIgYyBpbiB0aGlzLmdhW2JdKWE9dGhpcy5nYVtiXVtjXSxaYyh0aGlzLGIsYyxhLiRhLGEuQyk7Zm9yKGI9MDtiPHRoaXMuVC5sZW5ndGg7YisrKXRoaXMuVFtiXSYmZmQodGhpcyxiKTtmb3IoO3RoaXMudmIubGVuZ3RoOyliPXRoaXMudmIuc2hpZnQoKSxkZCh0aGlzLGIuYWN0aW9uLGIuS2MsYi5kYXRhLGIuQyk7dGhpcy5UYihrKX07XG5mdW5jdGlvbiBYYyhhLGIpe3ooIWEuYmEsXCJTY2hlZHVsaW5nIGEgY29ubmVjdCB3aGVuIHdlJ3JlIGFscmVhZHkgY29ubmVjdGVkL2luZz9cIik7YS5TYSYmY2xlYXJUaW1lb3V0KGEuU2EpO2EuU2E9c2V0VGltZW91dChmdW5jdGlvbigpe2EuU2E9bDtpZihhLk1hKXthLmUoXCJNYWtpbmcgYSBjb25uZWN0aW9uIGF0dGVtcHRcIik7YS5EYz0obmV3IERhdGUpLmdldFRpbWUoKTthLnBiPWw7dmFyIGI9dyhhLlViLGEpLGQ9dyhhLndiLGEpLGU9dyhhLmZkLGEpLGY9YS5pZCtcIjpcIitZYysrO2EuYmE9bmV3IE5jKGYsYS5PLGIsZCxlLGZ1bmN0aW9uKGIpe2EuTWE9bztnKEVycm9yKGIpKX0pfX0sYil9dC5JZD1mdW5jdGlvbihhKXthJiYoIXRoaXMuZ2ImJjNFNT09PXRoaXMucGEpJiYodGhpcy5lKFwiV2luZG93IGJlY2FtZSB2aXNpYmxlLiAgUmVkdWNpbmcgZGVsYXkuXCIpLHRoaXMucGE9MUUzLHRoaXMuYmF8fFhjKHRoaXMsMCkpO3RoaXMuZ2I9YX07XG50LkhkPWZ1bmN0aW9uKGEpe2E/KHRoaXMuZShcIkJyb3dzZXIgd2VudCBvbmxpbmUuICBSZWNvbm5lY3RpbmcuXCIpLHRoaXMucGE9MUUzLHRoaXMuTWE9ayx0aGlzLmJhfHxYYyh0aGlzLDApKToodGhpcy5lKFwiQnJvd3NlciB3ZW50IG9mZmxpbmUuICBLaWxsaW5nIGNvbm5lY3Rpb247IGRvbid0IHJlY29ubmVjdC5cIiksdGhpcy5NYT1vLHRoaXMuYmEmJnRoaXMuYmEuY2xvc2UoKSl9O1xudC5mZD1mdW5jdGlvbigpe3RoaXMuZShcImRhdGEgY2xpZW50IGRpc2Nvbm5lY3RlZFwiKTt0aGlzLlY9bzt0aGlzLmJhPWw7Zm9yKHZhciBhPTA7YTx0aGlzLlQubGVuZ3RoO2ErKyl7dmFyIGI9dGhpcy5UW2FdO2ImJihcImhcImluIGIua2QmJmIuS2QpJiYoYi5DJiZiLkMoXCJkaXNjb25uZWN0XCIpLGRlbGV0ZSB0aGlzLlRbYV0sdGhpcy55Yi0tKX0wPT09dGhpcy55YiYmKHRoaXMuVD1bXSk7aWYodGhpcy5NYSl0aGlzLmdiP3RoaXMucGImJigzRTQ8KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5wYiYmKHRoaXMucGE9MUUzKSx0aGlzLnBiPWwpOih0aGlzLmUoXCJXaW5kb3cgaXNuJ3QgdmlzaWJsZS4gIERlbGF5aW5nIHJlY29ubmVjdC5cIiksdGhpcy5wYT0zRTUsdGhpcy5EYz0obmV3IERhdGUpLmdldFRpbWUoKSksYT1NYXRoLm1heCgwLHRoaXMucGEtKChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuRGMpKSxhKj1NYXRoLnJhbmRvbSgpLHRoaXMuZShcIlRyeWluZyB0byByZWNvbm5lY3QgaW4gXCIrXG5hK1wibXNcIiksWGModGhpcyxhKSx0aGlzLnBhPU1hdGgubWluKDNFNSwxLjMqdGhpcy5wYSk7ZWxzZSBmb3IodmFyIGMgaW4gdGhpcy5GYilkZWxldGUgdGhpcy5GYltjXTt0aGlzLlRiKG8pfTt0LlZhPWZ1bmN0aW9uKCl7dGhpcy5NYT1vO3RoaXMuYmE/dGhpcy5iYS5jbG9zZSgpOih0aGlzLlNhJiYoY2xlYXJUaW1lb3V0KHRoaXMuU2EpLHRoaXMuU2E9bCksdGhpcy5mZCgpKX07dC5HYj1mdW5jdGlvbigpe3RoaXMuTWE9azt0aGlzLnBhPTFFMztYYyh0aGlzLDApfTtmdW5jdGlvbiAkYyhhLGIsYyl7Yj0obmV3IEsoYikpLnRvU3RyaW5nKCk7Y3x8KGM9XCJ7fVwiKTt2YXIgZD1hLmdhW2JdW2NdO2RlbGV0ZSBhLmdhW2JdW2NdO3JldHVybiBkfTtmdW5jdGlvbiBnZCgpe3RoaXMubz10aGlzLkQ9bH1mdW5jdGlvbiBoZChhLGIsYyl7aWYoYi5mKCkpYS5EPWMsYS5vPWw7ZWxzZSBpZihhLkQhPT1sKWEuRD1hLkQueGEoYixjKTtlbHNle2Eubz09bCYmKGEubz1uZXcgQ2MpO3ZhciBkPUYoYik7YS5vLmNvbnRhaW5zKGQpfHxhLm8uYWRkKGQsbmV3IGdkKTthPWEuby5nZXQoZCk7Yj1LYShiKTtoZChhLGIsYyl9fWZ1bmN0aW9uIGlkKGEsYil7aWYoYi5mKCkpcmV0dXJuIGEuRD1sLGEubz1sLGs7aWYoYS5EIT09bCl7aWYoYS5ELk0oKSlyZXR1cm4gbzt2YXIgYz1hLkQ7YS5EPWw7Yy53KGZ1bmN0aW9uKGIsYyl7aGQoYSxuZXcgSyhiKSxjKX0pO3JldHVybiBpZChhLGIpfXJldHVybiBhLm8hPT1sPyhjPUYoYiksYj1LYShiKSxhLm8uY29udGFpbnMoYykmJmlkKGEuby5nZXQoYyksYikmJmEuby5yZW1vdmUoYyksYS5vLmYoKT8oYS5vPWwsayk6byk6a31cbmZ1bmN0aW9uIGpkKGEsYixjKXthLkQhPT1sP2MoYixhLkQpOmEudyhmdW5jdGlvbihhLGUpe3ZhciBmPW5ldyBLKGIudG9TdHJpbmcoKStcIi9cIithKTtqZChlLGYsYyl9KX1nZC5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLm8hPT1sJiZVKHRoaXMubyxmdW5jdGlvbihiLGMpe2EoYixjKX0pfTtmdW5jdGlvbiBrZCgpe3RoaXMucWE9UX1mdW5jdGlvbiBWKGEsYil7cmV0dXJuIGEucWEuUChiKX1mdW5jdGlvbiBXKGEsYixjKXthLnFhPWEucWEueGEoYixjKX1rZC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xYS50b1N0cmluZygpfTtmdW5jdGlvbiBsZCgpe3RoaXMucmE9bmV3IGtkO3RoaXMuST1uZXcga2Q7dGhpcy5sYT1uZXcga2Q7dGhpcy5BYj1uZXcgTmF9ZnVuY3Rpb24gbWQoYSxiKXtmb3IodmFyIGM9VihhLnJhLGIpLGQ9VihhLkksYiksZT1MKGEuQWIsYiksZj1vLGg9ZTtoIT09bDspe2lmKGguaygpIT09bCl7Zj1rO2JyZWFrfWg9aC5wYXJlbnQoKX1pZihmKXJldHVybiBvO2M9bmQoYyxkLGUpO3JldHVybiBjIT09ZD8oVyhhLkksYixjKSxrKTpvfWZ1bmN0aW9uIG5kKGEsYixjKXtpZihjLmYoKSlyZXR1cm4gYTtpZihjLmsoKSE9PWwpcmV0dXJuIGI7YT1hfHxRO2MudyhmdW5jdGlvbihkKXt2YXIgZD1kLm5hbWUoKSxlPWEuTChkKSxmPWIuTChkKSxoPUwoYyxkKSxlPW5kKGUsZixoKTthPWEuRyhkLGUpfSk7cmV0dXJuIGF9XG5sZC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPVtdO2liKGIsZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXRoLGE9YS5vYSxoPUhiKCk7TShMKGMuQWIsYiksaCk7VyhjLkksYixhKTtkLnB1c2goe3BhdGg6YixQZDpofSl9KTtyZXR1cm4gZH07ZnVuY3Rpb24gb2QoYSxiKXtpYihiLGZ1bmN0aW9uKGIpe3ZhciBkPWIuUGQsYj1MKGEuQWIsYi5wYXRoKSxlPWIuaygpO3ooZSE9PWwsXCJwZW5kaW5nUHV0IHNob3VsZCBub3QgYmUgbnVsbC5cIik7ZT09PWQmJk0oYixsKX0pfTtmdW5jdGlvbiBwZCgpe3RoaXMuVGE9W119ZnVuY3Rpb24gcWQoYSxiKXtpZigwIT09Yi5sZW5ndGgpZm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspYS5UYS5wdXNoKGJbY10pfXBkLnByb3RvdHlwZS5EYj1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5UYS5sZW5ndGg7YSsrKWlmKHRoaXMuVGFbYV0pe3ZhciBiPXRoaXMuVGFbYV07dGhpcy5UYVthXT1sO3JkKGIpfXRoaXMuVGE9W119O2Z1bmN0aW9uIHJkKGEpe3ZhciBiPWEuVyxjPWEubmQsZD1hLkNiOyRiKGZ1bmN0aW9uKCl7YihjLGQpfSl9O2Z1bmN0aW9uIFgoYSxiLGMsZCl7dGhpcy50eXBlPWE7dGhpcy5zYT1iO3RoaXMuYWE9Yzt0aGlzLkNiPWR9O2Z1bmN0aW9uIHNkKGEpe3RoaXMuSj1hO3RoaXMubWE9W107dGhpcy51Yz1uZXcgcGR9ZnVuY3Rpb24gdGQoYSxiLGMsZCxlKXthLm1hLnB1c2goe3R5cGU6YixXOmMsY2FuY2VsOmQsUzplfSk7dmFyIGQ9W10sZj11ZChhLmkpO2EubmImJmYucHVzaChuZXcgWChcInZhbHVlXCIsYS5pKSk7Zm9yKHZhciBoPTA7aDxmLmxlbmd0aDtoKyspaWYoZltoXS50eXBlPT09Yil7dmFyIGk9bmV3IEooYS5KLm4sYS5KLnBhdGgpO2ZbaF0uYWEmJihpPWkuRihmW2hdLmFhKSk7ZC5wdXNoKHtXOmU/dyhjLGUpOmMsbmQ6bmV3IFQoZltoXS5zYSxpKSxDYjpmW2hdLkNifSl9cWQoYS51YyxkKX1zZC5wcm90b3R5cGUuJGI9ZnVuY3Rpb24oYSxiKXtiPXRoaXMuYWMoYSxiKTtiIT1sJiZ2ZCh0aGlzLGIpfTtcbmZ1bmN0aW9uIHZkKGEsYil7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXSxmPWUudHlwZSxoPW5ldyBKKGEuSi5uLGEuSi5wYXRoKTtiW2RdLmFhJiYoaD1oLkYoYltkXS5hYSkpO2g9bmV3IFQoYltkXS5zYSxoKTtcInZhbHVlXCI9PT1lLnR5cGUmJiFoLmxiKCk/Zis9XCIoXCIraC5VKCkrXCIpXCI6XCJ2YWx1ZVwiIT09ZS50eXBlJiYoZis9XCIgXCIraC5uYW1lKCkpO04oYS5KLm4udS5pZCtcIjogZXZlbnQ6XCIrYS5KLnBhdGgrXCI6XCIrYS5KLkthKCkrXCI6XCIrZik7Zm9yKGY9MDtmPGEubWEubGVuZ3RoO2YrKyl7dmFyIGk9YS5tYVtmXTtiW2RdLnR5cGU9PT1pLnR5cGUmJmMucHVzaCh7VzppLlM/dyhpLlcsaS5TKTppLlcsbmQ6aCxDYjplLkNifSl9fXFkKGEudWMsYyl9c2QucHJvdG90eXBlLkRiPWZ1bmN0aW9uKCl7dGhpcy51Yy5EYigpfTtcbmZ1bmN0aW9uIHVkKGEpe3ZhciBiPVtdO2lmKCFhLk0oKSl7dmFyIGM9bDthLncoZnVuY3Rpb24oYSxlKXtiLnB1c2gobmV3IFgoXCJjaGlsZF9hZGRlZFwiLGUsYSxjKSk7Yz1hfSl9cmV0dXJuIGJ9ZnVuY3Rpb24gd2QoYSl7YS5uYnx8KGEubmI9ayx2ZChhLFtuZXcgWChcInZhbHVlXCIsYS5pKV0pKX07ZnVuY3Rpb24geGQoYSxiKXtzZC5jYWxsKHRoaXMsYSk7dGhpcy5pPWJ9a2EoeGQsc2QpO3hkLnByb3RvdHlwZS5hYz1mdW5jdGlvbihhLGIpe3RoaXMuaT1hO3RoaXMubmImJmIhPWwmJmIucHVzaChuZXcgWChcInZhbHVlXCIsdGhpcy5pKSk7cmV0dXJuIGJ9O3hkLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybnt9fTtmdW5jdGlvbiB6ZChhLGIpe3RoaXMuT2I9YTt0aGlzLkVjPWJ9XG5mdW5jdGlvbiBBZChhLGIsYyxkLGUpe3ZhciBmPWEuUChjKSxoPWIuUChjKSxkPW5ldyB6ZChkLGUpLGU9QmQoZCxjLGYsaCksaD0hZi5mKCkmJiFoLmYoKSYmZi5qKCkhPT1oLmooKTtpZihlfHxoKXtmPWM7Zm9yKGM9ZTtmLnBhcmVudCgpIT09bDspe3ZhciBpPWEuUChmKSxlPWIuUChmKSxtPWYucGFyZW50KCk7aWYoIWQuT2J8fEwoZC5PYixtKS5rKCkpe3ZhciBuPWIuUChtKSxwPVtdLGY9Zi5aPGYubS5sZW5ndGg/Zi5tW2YubS5sZW5ndGgtMV06bDtpLmYoKT8oaT1uLmVhKGYsZSkscC5wdXNoKG5ldyBYKFwiY2hpbGRfYWRkZWRcIixlLGYsaSkpKTplLmYoKT9wLnB1c2gobmV3IFgoXCJjaGlsZF9yZW1vdmVkXCIsaSxmKSk6KGk9bi5lYShmLGUpLGgmJnAucHVzaChuZXcgWChcImNoaWxkX21vdmVkXCIsZSxmLGkpKSxjJiZwLnB1c2gobmV3IFgoXCJjaGlsZF9jaGFuZ2VkXCIsZSxmLGkpKSk7ZC5FYyhtLG4scCl9aCYmKGg9byxjPWspO2Y9bX19fVxuZnVuY3Rpb24gQmQoYSxiLGMsZCl7dmFyIGUsZj1bXTtjPT09ZD9lPW86Yy5NKCkmJmQuTSgpP2U9Yy5rKCkhPT1kLmsoKTpjLk0oKT8oQ2QoYSxiLFEsZCxmKSxlPWspOmQuTSgpPyhDZChhLGIsYyxRLGYpLGU9ayk6ZT1DZChhLGIsYyxkLGYpO2U/YS5FYyhiLGQsZik6Yy5qKCkhPT1kLmooKSYmYS5FYyhiLGQsbCk7cmV0dXJuIGV9XG5mdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPW8saD0hYS5PYnx8IUwoYS5PYixiKS5mKCksaT1bXSxtPVtdLG49W10scD1bXSxxPXt9LHM9e30seCxPLEksRzt4PWMuVWEoKTtJPVdhKHgpO089ZC5VYSgpO2ZvcihHPVdhKE8pO0khPT1sfHxHIT09bDspe2M9ST09PWw/MTpHPT09bD8tMTpJLmtleT09PUcua2V5PzA6Y2Moe25hbWU6SS5rZXksaWE6SS52YWx1ZS5qKCl9LHtuYW1lOkcua2V5LGlhOkcudmFsdWUuaigpfSk7aWYoMD5jKWY9dWEocSxJLmtleSksdShmKT8obi5wdXNoKHt3YzpJLFNjOmlbZl19KSxpW2ZdPWwpOihzW0kua2V5XT1tLmxlbmd0aCxtLnB1c2goSSkpLGY9ayxJPVdhKHgpO2Vsc2V7aWYoMDxjKWY9dWEocyxHLmtleSksdShmKT8obi5wdXNoKHt3YzptW2ZdLFNjOkd9KSxtW2ZdPWwpOihxW0cua2V5XT1pLmxlbmd0aCxpLnB1c2goRykpLGY9aztlbHNle2M9Yi5GKEcua2V5KTtpZihjPUJkKGEsYyxJLnZhbHVlLEcudmFsdWUpKXAucHVzaChHKSxmPWs7SS52YWx1ZS5qKCkhPT1cbkcudmFsdWUuaigpJiYobi5wdXNoKHt3YzpJLFNjOkd9KSxmPWspO0k9V2EoeCl9Rz1XYShPKX1pZighaCYmZilyZXR1cm4ga31mb3IoaD0wO2g8bS5sZW5ndGg7aCsrKWlmKHE9bVtoXSljPWIuRihxLmtleSksQmQoYSxjLHEudmFsdWUsUSksZS5wdXNoKG5ldyBYKFwiY2hpbGRfcmVtb3ZlZFwiLHEudmFsdWUscS5rZXkpKTtmb3IoaD0wO2g8aS5sZW5ndGg7aCsrKWlmKHE9aVtoXSljPWIuRihxLmtleSksbT1kLmVhKHEua2V5LHEudmFsdWUpLEJkKGEsYyxRLHEudmFsdWUpLGUucHVzaChuZXcgWChcImNoaWxkX2FkZGVkXCIscS52YWx1ZSxxLmtleSxtKSk7Zm9yKGg9MDtoPG4ubGVuZ3RoO2grKylxPW5baF0ud2MsaT1uW2hdLlNjLGM9Yi5GKGkua2V5KSxtPWQuZWEoaS5rZXksaS52YWx1ZSksZS5wdXNoKG5ldyBYKFwiY2hpbGRfbW92ZWRcIixpLnZhbHVlLGkua2V5LG0pKSwoYz1CZChhLGMscS52YWx1ZSxpLnZhbHVlKSkmJnAucHVzaChpKTtmb3IoaD0wO2g8cC5sZW5ndGg7aCsrKWE9cFtoXSxcbm09ZC5lYShhLmtleSxhLnZhbHVlKSxlLnB1c2gobmV3IFgoXCJjaGlsZF9jaGFuZ2VkXCIsYS52YWx1ZSxhLmtleSxtKSk7cmV0dXJuIGZ9O2Z1bmN0aW9uIERkKCl7dGhpcy5SPXRoaXMud2E9bDt0aGlzLnNldD17fX1rYShEZCxDYyk7dD1EZC5wcm90b3R5cGU7dC5zZXRBY3RpdmU9ZnVuY3Rpb24oYSl7dGhpcy53YT1hfTtmdW5jdGlvbiBFZChhKXtyZXR1cm4gYS5jb250YWlucyhcImRlZmF1bHRcIil9ZnVuY3Rpb24gRmQoYSl7cmV0dXJuIGEud2EhPWwmJkVkKGEpfXQuZGVmYXVsdFZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gRWQodGhpcyk/dGhpcy5nZXQoXCJkZWZhdWx0XCIpOmx9O3QucGF0aD1hYShcIlJcIik7dC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBqYih0aGlzLmtleXMoKSxmdW5jdGlvbihhKXtyZXR1cm5cImRlZmF1bHRcIj09PWE/XCJ7fVwiOmF9KS5qb2luKFwiJFwiKX07dC4kYT1mdW5jdGlvbigpe3ZhciBhPVtdO1UodGhpcyxmdW5jdGlvbihiLGMpe2EucHVzaChjLkopfSk7cmV0dXJuIGF9O2Z1bmN0aW9uIEdkKGEsYil7c2QuY2FsbCh0aGlzLGEpO3RoaXMuaT1RO3RoaXMuYWMoYix1ZChiKSl9a2EoR2Qsc2QpO1xuR2QucHJvdG90eXBlLmFjPWZ1bmN0aW9uKGEsYil7aWYoYj09PWwpcmV0dXJuIGI7dmFyIGM9W10sZD10aGlzLko7dShkLmRhKSYmKHUoZC51YSkmJmQudWEhPWw/Yy5wdXNoKGZ1bmN0aW9uKGEsYil7dmFyIGM9UmIoYixkLmRhKTtyZXR1cm4gMDxjfHwwPT09YyYmMDw9U2IoYSxkLnVhKX0pOmMucHVzaChmdW5jdGlvbihhLGIpe3JldHVybiAwPD1SYihiLGQuZGEpfSkpO3UoZC56YSkmJih1KGQuUmEpP2MucHVzaChmdW5jdGlvbihhLGIpe3ZhciBjPVJiKGIsZC56YSk7cmV0dXJuIDA+Y3x8MD09PWMmJjA+PVNiKGEsZC5SYSl9KTpjLnB1c2goZnVuY3Rpb24oYSxiKXtyZXR1cm4gMD49UmIoYixkLnphKX0pKTt2YXIgZT1sLGY9bDtpZih1KHRoaXMuSi5CYSkpaWYodSh0aGlzLkouZGEpKXtpZihlPUhkKGEsYyx0aGlzLkouQmEsbykpe3ZhciBoPWEuTChlKS5qKCk7Yy5wdXNoKGZ1bmN0aW9uKGEsYil7dmFyIGM9UmIoYixoKTtyZXR1cm4gMD5jfHwwPT09YyYmMD49U2IoYSxlKX0pfX1lbHNlIGlmKGY9XG5IZChhLGMsdGhpcy5KLkJhLGspKXt2YXIgaT1hLkwoZikuaigpO2MucHVzaChmdW5jdGlvbihhLGIpe3ZhciBjPVJiKGIsaSk7cmV0dXJuIDA8Y3x8MD09PWMmJjA8PVNiKGEsZil9KX1mb3IodmFyIG09W10sbj1bXSxwPVtdLHE9W10scz0wO3M8Yi5sZW5ndGg7cysrKXt2YXIgeD1iW3NdLmFhLE89YltzXS5zYTtzd2l0Y2goYltzXS50eXBlKXtjYXNlIFwiY2hpbGRfYWRkZWRcIjpJZChjLHgsTykmJih0aGlzLmk9dGhpcy5pLkcoeCxPKSxuLnB1c2goYltzXSkpO2JyZWFrO2Nhc2UgXCJjaGlsZF9yZW1vdmVkXCI6dGhpcy5pLkwoeCkuZigpfHwodGhpcy5pPXRoaXMuaS5HKHgsbCksbS5wdXNoKGJbc10pKTticmVhaztjYXNlIFwiY2hpbGRfY2hhbmdlZFwiOiF0aGlzLmkuTCh4KS5mKCkmJklkKGMseCxPKSYmKHRoaXMuaT10aGlzLmkuRyh4LE8pLHEucHVzaChiW3NdKSk7YnJlYWs7Y2FzZSBcImNoaWxkX21vdmVkXCI6dmFyIEk9IXRoaXMuaS5MKHgpLmYoKSxHPUlkKGMseCxPKTtJP0c/KHRoaXMuaT1cbnRoaXMuaS5HKHgsTykscC5wdXNoKGJbc10pKToobS5wdXNoKG5ldyBYKFwiY2hpbGRfcmVtb3ZlZFwiLHRoaXMuaS5MKHgpLHgpKSx0aGlzLmk9dGhpcy5pLkcoeCxsKSk6RyYmKHRoaXMuaT10aGlzLmkuRyh4LE8pLG4ucHVzaChiW3NdKSl9fXZhciBVYz1lfHxmO2lmKFVjKXt2YXIgeWQ9KHM9ZiE9PWwpP3RoaXMuaS5iZCgpOnRoaXMuaS5jZCgpLGxjPW8sYWI9byxiYj10aGlzOyhzP2EudmM6YS53KS5jYWxsKGEsZnVuY3Rpb24oYSxiKXshYWImJnlkPT09bCYmKGFiPWspO2lmKGFiJiZsYylyZXR1cm4gaztsYz8obS5wdXNoKG5ldyBYKFwiY2hpbGRfcmVtb3ZlZFwiLGJiLmkuTChhKSxhKSksYmIuaT1iYi5pLkcoYSxsKSk6YWImJihuLnB1c2gobmV3IFgoXCJjaGlsZF9hZGRlZFwiLGIsYSkpLGJiLmk9YmIuaS5HKGEsYikpO3lkPT09YSYmKGFiPWspO2E9PT1VYyYmKGxjPWspfSl9Zm9yKHM9MDtzPG4ubGVuZ3RoO3MrKyljPW5bc10seD10aGlzLmkuZWEoYy5hYSxjLnNhKSxtLnB1c2gobmV3IFgoXCJjaGlsZF9hZGRlZFwiLFxuYy5zYSxjLmFhLHgpKTtmb3Iocz0wO3M8cC5sZW5ndGg7cysrKWM9cFtzXSx4PXRoaXMuaS5lYShjLmFhLGMuc2EpLG0ucHVzaChuZXcgWChcImNoaWxkX21vdmVkXCIsYy5zYSxjLmFhLHgpKTtmb3Iocz0wO3M8cS5sZW5ndGg7cysrKWM9cVtzXSx4PXRoaXMuaS5lYShjLmFhLGMuc2EpLG0ucHVzaChuZXcgWChcImNoaWxkX2NoYW5nZWRcIixjLnNhLGMuYWEseCkpO3RoaXMubmImJjA8bS5sZW5ndGgmJm0ucHVzaChuZXcgWChcInZhbHVlXCIsdGhpcy5pKSk7cmV0dXJuIG19O2Z1bmN0aW9uIEhkKGEsYixjLGQpe2lmKGEuTSgpKXJldHVybiBsO3ZhciBlPWw7KGQ/YS52YzphLncpLmNhbGwoYSxmdW5jdGlvbihhLGQpe2lmKElkKGIsYSxkKSYmKGU9YSxjLS0sMD09PWMpKXJldHVybiBrfSk7cmV0dXJuIGV9ZnVuY3Rpb24gSWQoYSxiLGMpe2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKCFhW2RdKGIsYy5qKCkpKXJldHVybiBvO3JldHVybiBrfVxuR2QucHJvdG90eXBlLkFjPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmkuTChhKSE9PVF9O0dkLnByb3RvdHlwZS5rYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9e307dGhpcy5pLk0oKXx8dGhpcy5pLncoZnVuY3Rpb24oYSl7ZFthXT0zfSk7dmFyIGU9dGhpcy5pLGM9VihjLG5ldyBLKFwiXCIpKSxmPW5ldyBOYTtNKEwoZix0aGlzLkoucGF0aCksayk7dmFyIGI9US54YShhLGIpLGg9dGhpcztBZChjLGIsYSxmLGZ1bmN0aW9uKGEsYixjKXtjIT09bCYmYS50b1N0cmluZygpPT09aC5KLnBhdGgudG9TdHJpbmcoKSYmaC5hYyhiLGMpfSk7dGhpcy5pLk0oKT9YYihkLGZ1bmN0aW9uKGEsYil7ZFtiXT0yfSk6KHRoaXMuaS53KGZ1bmN0aW9uKGEpe0QoZCxhKXx8KGRbYV09MSl9KSxYYihkLGZ1bmN0aW9uKGEsYil7aC5pLkwoYikuZigpJiYoZFtiXT0yKX0pKTt0aGlzLmk9ZTtyZXR1cm4gZH07ZnVuY3Rpb24gSmQoYSxiKXt0aGlzLnU9YTt0aGlzLmc9Yjt0aGlzLlNiPWIucWE7dGhpcy5rYT1uZXcgTmF9XG5KZC5wcm90b3R5cGUuTWI9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLnBhdGgsaD1MKHRoaXMua2EsZiksaT1oLmsoKTtpPT09bD8oaT1uZXcgRGQsTShoLGkpKTp6KCFpLmYoKSxcIldlIHNob3VsZG4ndCBiZSBzdG9yaW5nIGVtcHR5IFF1ZXJ5TWFwc1wiKTt2YXIgbT1hLkthKCk7aWYoaS5jb250YWlucyhtKSlhPWkuZ2V0KG0pLHRkKGEsYixjLGQsZSk7ZWxzZXt2YXIgbj10aGlzLmcucWEuUChmKSxuPWE9XCJkZWZhdWx0XCI9PT1hLkthKCk/bmV3IHhkKGEsbik6bmV3IEdkKGEsbik7aWYoRmQoaSl8fEtkKGgpKWkuYWRkKG0sbiksaS5SfHwoaS5SPW4uSi5wYXRoKTtlbHNle3ZhciBwLHE7aS5mKCl8fChwPWkudG9TdHJpbmcoKSxxPWkuJGEoKSk7aS5hZGQobSxuKTtpLlJ8fChpLlI9bi5KLnBhdGgpO2kuc2V0QWN0aXZlKExkKHRoaXMsaSkpO3AmJnEmJmJkKHRoaXMudSxpLnBhdGgoKSxwLHEpfUZkKGkpJiZQYShoLGZ1bmN0aW9uKGEpe2lmKGE9YS5rKCkpe2Eud2EmJmEud2EoKTtcbmEud2E9bH19KTt0ZChhLGIsYyxkLGUpOyhiPShiPVFhKEwodGhpcy5rYSxmKSxmdW5jdGlvbihhKXt2YXIgYjtpZihiPWEuaygpKWlmKGI9YS5rKCkuZGVmYXVsdFZpZXcoKSliPWEuaygpLmRlZmF1bHRWaWV3KCkubmI7aWYoYilyZXR1cm4ga30saykpfHx0aGlzLnU9PT1sJiYhVih0aGlzLmcsZikuZigpKSYmd2QoYSl9YS5EYigpfTtmdW5jdGlvbiBNZChhLGIsYyxkLGUpe3ZhciBmPWEuZ2V0KGIpLGg7aWYoaD1mKXtoPW87Zm9yKHZhciBpPWYubWEubGVuZ3RoLTE7MDw9aTtpLS0pe3ZhciBtPWYubWFbaV07aWYoKCFjfHxtLnR5cGU9PT1jKSYmKCFkfHxtLlc9PT1kKSYmKCFlfHxtLlM9PT1lKSlpZihmLm1hLnNwbGljZShpLDEpLGg9ayxjJiZkKWJyZWFrfWg9aCYmISgwPGYubWEubGVuZ3RoKX0oYz1oKSYmYS5yZW1vdmUoYik7cmV0dXJuIGN9XG5KZC5wcm90b3R5cGUuY2M9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9TCh0aGlzLmthLGEucGF0aCkuaygpO3JldHVybiBlPT09bD9sOk5kKHRoaXMsZSxhLGIsYyxkKX07XG5mdW5jdGlvbiBOZChhLGIsYyxkLGUsZil7dmFyIGg9Yi5wYXRoKCksaD1MKGEua2EsaCksYz1jP2MuS2EoKTpsLGk9W107YyYmXCJkZWZhdWx0XCIhPT1jP01kKGIsYyxkLGUsZikmJmkucHVzaChjKTppYihiLmtleXMoKSxmdW5jdGlvbihhKXtNZChiLGEsZCxlLGYpJiZpLnB1c2goYSl9KTtiLmYoKSYmTShoLGwpO2M9S2QoaCk7aWYoMDxpLmxlbmd0aCYmIWMpe2Zvcih2YXIgbT1oLG49aC5wYXJlbnQoKSxjPW87IWMmJm47KXt2YXIgcD1uLmsoKTtpZihwKXt6KCFGZChwKSk7dmFyIHE9bS5uYW1lKCkscz1vO1UocCxmdW5jdGlvbihhLGIpe3M9Yi5BYyhxKXx8c30pO3MmJihjPWspfW09bjtuPW4ucGFyZW50KCl9bT1sO2lmKCFGZChiKSl7bj1iLndhO2Iud2E9bDt2YXIgeD1bXSxPPWZ1bmN0aW9uKGIpe3ZhciBjPWIuaygpO2lmKGMmJkVkKGMpKXgucHVzaChjLnBhdGgoKSksYy53YT09bCYmYy5zZXRBY3RpdmUoTGQoYSxjKSk7ZWxzZXtpZihjKXtjLndhIT1sfHxjLnNldEFjdGl2ZShMZChhLFxuYykpO3ZhciBkPXt9O1UoYyxmdW5jdGlvbihhLGIpe2IuaS53KGZ1bmN0aW9uKGEpe0QoZCxhKXx8KGRbYV09ayxhPWMucGF0aCgpLkYoYSkseC5wdXNoKGEpKX0pfSl9Yi53KE8pfX07TyhoKTttPXg7biYmbigpfXJldHVybiBjP2w6bX1yZXR1cm4gbH1mdW5jdGlvbiBPZChhLGIsYyl7UGEoTChhLmthLGIpLGZ1bmN0aW9uKGEpeyhhPWEuaygpKSYmVShhLGZ1bmN0aW9uKGEsYil7d2QoYil9KX0sYyxrKX1mdW5jdGlvbiBZKGEsYixjKXtmdW5jdGlvbiBkKGEpe2Zvcih2YXIgYj0wO2I8Yy5sZW5ndGg7KytiKWlmKGNbYl0uY29udGFpbnMoYSkpcmV0dXJuIGs7cmV0dXJuIG99dmFyIGU9YS5TYixmPWEuZy5xYTthLlNiPWY7QWQoZSxmLGIsYS5rYSxmdW5jdGlvbihjLGUsZil7aWYoYi5jb250YWlucyhjKSl7dmFyIG49ZChjKTtuJiZPZChhLGMsbyk7YS4kYihjLGUsZik7biYmT2QoYSxjLGspfWVsc2UgYS4kYihjLGUsZil9KTtkKGIpJiZPZChhLGIsayk7UGQoYSxiKX1cbmZ1bmN0aW9uIFBkKGEsYil7dmFyIGM9TChhLmthLGIpO1BhKGMsZnVuY3Rpb24oYSl7KGE9YS5rKCkpJiZVKGEsZnVuY3Rpb24oYSxiKXtiLkRiKCl9KX0sayxrKTtRYShjLGZ1bmN0aW9uKGEpeyhhPWEuaygpKSYmVShhLGZ1bmN0aW9uKGEsYil7Yi5EYigpfSl9LG8pfUpkLnByb3RvdHlwZS4kYj1mdW5jdGlvbihhLGIsYyl7YT1MKHRoaXMua2EsYSkuaygpO2EhPT1sJiZVKGEsZnVuY3Rpb24oYSxlKXtlLiRiKGIsYyl9KX07ZnVuY3Rpb24gS2QoYSl7cmV0dXJuIFFhKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEuaygpJiZGZChhLmsoKSl9KX1cbmZ1bmN0aW9uIExkKGEsYil7aWYoYS51KXt2YXIgYz1hLnUsZD1iLnBhdGgoKSxlPWIudG9TdHJpbmcoKSxmPWIuJGEoKSxoLGk9Yi5rZXlzKCksbT1FZChiKSxuPWEudSxwPWZ1bmN0aW9uKGMpe2lmKFwib2tcIiE9PWMpe3ZhciBkPVwiVW5rbm93biBFcnJvclwiO1widG9vX2JpZ1wiPT09Yz9kPVwiVGhlIGRhdGEgcmVxdWVzdGVkIGV4Y2VlZHMgdGhlIG1heGltdW0gc2l6ZSB0aGF0IGNhbiBiZSBhY2Nlc3NlZCB3aXRoIGEgc2luZ2xlIHJlcXVlc3QuXCI6XCJwZXJtaXNzaW9uX2RlbmllZFwiPT1jJiYoZD1cIkNsaWVudCBkb2Vzbid0IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhlIGRlc2lyZWQgZGF0YS5cIik7dmFyIGU9RXJyb3IoYytcIjogXCIrZCk7ZS5jb2RlPWMudG9VcHBlckNhc2UoKTtQKFwib24oKSBvciBvbmNlKCkgZm9yIFwiK2IucGF0aCgpLnRvU3RyaW5nKCkrXCIgZmFpbGVkOiBcIitlLnRvU3RyaW5nKCkpO2ImJihVKGIsZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPGIubWEubGVuZ3RoO2MrKyl7dmFyIGQ9XG5iLm1hW2NdO2QuY2FuY2VsJiYoZC5TP3coZC5jYW5jZWwsZC5TKTpkLmNhbmNlbCkoZSl9fSksTmQoYSxiKSl9ZWxzZSBofHwobT9PZChhLGIucGF0aCgpLGspOmliKGksZnVuY3Rpb24oYSl7KGE9Yi5nZXQoYSkpJiZ3ZChhKX0pLFBkKGEsYi5wYXRoKCkpKX0scT1iLnRvU3RyaW5nKCkscz1iLnBhdGgoKS50b1N0cmluZygpO24uZ2Fbc109bi5nYVtzXXx8e307eighbi5nYVtzXVtxXSxcImxpc3RlbigpIGNhbGxlZCB0d2ljZSBmb3Igc2FtZSBwYXRoL3F1ZXJ5SWQuXCIpO24uZ2Fbc11bcV09eyRhOmIuJGEoKSxDOnB9O24uViYmWmMobixzLHEsYi4kYSgpLHApO3JldHVybiBmdW5jdGlvbigpe2g9aztiZChjLGQsZSxmKX19cmV0dXJuIGNhfVxuSmQucHJvdG90eXBlLmtiPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXt9O1UoYixmdW5jdGlvbihiLGgpe3ZhciBpPWgua2IoYSxjLGQpO1hiKGksZnVuY3Rpb24oYSxiKXtlW2JdPTM9PT1hPzM6KHVhKGUsYil8fGEpPT09YT9hOjN9KX0pO2MuTSgpfHxjLncoZnVuY3Rpb24oYSl7RChlLGEpfHwoZVthXT00KX0pO3JldHVybiBlfTtmdW5jdGlvbiBRZChhLGIsYyxkLGUpe3ZhciBmPWIucGF0aCgpLGI9YS5rYihmLGIsZCxlKSxoPVEsaT1bXTtYYihiLGZ1bmN0aW9uKGIsbil7dmFyIHA9bmV3IEsobik7Mz09PWJ8fDE9PT1iP2g9aC5HKG4sZC5QKHApKTooMj09PWImJmkucHVzaCh7cGF0aDpmLkYobiksb2E6UX0pLGk9aS5jb25jYXQoUmQoYSxkLlAocCksTChjLHApLGUpKSl9KTtyZXR1cm5be3BhdGg6ZixvYTpofV0uY29uY2F0KGkpfVxuZnVuY3Rpb24gU2QoYSxiLGMsZCl7dmFyIGU7YTp7dmFyIGY9TChhLmthLGIpO2U9Zi5wYXJlbnQoKTtmb3IodmFyIGg9W107ZSE9PWw7KXt2YXIgaT1lLmsoKTtpZihpIT09bCl7aWYoRWQoaSkpe2U9W3twYXRoOmIsb2E6Y31dO2JyZWFrIGF9aT1hLmtiKGIsaSxjLGQpO2Y9Zi5uYW1lKCk7Zj11YShpLGYpO2lmKDM9PT1mfHwxPT09Zil7ZT1be3BhdGg6YixvYTpjfV07YnJlYWsgYX0yPT09ZiYmaC5wdXNoKHtwYXRoOmIsb2E6UX0pfWY9ZTtlPWUucGFyZW50KCl9ZT1ofWlmKDE9PWUubGVuZ3RoJiYoIWVbMF0ub2EuZigpfHxjLmYoKSkpcmV0dXJuIGU7aD1MKGEua2EsYik7Zj1oLmsoKTtmIT09bD9FZChmKT9lLnB1c2goe3BhdGg6YixvYTpjfSk6ZT1lLmNvbmNhdChRZChhLGYsaCxjLGQpKTplPWUuY29uY2F0KFJkKGEsYyxoLGQpKTtyZXR1cm4gZX1cbmZ1bmN0aW9uIFJkKGEsYixjLGQpe3ZhciBlPWMuaygpO2lmKGUhPT1sKXJldHVybiBFZChlKT9be3BhdGg6Yy5wYXRoKCksb2E6Yn1dOlFkKGEsZSxjLGIsZCk7dmFyIGY9W107Yy53KGZ1bmN0aW9uKGMpe3ZhciBlPWIuTSgpP1E6Yi5MKGMubmFtZSgpKSxjPVJkKGEsZSxjLGQpO2Y9Zi5jb25jYXQoYyl9KTtyZXR1cm4gZn07ZnVuY3Rpb24gVGQoYSxiKXtpZighYXx8XCJvYmplY3RcIiE9PXR5cGVvZiBhKXJldHVybiBhO3ooXCIuc3ZcImluIGEsXCJVbmV4cGVjdGVkIGxlYWYgbm9kZSBvciBwcmlvcml0eSBjb250ZW50c1wiKTtyZXR1cm4gYlthW1wiLnN2XCJdXX1mdW5jdGlvbiBVZChhLGIpe3ZhciBjPVRkKGEuaigpLGIpLGQ7aWYoYS5NKCkpe3ZhciBlPVRkKGEuaygpLGIpO3JldHVybiBlIT09YS5rKCl8fGMhPT1hLmooKT9uZXcgYWMoZSxjKTphfWQ9YTtjIT09YS5qKCkmJihkPWQuRWEoYykpO2EudyhmdW5jdGlvbihhLGMpe3ZhciBlPVVkKGMsYik7ZSE9PWMmJihkPWQuRyhhLGUpKX0pO3JldHVybiBkfTtmdW5jdGlvbiBWZChhKXt0aGlzLk89YTt0aGlzLiQ9d2MoYSk7dGhpcy51PW5ldyBWYyh0aGlzLk8sdyh0aGlzLlZiLHRoaXMpLHcodGhpcy5UYix0aGlzKSx3KHRoaXMudWIsdGhpcyksdyh0aGlzLkljLHRoaXMpLHcodGhpcy56Yyx0aGlzKSk7dmFyIGI9dyhmdW5jdGlvbigpe3JldHVybiBuZXcgdGModGhpcy4kLHRoaXMudSl9LHRoaXMpLGE9YS50b1N0cmluZygpO3ZjW2FdfHwodmNbYV09YigpKTt0aGlzLm9kPXZjW2FdO3RoaXMuZWI9bmV3IE5hO3RoaXMuZmI9bmV3IGtkO3RoaXMuZz1uZXcgbGQ7dGhpcy5IPW5ldyBKZCh0aGlzLnUsdGhpcy5nLmxhKTt0aGlzLkJjPW5ldyBrZDt0aGlzLkNjPW5ldyBKZChsLHRoaXMuQmMpO1dkKHRoaXMsXCJjb25uZWN0ZWRcIixvKTtXZCh0aGlzLFwiYXV0aGVudGljYXRlZFwiLG8pO3RoaXMuUT1uZXcgZ2Q7dGhpcy50Yz0wfXQ9VmQucHJvdG90eXBlO1xudC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybih0aGlzLk8uZWM/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSt0aGlzLk8uaG9zdH07dC5uYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTy5zYn07ZnVuY3Rpb24gWGQoYSl7YT1WKGEuQmMsbmV3IEsoXCIuaW5mby9zZXJ2ZXJUaW1lT2Zmc2V0XCIpKS5VKCl8fDA7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCkrYX1mdW5jdGlvbiBZZChhKXthPWE9e3RpbWVzdGFtcDpYZChhKX07YS50aW1lc3RhbXA9YS50aW1lc3RhbXB8fChuZXcgRGF0ZSkuZ2V0VGltZSgpO3JldHVybiBhfVxudC5WYj1mdW5jdGlvbihhLGIsYyl7dGhpcy50YysrO3ZhciBkPVtdO2lmKDk8PWEubGVuZ3RoJiZhLmxhc3RJbmRleE9mKFwiLnByaW9yaXR5XCIpPT09YS5sZW5ndGgtOSlhPW5ldyBLKGEuc3Vic3RyaW5nKDAsYS5sZW5ndGgtOSkpLGM9Vih0aGlzLmcucmEsYSkuRWEoYiksZC5wdXNoKGEpO2Vsc2UgaWYoYyl7dmFyIGE9bmV3IEsoYSksYz1WKHRoaXMuZy5yYSxhKSxlO2ZvcihlIGluIGIpe3ZhciBmPW5ldyBLKGUpLGM9Yy54YShmLFMoYltlXSkpO2QucHVzaChhLkYoZSkpfX1lbHNlIGE9bmV3IEsoYSksYz1TKGIpLGQucHVzaChhKTtiPVNkKHRoaXMuSCxhLGMsdGhpcy5nLkkpO2U9bztmb3IoYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZj1iW2NdLGg9dGhpcy5nLGk9Zi5wYXRoO1coaC5yYSxpLGYub2EpO2U9bWQoaCxpKXx8ZX1lJiYoYT1aZCh0aGlzLGEpKTtZKHRoaXMuSCxhLGQpfTtcbnQuVGI9ZnVuY3Rpb24oYSl7V2QodGhpcyxcImNvbm5lY3RlZFwiLGEpO2lmKGE9PT1vKXt0aGlzLmUoXCJvbkRpc2Nvbm5lY3RFdmVudHNcIik7dmFyIGI9dGhpcyxjPVtdLGQ9WWQodGhpcyksYT1qZCxlPW5ldyBnZDtqZCh0aGlzLlEsbmV3IEsoXCJcIiksZnVuY3Rpb24oYSxiKXtoZChlLGEsVWQoYixkKSl9KTthKGUsbmV3IEsoXCJcIiksZnVuY3Rpb24oYSxkKXt2YXIgZT1TZChiLkgsYSxkLGIuZy5JKTtjLnB1c2guYXBwbHkoYyxiLmcuc2V0KGEsZSkpO2U9JGQoYixhKTtaZChiLGUpO1koYi5ILGUsW2FdKX0pO29kKHRoaXMuZyxjKTt0aGlzLlE9bmV3IGdkfX07dC5JYz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO1diKGEsZnVuY3Rpb24oYSxkKXtXZChiLGQsYSl9KX07dC56Yz1mdW5jdGlvbihhKXthPW5ldyBLKGEpO3JldHVybiBWKHRoaXMuZy5yYSxhKS5oYXNoKCl9O3QudWI9ZnVuY3Rpb24oYSl7V2QodGhpcyxcImF1dGhlbnRpY2F0ZWRcIixhKX07XG5mdW5jdGlvbiBXZChhLGIsYyl7Yj1uZXcgSyhcIi8uaW5mby9cIitiKTtXKGEuQmMsYixTKGMpKTtZKGEuQ2MsYixbYl0pfXQuaGI9ZnVuY3Rpb24oYSxiLGMpe1wiZmlyZWJhc2Vpby1kZW1vLmNvbVwiPT09dGhpcy5PLmRvbWFpbiYmUChcIkZpcmViYXNlUmVmLmF1dGgoKSBub3Qgc3VwcG9ydGVkIG9uIGRlbW8gKCouZmlyZWJhc2Vpby1kZW1vLmNvbSkgRmlyZWJhc2VzLiBQbGVhc2UgdXNlIG9uIHByb2R1Y3Rpb24gKCouZmlyZWJhc2Vpby5jb20pIEZpcmViYXNlcyBvbmx5LlwiKTt0aGlzLnUuaGIoYSxmdW5jdGlvbihhLGMpe2FlKGIsYSxjKX0sZnVuY3Rpb24oYSxiKXtQKFwiYXV0aCgpIHdhcyBjYW5jZWxlZDogXCIrYik7aWYoYyl7dmFyIGY9RXJyb3IoYik7Zi5jb2RlPWEudG9VcHBlckNhc2UoKTtjKGYpfX0pfTt0LktiPWZ1bmN0aW9uKCl7dGhpcy51LktiKCl9O1xudC5iYj1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmUoXCJzZXRcIix7cGF0aDphLnRvU3RyaW5nKCksdmFsdWU6YixpYTpjfSk7dmFyIGU9WWQodGhpcyksYj1TKGIsYyksZT1VZChiLGUpLGU9U2QodGhpcy5ILGEsZSx0aGlzLmcuSSksZj10aGlzLmcuc2V0KGEsZSksaD10aGlzO3RoaXMudS5wdXQoYS50b1N0cmluZygpLGIuVShrKSxmdW5jdGlvbihiKXtcIm9rXCIhPT1iJiZQKFwic2V0IGF0IFwiK2ErXCIgZmFpbGVkOiBcIitiKTtvZChoLmcsZik7bWQoaC5nLGEpO3ZhciBjPVpkKGgsYSk7WShoLkgsYyxbXSk7YWUoZCxiKX0pO2U9JGQodGhpcyxhKTtaZCh0aGlzLGUpO1kodGhpcy5ILGUsW2FdKX07XG50LnVwZGF0ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5lKFwidXBkYXRlXCIse3BhdGg6YS50b1N0cmluZygpLHZhbHVlOmJ9KTt2YXIgZD1WKHRoaXMuZy5sYSxhKSxlPWssZj1bXSxoPVlkKHRoaXMpLGk9W10sbTtmb3IobSBpbiBiKXt2YXIgZT1vLG49UyhiW21dKSxuPVVkKG4saCksZD1kLkcobSxuKSxwPWEuRihtKTtmLnB1c2gocCk7bj1TZCh0aGlzLkgscCxuLHRoaXMuZy5JKTtpPWkuY29uY2F0KHRoaXMuZy5zZXQoYSxuKSl9aWYoZSlOKFwidXBkYXRlKCkgY2FsbGVkIHdpdGggZW1wdHkgZGF0YS4gIERvbid0IGRvIGFueXRoaW5nLlwiKSxhZShjLFwib2tcIik7ZWxzZXt2YXIgcT10aGlzO2VkKHRoaXMudSxcIm1cIixhLnRvU3RyaW5nKCksYixmdW5jdGlvbihiKXt6KFwib2tcIj09PWJ8fFwicGVybWlzc2lvbl9kZW5pZWRcIj09PWIsXCJtZXJnZSBhdCBcIithK1wiIGZhaWxlZC5cIik7XCJva1wiIT09YiYmUChcInVwZGF0ZSBhdCBcIithK1wiIGZhaWxlZDogXCIrYik7b2QocS5nLGkpO21kKHEuZyxhKTt2YXIgZD1cblpkKHEsYSk7WShxLkgsZCxbXSk7YWUoYyxiKX0saik7Yj0kZCh0aGlzLGEpO1pkKHRoaXMsYik7WShxLkgsYixmKX19O3QuT2M9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZShcInNldFByaW9yaXR5XCIse3BhdGg6YS50b1N0cmluZygpLGlhOmJ9KTt2YXIgZD1ZZCh0aGlzKSxkPVRkKGIsZCksZD1WKHRoaXMuZy5JLGEpLkVhKGQpLGQ9U2QodGhpcy5ILGEsZCx0aGlzLmcuSSksZT10aGlzLmcuc2V0KGEsZCksZj10aGlzO3RoaXMudS5wdXQoYS50b1N0cmluZygpK1wiLy5wcmlvcml0eVwiLGIsZnVuY3Rpb24oYSl7b2QoZi5nLGUpO2FlKGMsYSl9KTthPVpkKHRoaXMsYSk7WShmLkgsYSxbXSl9O3QuRmM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3RoaXMudS5GYyhhLnRvU3RyaW5nKCksZnVuY3Rpb24oZCl7XCJva1wiPT09ZCYmaWQoYy5RLGEpO2FlKGIsZCl9KX07XG5mdW5jdGlvbiBiZShhLGIsYyxkKXt2YXIgZT1TKGMpO2NkKGEudSxiLnRvU3RyaW5nKCksZS5VKGspLGZ1bmN0aW9uKGMpe1wib2tcIj09PWMmJmhkKGEuUSxiLGUpO2FlKGQsYyl9KX1mdW5jdGlvbiBjZShhKXtyYyhhLiQsXCJkZXByZWNhdGVkX29uX2Rpc2Nvbm5lY3RcIik7YS5vZC5SYy5kZXByZWNhdGVkX29uX2Rpc2Nvbm5lY3Q9a310Lk1iPWZ1bmN0aW9uKGEsYixjLGQsZSl7XCIuaW5mb1wiPT09RihhLnBhdGgpP3RoaXMuQ2MuTWIoYSxiLGMsZCxlKTp0aGlzLkguTWIoYSxiLGMsZCxlKX07XG50LmNjPWZ1bmN0aW9uKGEsYixjLGQpe2lmKFwiLmluZm9cIj09PUYoYS5wYXRoKSl0aGlzLkNjLmNjKGEsYixjLGQpO2Vsc2V7Yj10aGlzLkguY2MoYSxiLGMsZCk7aWYoYz1iIT09bCl7Zm9yKHZhciBjPXRoaXMuZyxkPWEucGF0aCxlPVtdLGY9MDtmPGIubGVuZ3RoOysrZillW2ZdPVYoYy5yYSxiW2ZdKTtXKGMucmEsZCxRKTtmb3IoZj0wO2Y8Yi5sZW5ndGg7KytmKVcoYy5yYSxiW2ZdLGVbZl0pO2M9bWQoYyxkKX1jJiYoeih0aGlzLmcubGEucWE9PT10aGlzLkguU2IsXCJXZSBzaG91bGQgaGF2ZSByYWlzZWQgYW55IG91dHN0YW5kaW5nIGV2ZW50cyBieSBub3cuICBFbHNlLCB3ZSdsbCBibG93IHRoZW0gYXdheS5cIiksVyh0aGlzLmcubGEsYS5wYXRoLFYodGhpcy5nLkksYS5wYXRoKSksdGhpcy5ILlNiPXRoaXMuZy5sYS5xYSl9fTt0LlZhPWZ1bmN0aW9uKCl7dGhpcy51LlZhKCl9O3QuR2I9ZnVuY3Rpb24oKXt0aGlzLnUuR2IoKX07XG50LlBjPWZ1bmN0aW9uKGEpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSl7YT8odGhpcy5oY3x8KHRoaXMuaGM9bmV3IHNjKHRoaXMuJCkpLGE9dGhpcy5oYy5nZXQoKSk6YT10aGlzLiQuZ2V0KCk7dmFyIGI9YSxjPVtdLGQ9MCxlO2ZvcihlIGluIGIpY1tkKytdPWU7dmFyIGY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gTWF0aC5tYXgoYi5sZW5ndGgsYSl9O2lmKGMucmVkdWNlKWU9Yy5yZWR1Y2UoZiwwKTtlbHNle3ZhciBoPTA7aWIoYyxmdW5jdGlvbihhKXtoPWYuY2FsbChqLGgsYSl9KTtlPWh9Zm9yKHZhciBpIGluIGEpe2I9YVtpXTtmb3IoYz1pLmxlbmd0aDtjPGUrMjtjKyspaSs9XCIgXCI7Y29uc29sZS5sb2coaStiKX19fTt0LlFjPWZ1bmN0aW9uKGEpe3JjKHRoaXMuJCxhKTt0aGlzLm9kLlJjW2FdPWt9O3QuZT1mdW5jdGlvbigpe04oXCJyOlwiK3RoaXMudS5pZCtcIjpcIixhcmd1bWVudHMpfTtcbmZ1bmN0aW9uIGFlKGEsYixjKXthJiYkYihmdW5jdGlvbigpe2lmKFwib2tcIj09YilhKGwsYyk7ZWxzZXt2YXIgZD0oYnx8XCJlcnJvclwiKS50b1VwcGVyQ2FzZSgpLGU9ZDtjJiYoZSs9XCI6IFwiK2MpO2U9RXJyb3IoZSk7ZS5jb2RlPWQ7YShlKX19KX07ZnVuY3Rpb24gZGUoYSxiKXt2YXIgYz1ifHxhLmViO2J8fGVlKGEsYyk7aWYoYy5rKCkhPT1sKXt2YXIgZD1mZShhLGMpO3ooMDxkLmxlbmd0aCk7aWYoMiE9PWRbMF0uc3RhdHVzJiY0IT09ZFswXS5zdGF0dXMpe2Zvcih2YXIgZT1jLnBhdGgoKSxmPTA7ZjxkLmxlbmd0aDtmKyspeigxPT09ZFtmXS5zdGF0dXMsXCJ0cnlUb1NlbmRUcmFuc2FjdGlvblF1ZXVlXzogaXRlbXMgaW4gcXVldWUgc2hvdWxkIGFsbCBiZSBydW4uXCIpLGRbZl0uc3RhdHVzPTIsZFtmXS5tZCsrO2M9VihhLmcuSSxlKS5oYXNoKCk7VyhhLmcuSSxlLFYoYS5nLmxhLGUpKTtmb3IodmFyIGg9VihhLmZiLGUpLlUoayksaT1IYigpLG09e30sbj0wO248ZC5sZW5ndGg7bisrKWRbbl0ubmMmJihtW2Rbbl0ucGF0aC50b1N0cmluZygpXT1kW25dLnBhdGgpO3ZhciBwPVtdLHE7Zm9yKHEgaW4gbSlwLnB1c2gobVtxXSk7Zm9yKGY9MDtmPHAubGVuZ3RoO2YrKylNKEwoYS5nLkFiLHBbZl0pLGkpO2EudS5wdXQoZS50b1N0cmluZygpLFxuaCxmdW5jdGlvbihiKXthLmUoXCJ0cmFuc2FjdGlvbiBwdXQgcmVzcG9uc2VcIix7cGF0aDplLnRvU3RyaW5nKCksc3RhdHVzOmJ9KTtmb3IoZj0wO2Y8cC5sZW5ndGg7ZisrKXt2YXIgYz1MKGEuZy5BYixwW2ZdKSxoPWMuaygpO3ooaCE9PWwsXCJzZW5kVHJhbnNhY3Rpb25RdWV1ZV86IHBlbmRpbmdQdXQgc2hvdWxkIG5vdCBiZSBudWxsLlwiKTtoPT09aSYmKE0oYyxsKSxXKGEuZy5JLHBbZl0sVihhLmcucmEscFtmXSkpKX1pZihcIm9rXCI9PT1iKXtiPVtdO2ZvcihmPTA7ZjxkLmxlbmd0aDtmKyspZFtmXS5zdGF0dXM9MyxkW2ZdLkMmJihjPWdlKGEsZFtmXS5wYXRoKSxiLnB1c2godyhkW2ZdLkMsbCxsLGssYykpKSxkW2ZdLmtjKCk7ZWUoYSxMKGEuZWIsZSkpO2RlKGEpO2ZvcihmPTA7ZjxiLmxlbmd0aDtmKyspJGIoYltmXSl9ZWxzZXtpZihcImRhdGFzdGFsZVwiPT09Yilmb3IoZj0wO2Y8ZC5sZW5ndGg7ZisrKWRbZl0uc3RhdHVzPTQ9PT1kW2ZdLnN0YXR1cz81OjE7ZWxzZXtQKFwidHJhbnNhY3Rpb24gYXQgXCIrXG5lK1wiIGZhaWxlZDogXCIrYik7Zm9yKGY9MDtmPGQubGVuZ3RoO2YrKylkW2ZdLnN0YXR1cz01LGRbZl0ubGM9Yn1iPVpkKGEsZSk7WShhLkgsYixbZV0pfX0sYyl9fWVsc2UgYy5sYigpJiZjLncoZnVuY3Rpb24oYil7ZGUoYSxiKX0pfVxuZnVuY3Rpb24gWmQoYSxiKXt2YXIgYz1oZShhLGIpLGQ9Yy5wYXRoKCksZT1mZShhLGMpO1coYS5nLmxhLGQsVihhLmcuSSxkKSk7VyhhLmZiLGQsVihhLmcuSSxkKSk7aWYoMCE9PWUubGVuZ3RoKXtmb3IodmFyIGY9Yz1WKGEuZy5sYSxkKSxoPVtdLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG09TGEoZCxlW2ldLnBhdGgpLG49byxwO3oobSE9PWwsXCJyZXJ1blRyYW5zYWN0aW9uc1VuZGVyTm9kZV86IHJlbGF0aXZlUGF0aCBzaG91bGQgbm90IGJlIG51bGwuXCIpO2lmKDU9PT1lW2ldLnN0YXR1cyluPWsscD1lW2ldLmxjO2Vsc2UgaWYoMT09PWVbaV0uc3RhdHVzKWlmKDI1PD1lW2ldLm1kKW49ayxwPVwibWF4cmV0cnlcIjtlbHNle3ZhciBxPWVbaV0udXBkYXRlKGMuUChtKS5VKCkpO3UocSk/KHphKFwidHJhbnNhY3Rpb24gZmFpbGVkOiBEYXRhIHJldHVybmVkIFwiLHEpLHE9UyhxKSxjPWMueGEobSxxKSxlW2ldLm5jJiYoZj1mLnhhKG0scSkpKToobj1rLHA9XCJub2RhdGFcIil9biYmKGVbaV0uc3RhdHVzPVxuMyxzZXRUaW1lb3V0KGVbaV0ua2MsMCksZVtpXS5DJiYobj1uZXcgSihhLGVbaV0ucGF0aCksbT1uZXcgVChjLlAobSksbiksXCJub2RhdGFcIj09PXA/aC5wdXNoKHcoZVtpXS5DLGwsbCxvLG0pKTpoLnB1c2godyhlW2ldLkMsbCxFcnJvcihwKSxvLG0pKSkpfXA9VihhLmcuSSxkKS5qKCk7Yz1jLkVhKHApO2Y9Zi5FYShwKTtXKGEuZmIsZCxjKTtXKGEuZy5sYSxkLGYpO2VlKGEsYS5lYik7Zm9yKGk9MDtpPGgubGVuZ3RoO2krKykkYihoW2ldKTtkZShhKX1yZXR1cm4gZH1mdW5jdGlvbiBoZShhLGIpe2Zvcih2YXIgYyxkPWEuZWI7KGM9RihiKSkhPT1sJiZkLmsoKT09PWw7KWQ9TChkLGMpLGI9S2EoYik7cmV0dXJuIGR9ZnVuY3Rpb24gZmUoYSxiKXt2YXIgYz1bXTtpZShhLGIsYyk7Yy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuZ2QtYi5nZH0pO3JldHVybiBjfVxuZnVuY3Rpb24gaWUoYSxiLGMpe3ZhciBkPWIuaygpO2lmKGQhPT1sKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKWMucHVzaChkW2VdKTtiLncoZnVuY3Rpb24oYil7aWUoYSxiLGMpfSl9ZnVuY3Rpb24gZWUoYSxiKXt2YXIgYz1iLmsoKTtpZihjKXtmb3IodmFyIGQ9MCxlPTA7ZTxjLmxlbmd0aDtlKyspMyE9PWNbZV0uc3RhdHVzJiYoY1tkXT1jW2VdLGQrKyk7Yy5sZW5ndGg9ZDtNKGIsMDxjLmxlbmd0aD9jOmwpfWIudyhmdW5jdGlvbihiKXtlZShhLGIpfSl9ZnVuY3Rpb24gJGQoYSxiKXt2YXIgYz1oZShhLGIpLnBhdGgoKSxkPUwoYS5lYixiKTtRYShkLGZ1bmN0aW9uKGEpe2plKGEpfSk7amUoZCk7UGEoZCxmdW5jdGlvbihhKXtqZShhKX0pO3JldHVybiBjfVxuZnVuY3Rpb24gamUoYSl7dmFyIGI9YS5rKCk7aWYoYiE9PWwpe2Zvcih2YXIgYz1bXSxkPS0xLGU9MDtlPGIubGVuZ3RoO2UrKyk0IT09YltlXS5zdGF0dXMmJigyPT09YltlXS5zdGF0dXM/KHooZD09PWUtMSxcIkFsbCBTRU5UIGl0ZW1zIHNob3VsZCBiZSBhdCBiZWdpbm5pbmcgb2YgcXVldWUuXCIpLGQ9ZSxiW2VdLnN0YXR1cz00LGJbZV0ubGM9XCJzZXRcIik6KHooMT09PWJbZV0uc3RhdHVzKSxiW2VdLmtjKCksYltlXS5DJiZjLnB1c2godyhiW2VdLkMsbCxFcnJvcihcInNldFwiKSxvLGwpKSkpOy0xPT09ZD9NKGEsbCk6Yi5sZW5ndGg9ZCsxO2ZvcihlPTA7ZTxjLmxlbmd0aDtlKyspJGIoY1tlXSl9fWZ1bmN0aW9uIGdlKGEsYil7dmFyIGM9bmV3IEooYSxiKTtyZXR1cm4gbmV3IFQoVihhLmZiLGIpLGMpfTtmdW5jdGlvbiBrZSgpe3RoaXMuYWI9e319ZGEoa2UpO2tlLnByb3RvdHlwZS5WYT1mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLmFiKXRoaXMuYWJbYV0uVmEoKX07a2UucHJvdG90eXBlLmludGVycnVwdD1rZS5wcm90b3R5cGUuVmE7a2UucHJvdG90eXBlLkdiPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYWIpdGhpcy5hYlthXS5HYigpfTtrZS5wcm90b3R5cGUucmVzdW1lPWtlLnByb3RvdHlwZS5HYjt2YXIgWj17QmQ6ZnVuY3Rpb24oYSl7dmFyIGI9Ui5wcm90b3R5cGUuaGFzaDtSLnByb3RvdHlwZS5oYXNoPWE7dmFyIGM9YWMucHJvdG90eXBlLmhhc2g7YWMucHJvdG90eXBlLmhhc2g9YTtyZXR1cm4gZnVuY3Rpb24oKXtSLnByb3RvdHlwZS5oYXNoPWI7YWMucHJvdG90eXBlLmhhc2g9Y319fTtaLmhpamFja0hhc2g9Wi5CZDtaLkthPWZ1bmN0aW9uKGEpe3JldHVybiBhLkthKCl9O1oucXVlcnlJZGVudGlmaWVyPVouS2E7Wi5EZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5uLnUuZ2F9O1oubGlzdGVucz1aLkRkO1ouTGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEubi51LmJhfTtaLnJlZkNvbm5lY3Rpb249Wi5MZDtaLnFkPVZjO1ouRGF0YUNvbm5lY3Rpb249Wi5xZDtWYy5wcm90b3R5cGUuc2VuZFJlcXVlc3Q9VmMucHJvdG90eXBlLkRhO1ZjLnByb3RvdHlwZS5pbnRlcnJ1cHQ9VmMucHJvdG90eXBlLlZhO1oucmQ9TmM7Wi5SZWFsVGltZUNvbm5lY3Rpb249Wi5yZDtcbk5jLnByb3RvdHlwZS5zZW5kUmVxdWVzdD1OYy5wcm90b3R5cGUuTmM7TmMucHJvdG90eXBlLmNsb3NlPU5jLnByb3RvdHlwZS5jbG9zZTtaLnBkPXFiO1ouQ29ubmVjdGlvblRhcmdldD1aLnBkO1ouemQ9ZnVuY3Rpb24oKXtHYz16Yz1rfTtaLmZvcmNlTG9uZ1BvbGxpbmc9Wi56ZDtaLkFkPWZ1bmN0aW9uKCl7SGM9a307Wi5mb3JjZVdlYlNvY2tldHM9Wi5BZDtaLlJkPWZ1bmN0aW9uKGEsYil7YS5uLnUuTWM9Yn07Wi5zZXRTZWN1cml0eURlYnVnQ2FsbGJhY2s9Wi5SZDtaLlBjPWZ1bmN0aW9uKGEsYil7YS5uLlBjKGIpfTtaLnN0YXRzPVouUGM7Wi5RYz1mdW5jdGlvbihhLGIpe2Eubi5RYyhiKX07Wi5zdGF0c0luY3JlbWVudENvdW50ZXI9Wi5RYztaLnRjPWZ1bmN0aW9uKGEpe3JldHVybiBhLm4udGN9O2Z1bmN0aW9uICQoYSxiLGMpe3RoaXMuRWI9YTt0aGlzLlI9Yjt0aGlzLkNhPWN9JC5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKGEpe0EoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5jYW5jZWxcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCk7QyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLmNhbmNlbFwiLDEsYSxrKTt0aGlzLkViLkZjKHRoaXMuUixhKX07JC5wcm90b3R5cGUuY2FuY2VsPSQucHJvdG90eXBlLmNhbmNlbDskLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7QShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnJlbW92ZVwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtFKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsdGhpcy5SKTtDKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsMSxhLGspO2JlKHRoaXMuRWIsdGhpcy5SLGwsYSl9OyQucHJvdG90eXBlLnJlbW92ZT0kLnByb3RvdHlwZS5yZW1vdmU7XG4kLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXtBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO0UoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIix0aGlzLlIpO3lhKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsYSxvKTtDKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsMixiLGspO2JlKHRoaXMuRWIsdGhpcy5SLGEsYil9OyQucHJvdG90eXBlLnNldD0kLnByb3RvdHlwZS5zZXQ7XG4kLnByb3RvdHlwZS5iYj1mdW5jdGlvbihhLGIsYyl7QShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKTtFKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsdGhpcy5SKTt5YShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLGEsbyk7RGEoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIiwyLGIsbyk7QyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDMsYyxrKTsoXCIubGVuZ3RoXCI9PT10aGlzLkNhfHxcIi5rZXlzXCI9PT10aGlzLkNhKSYmZyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eSBmYWlsZWQ6IFwiK3RoaXMuQ2ErXCIgaXMgYSByZWFkLW9ubHkgb2JqZWN0LlwiKTt2YXIgZD10aGlzLkViLGU9dGhpcy5SLGY9UyhhLGIpO2NkKGQudSxlLnRvU3RyaW5nKCksZi5VKGspLGZ1bmN0aW9uKGEpe1wib2tcIj09PVxuYSYmaGQoZC5RLGUsZik7YWUoYyxhKX0pfTskLnByb3RvdHlwZS5zZXRXaXRoUHJpb3JpdHk9JC5wcm90b3R5cGUuYmI7XG4kLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSxiKXtBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO0UoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIix0aGlzLlIpO0NhKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlXCIsYSk7QyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLDIsYixrKTt2YXIgYz10aGlzLkViLGQ9dGhpcy5SLGU9ayxmO2ZvcihmIGluIGEpZT1vO2lmKGUpTihcIm9uRGlzY29ubmVjdCgpLnVwZGF0ZSgpIGNhbGxlZCB3aXRoIGVtcHR5IGRhdGEuICBEb24ndCBkbyBhbnl0aGluZy5cIiksYWUoYixrKTtlbHNle2U9Yy51O2Y9ZC50b1N0cmluZygpO3ZhciBoPWZ1bmN0aW9uKGUpe2lmKFwib2tcIj09PWUpZm9yKHZhciBmIGluIGEpe3ZhciBoPVMoYVtmXSk7aGQoYy5RLGQuRihmKSxoKX1hZShiLGUpfTtlLlY/ZGQoZSxcIm9tXCIsZixhLGgpOmUudmIucHVzaCh7S2M6ZixhY3Rpb246XCJvbVwiLFxuZGF0YTphLEM6aH0pfX07JC5wcm90b3R5cGUudXBkYXRlPSQucHJvdG90eXBlLnVwZGF0ZTt2YXIgbGUsbWU9MCxuZT1bXTtsZT1mdW5jdGlvbihhKXt2YXIgYj1hPT09bWU7bWU9YTtmb3IodmFyIGM9QXJyYXkoOCksZD03OzA8PWQ7ZC0tKWNbZF09XCItMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaX2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuY2hhckF0KGElNjQpLGE9TWF0aC5mbG9vcihhLzY0KTt6KDA9PT1hKTthPWMuam9pbihcIlwiKTtpZihiKXtmb3IoZD0xMTswPD1kJiY2Mz09PW5lW2RdO2QtLSluZVtkXT0wO25lW2RdKyt9ZWxzZSBmb3IoZD0wOzEyPmQ7ZCsrKW5lW2RdPU1hdGguZmxvb3IoNjQqTWF0aC5yYW5kb20oKSk7Zm9yKGQ9MDsxMj5kO2QrKylhKz1cIi0wMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpfYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIi5jaGFyQXQobmVbZF0pO3ooMjA9PT1hLmxlbmd0aCxcIk5leHRQdXNoSWQ6IExlbmd0aCBzaG91bGQgYmUgMjAuXCIpO3JldHVybiBhfTtmdW5jdGlvbiBKKCl7dmFyIGEsYixjO2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgVmQpYz1hcmd1bWVudHNbMF0sYT1hcmd1bWVudHNbMV07ZWxzZXtBKFwibmV3IEZpcmViYXNlXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO3ZhciBkPWFyZ3VtZW50c1swXTtiPWE9XCJcIjt2YXIgZT1rLGY9XCJcIjtpZih2KGQpKXt2YXIgaD1kLmluZGV4T2YoXCIvL1wiKTtpZigwPD1oKXZhciBpPWQuc3Vic3RyaW5nKDAsaC0xKSxkPWQuc3Vic3RyaW5nKGgrMik7aD1kLmluZGV4T2YoXCIvXCIpOy0xPT09aCYmKGg9ZC5sZW5ndGgpO2E9ZC5zdWJzdHJpbmcoMCxoKTt2YXIgZD1kLnN1YnN0cmluZyhoKzEpLG09YS5zcGxpdChcIi5cIik7aWYoMz09bS5sZW5ndGgpe2g9bVsyXS5pbmRleE9mKFwiOlwiKTtlPTA8PWg/XCJodHRwc1wiPT09aTprO2lmKFwiZmlyZWJhc2VcIj09PW1bMV0pUWIoYStcIiBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIDxZT1VSIEZJUkVCQVNFPi5maXJlYmFzZWlvLmNvbSBpbnN0ZWFkXCIpO1xuZWxzZXtiPW1bMF07Zj1cIlwiO2Q9KFwiL1wiK2QpLnNwbGl0KFwiL1wiKTtmb3IoaT0wO2k8ZC5sZW5ndGg7aSsrKWlmKDA8ZFtpXS5sZW5ndGgpe2g9ZFtpXTt0cnl7aD1kZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cXCsvZyxcIiBcIikpfWNhdGNoKG4pe31mKz1cIi9cIitofX1iPWIudG9Mb3dlckNhc2UoKX1lbHNlIGI9bH1lfHxcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5sb2NhdGlvbiYmd2luZG93LmxvY2F0aW9uLnByb3RvY29sJiYtMSE9PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKFwiaHR0cHM6XCIpKSYmUChcIkluc2VjdXJlIEZpcmViYXNlIGFjY2VzcyBmcm9tIGEgc2VjdXJlIHBhZ2UuIFBsZWFzZSB1c2UgaHR0cHMgaW4gY2FsbHMgdG8gbmV3IEZpcmViYXNlKCkuXCIpO2E9bmV3IHFiKGEsZSxiKTtiPW5ldyBLKGYpO2U9Yi50b1N0cmluZygpO2lmKCEoZD0hdihhLmhvc3QpKSlpZighKGQ9MD09PWEuaG9zdC5sZW5ndGgpKWlmKCEoZD0heGEoYS5zYikpKWlmKGQ9XG4wIT09ZS5sZW5ndGgpZSYmKGU9ZS5yZXBsYWNlKC9eXFwvKlxcLmluZm8oXFwvfCQpLyxcIi9cIikpLGQ9ISh2KGUpJiYwIT09ZS5sZW5ndGgmJiF3YS50ZXN0KGUpKTtkJiZnKEVycm9yKEIoXCJuZXcgRmlyZWJhc2VcIiwxLG8pKydtdXN0IGJlIGEgdmFsaWQgZmlyZWJhc2UgVVJMIGFuZCB0aGUgcGF0aCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCJbXCIsIG9yIFwiXVwiLicpKTthcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdaW5zdGFuY2VvZiBrZT9jPWFyZ3VtZW50c1sxXTpnKEVycm9yKFwiRXhwZWN0ZWQgYSB2YWxpZCBGaXJlYmFzZS5Db250ZXh0IGZvciBzZWNvbmQgYXJndW1lbnQgdG8gbmV3IEZpcmViYXNlKClcIikpOmM9a2UueWMoKTtlPWEudG9TdHJpbmcoKTtkPXVhKGMuYWIsZSk7ZHx8KGQ9bmV3IFZkKGEpLGMuYWJbZV09ZCk7Yz1kO2E9Yn1ILmNhbGwodGhpcyxjLGEpfWthKEosSCk7dmFyIG9lPUoscGU9W1wiRmlyZWJhc2VcIl0scWU9YmE7XG4hKHBlWzBdaW4gcWUpJiZxZS5leGVjU2NyaXB0JiZxZS5leGVjU2NyaXB0KFwidmFyIFwiK3BlWzBdKTtmb3IodmFyIHJlO3BlLmxlbmd0aCYmKHJlPXBlLnNoaWZ0KCkpOykhcGUubGVuZ3RoJiZ1KG9lKT9xZVtyZV09b2U6cWU9cWVbcmVdP3FlW3JlXTpxZVtyZV09e307Si5wcm90b3R5cGUubmFtZT1mdW5jdGlvbigpe0EoXCJGaXJlYmFzZS5uYW1lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLnBhdGguZigpP2w6dGhpcy5wYXRoLlo8dGhpcy5wYXRoLm0ubGVuZ3RoP3RoaXMucGF0aC5tW3RoaXMucGF0aC5tLmxlbmd0aC0xXTpsfTtKLnByb3RvdHlwZS5uYW1lPUoucHJvdG90eXBlLm5hbWU7XG5KLnByb3RvdHlwZS5GPWZ1bmN0aW9uKGEpe0EoXCJGaXJlYmFzZS5jaGlsZFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZihnYShhKSlhPVN0cmluZyhhKTtlbHNlIGlmKCEoYSBpbnN0YW5jZW9mIEspKWlmKEYodGhpcy5wYXRoKT09PWwpe3ZhciBiPWE7YiYmKGI9Yi5yZXBsYWNlKC9eXFwvKlxcLmluZm8oXFwvfCQpLyxcIi9cIikpO0dhKFwiRmlyZWJhc2UuY2hpbGRcIixiKX1lbHNlIEdhKFwiRmlyZWJhc2UuY2hpbGRcIixhKTtyZXR1cm4gbmV3IEoodGhpcy5uLHRoaXMucGF0aC5GKGEpKX07Si5wcm90b3R5cGUuY2hpbGQ9Si5wcm90b3R5cGUuRjtKLnByb3RvdHlwZS5wYXJlbnQ9ZnVuY3Rpb24oKXtBKFwiRmlyZWJhc2UucGFyZW50XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3ZhciBhPXRoaXMucGF0aC5wYXJlbnQoKTtyZXR1cm4gYT09PWw/bDpuZXcgSih0aGlzLm4sYSl9O0oucHJvdG90eXBlLnBhcmVudD1KLnByb3RvdHlwZS5wYXJlbnQ7XG5KLnByb3RvdHlwZS5yb290PWZ1bmN0aW9uKCl7QShcIkZpcmViYXNlLnJlZlwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIGE9dGhpczthLnBhcmVudCgpIT09bDspYT1hLnBhcmVudCgpO3JldHVybiBhfTtKLnByb3RvdHlwZS5yb290PUoucHJvdG90eXBlLnJvb3Q7Si5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtBKFwiRmlyZWJhc2UudG9TdHJpbmdcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7dmFyIGE7aWYodGhpcy5wYXJlbnQoKT09PWwpYT10aGlzLm4udG9TdHJpbmcoKTtlbHNle2E9dGhpcy5wYXJlbnQoKS50b1N0cmluZygpK1wiL1wiO3ZhciBiPXRoaXMubmFtZSgpO2ErPWVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoYikpfXJldHVybiBhfTtKLnByb3RvdHlwZS50b1N0cmluZz1KLnByb3RvdHlwZS50b1N0cmluZztcbkoucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe0EoXCJGaXJlYmFzZS5zZXRcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7RShcIkZpcmViYXNlLnNldFwiLHRoaXMucGF0aCk7eWEoXCJGaXJlYmFzZS5zZXRcIixhLG8pO0MoXCJGaXJlYmFzZS5zZXRcIiwyLGIsayk7cmV0dXJuIHRoaXMubi5iYih0aGlzLnBhdGgsYSxsLGIpfTtKLnByb3RvdHlwZS5zZXQ9Si5wcm90b3R5cGUuc2V0O0oucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe0EoXCJGaXJlYmFzZS51cGRhdGVcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7RShcIkZpcmViYXNlLnVwZGF0ZVwiLHRoaXMucGF0aCk7Q2EoXCJGaXJlYmFzZS51cGRhdGVcIixhKTtDKFwiRmlyZWJhc2UudXBkYXRlXCIsMixiLGspO3JldHVybiB0aGlzLm4udXBkYXRlKHRoaXMucGF0aCxhLGIpfTtKLnByb3RvdHlwZS51cGRhdGU9Si5wcm90b3R5cGUudXBkYXRlO1xuSi5wcm90b3R5cGUuYmI9ZnVuY3Rpb24oYSxiLGMpe0EoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwyLDMsYXJndW1lbnRzLmxlbmd0aCk7RShcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLHRoaXMucGF0aCk7eWEoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIixhLG8pO0RhKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsMixiLG8pO0MoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwzLGMsayk7KFwiLmxlbmd0aFwiPT09dGhpcy5uYW1lKCl8fFwiLmtleXNcIj09PXRoaXMubmFtZSgpKSYmZyhcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eSBmYWlsZWQ6IFwiK3RoaXMubmFtZSgpK1wiIGlzIGEgcmVhZC1vbmx5IG9iamVjdC5cIik7cmV0dXJuIHRoaXMubi5iYih0aGlzLnBhdGgsYSxiLGMpfTtKLnByb3RvdHlwZS5zZXRXaXRoUHJpb3JpdHk9Si5wcm90b3R5cGUuYmI7XG5KLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7QShcIkZpcmViYXNlLnJlbW92ZVwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtFKFwiRmlyZWJhc2UucmVtb3ZlXCIsdGhpcy5wYXRoKTtDKFwiRmlyZWJhc2UucmVtb3ZlXCIsMSxhLGspO3RoaXMuc2V0KGwsYSl9O0oucHJvdG90eXBlLnJlbW92ZT1KLnByb3RvdHlwZS5yZW1vdmU7XG5KLnByb3RvdHlwZS50cmFuc2FjdGlvbj1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe31BKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwxLDMsYXJndW1lbnRzLmxlbmd0aCk7RShcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsdGhpcy5wYXRoKTtDKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwxLGEsbyk7QyhcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMixiLGspO3UoYykmJlwiYm9vbGVhblwiIT10eXBlb2YgYyYmZyhFcnJvcihCKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwzLGspK1wibXVzdCBiZSBhIGJvb2xlYW4uXCIpKTsoXCIubGVuZ3RoXCI9PT10aGlzLm5hbWUoKXx8XCIua2V5c1wiPT09dGhpcy5uYW1lKCkpJiZnKFwiRmlyZWJhc2UudHJhbnNhY3Rpb24gZmFpbGVkOiBcIit0aGlzLm5hbWUoKStcIiBpcyBhIHJlYWQtb25seSBvYmplY3QuXCIpO1widW5kZWZpbmVkXCI9PT10eXBlb2YgYyYmKGM9ayk7dmFyIGU9dGhpcy5uLGY9dGhpcy5wYXRoLGg9YztlLmUoXCJ0cmFuc2FjdGlvbiBvbiBcIitmKTt2YXIgaT1cbm5ldyBKKGUsZik7aS5ZYShcInZhbHVlXCIsZCk7dmFyIGg9e3BhdGg6Zix1cGRhdGU6YSxDOmIsc3RhdHVzOmwsZ2Q6SGIoKSxuYzpoLG1kOjAsa2M6ZnVuY3Rpb24oKXtpLnRiKFwidmFsdWVcIixkKX0sbGM6bH0sbT1oLnVwZGF0ZShWKGUuZmIsZikuVSgpKTtpZih1KG0pKXt6YShcInRyYW5zYWN0aW9uIGZhaWxlZDogRGF0YSByZXR1cm5lZCBcIixtKTtoLnN0YXR1cz0xO3ZhciBuPUwoZS5lYixmKSxwPW4uaygpfHxbXTtwLnB1c2goaCk7TShuLHApO249XCJvYmplY3RcIj09PXR5cGVvZiBtJiZEKG0sXCIucHJpb3JpdHlcIik/bVtcIi5wcmlvcml0eVwiXTpWKGUuZy5JLGYpLmooKTtXKGUuZmIsZixTKG0sbikpO2gubmMmJihXKGUuZy5sYSxmLFMobSxuKSksWShlLkgsZixbZl0pKTtkZShlKX1lbHNlIGgua2MoKSxoLkMmJihlPWdlKGUsZiksaC5DKGwsbyxlKSl9O0oucHJvdG90eXBlLnRyYW5zYWN0aW9uPUoucHJvdG90eXBlLnRyYW5zYWN0aW9uO1xuSi5wcm90b3R5cGUuT2M9ZnVuY3Rpb24oYSxiKXtBKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7RShcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsdGhpcy5wYXRoKTtEYShcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsMSxhLG8pO0MoXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLDIsYixrKTt0aGlzLm4uT2ModGhpcy5wYXRoLGEsYil9O0oucHJvdG90eXBlLnNldFByaW9yaXR5PUoucHJvdG90eXBlLk9jO0oucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oYSxiKXtBKFwiRmlyZWJhc2UucHVzaFwiLDAsMixhcmd1bWVudHMubGVuZ3RoKTtFKFwiRmlyZWJhc2UucHVzaFwiLHRoaXMucGF0aCk7eWEoXCJGaXJlYmFzZS5wdXNoXCIsYSxrKTtDKFwiRmlyZWJhc2UucHVzaFwiLDIsYixrKTt2YXIgYz1YZCh0aGlzLm4pLGM9bGUoYyksYz10aGlzLkYoYyk7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhJiZhIT09bCYmYy5zZXQoYSxiKTtyZXR1cm4gY307Si5wcm90b3R5cGUucHVzaD1KLnByb3RvdHlwZS5wdXNoO1xuSi5wcm90b3R5cGUuaGE9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3ICQodGhpcy5uLHRoaXMucGF0aCx0aGlzLm5hbWUoKSl9O0oucHJvdG90eXBlLm9uRGlzY29ubmVjdD1KLnByb3RvdHlwZS5oYTtKLnByb3RvdHlwZS5NZD1mdW5jdGlvbigpe1AoXCJGaXJlYmFzZVJlZi5yZW1vdmVPbkRpc2Nvbm5lY3QoKSBiZWluZyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIEZpcmViYXNlUmVmLm9uRGlzY29ubmVjdCgpLnJlbW92ZSgpIGluc3RlYWQuXCIpO3RoaXMuaGEoKS5yZW1vdmUoKTtjZSh0aGlzLm4pfTtKLnByb3RvdHlwZS5yZW1vdmVPbkRpc2Nvbm5lY3Q9Si5wcm90b3R5cGUuTWQ7Si5wcm90b3R5cGUuUWQ9ZnVuY3Rpb24oYSl7UChcIkZpcmViYXNlUmVmLnNldE9uRGlzY29ubmVjdCh2YWx1ZSkgYmVpbmcgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBGaXJlYmFzZVJlZi5vbkRpc2Nvbm5lY3QoKS5zZXQodmFsdWUpIGluc3RlYWQuXCIpO3RoaXMuaGEoKS5zZXQoYSk7Y2UodGhpcy5uKX07XG5KLnByb3RvdHlwZS5zZXRPbkRpc2Nvbm5lY3Q9Si5wcm90b3R5cGUuUWQ7Si5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSxiLGMpe0EoXCJGaXJlYmFzZS5hdXRoXCIsMSwzLGFyZ3VtZW50cy5sZW5ndGgpO3YoYSl8fGcoRXJyb3IoQihcIkZpcmViYXNlLmF1dGhcIiwxLG8pK1wibXVzdCBiZSBhIHZhbGlkIGNyZWRlbnRpYWwgKGEgc3RyaW5nKS5cIikpO0MoXCJGaXJlYmFzZS5hdXRoXCIsMixiLGspO0MoXCJGaXJlYmFzZS5hdXRoXCIsMyxiLGspO3RoaXMubi5oYihhLGIsYyl9O0oucHJvdG90eXBlLmF1dGg9Si5wcm90b3R5cGUuaGI7Si5wcm90b3R5cGUuS2I9ZnVuY3Rpb24oKXt0aGlzLm4uS2IoKX07Si5wcm90b3R5cGUudW5hdXRoPUoucHJvdG90eXBlLktiO1xuZnVuY3Rpb24gTmIoYSxiKXt6KCFifHxhPT09a3x8YT09PW8sXCJDYW4ndCB0dXJuIG9uIGN1c3RvbSBsb2dnZXJzIHBlcnNpc3RlbnRseS5cIik7YT09PWs/KFwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSYmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBjb25zb2xlLmxvZz9MYj13KGNvbnNvbGUubG9nLGNvbnNvbGUpOlwib2JqZWN0XCI9PT10eXBlb2YgY29uc29sZS5sb2cmJihMYj1mdW5jdGlvbihhKXtjb25zb2xlLmxvZyhhKX0pKSxiJiZvYi5zZXRJdGVtKFwibG9nZ2luZ19lbmFibGVkXCIsXCJ0cnVlXCIpKTphP0xiPWE6KExiPWwsb2IucmVtb3ZlSXRlbShcImxvZ2dpbmdfZW5hYmxlZFwiKSl9Si5lbmFibGVMb2dnaW5nPU5iO0ouU2VydmVyVmFsdWU9e1RJTUVTVEFNUDp7XCIuc3ZcIjpcInRpbWVzdGFtcFwifX07Si5JTlRFUk5BTD1aO0ouQ29udGV4dD1rZTt9KSgpO1xubW9kdWxlLmV4cG9ydHMgPSBGaXJlYmFzZTtcbiJdfQ==
